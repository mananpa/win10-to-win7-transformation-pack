/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var I=["require","exports","vs/base/common/platform","vs/base/common/extpath","vs/base/common/strings","vs/base/common/network","vs/base/common/uri","vs/base/common/path","vs/base/common/resources","vs/base/common/types","vs/workbench/contrib/output/common/outputLinkComputer","vs/editor/common/core/range"],S=function(L){for(var e=[],u=0,g=L.length;u<g;u++)e[u]=I[L[u]];return e};define(I[3],S([0,1,7,2,4,9]),function(L,e,u,g,c,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomPath=e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function U(i){return i===47||i===92}e.isPathSeparator=U;function w(i){return i.replace(/[\\/]/g,u.posix.sep)}e.toSlashes=w;function a(i){return i.indexOf("/")===-1&&(i=w(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=a;function l(i,s=u.posix.sep){if(!i)return"";const d=i.length,A=i.charCodeAt(0);if(U(A)){if(U(i.charCodeAt(1))&&!U(i.charCodeAt(2))){let C=3;const N=C;for(;C<d&&!U(i.charCodeAt(C));C++);if(N!==C&&!U(i.charCodeAt(C+1))){for(C+=1;C<d;C++)if(U(i.charCodeAt(C)))return i.slice(0,C+1).replace(/[\\/]/g,s)}}return s}else if(h(A)&&i.charCodeAt(1)===58)return U(i.charCodeAt(2))?i.slice(0,2)+s:i.slice(0,2);let b=i.indexOf("://");if(b!==-1){for(b+=3;b<d;b++)if(U(i.charCodeAt(b)))return i.slice(0,b+1)}return""}e.getRoot=l;function P(i){if(!g.isWindows||!i||i.length<5)return!1;let s=i.charCodeAt(0);if(s!==92||(s=i.charCodeAt(1),s!==92))return!1;let d=2;const A=d;for(;d<i.length&&(s=i.charCodeAt(d),s!==92);d++);return!(A===d||(s=i.charCodeAt(d+1),isNaN(s)||s===92))}e.isUNC=P;const y=/[\\/:\*\?"<>\|]/g,m=/[\\/]/g,o=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(i,s=g.isWindows){const d=s?y:m;return!(!i||i.length===0||/^\s+$/.test(i)||(d.lastIndex=0,d.test(i))||s&&o.test(i)||i==="."||i===".."||s&&i[i.length-1]==="."||s&&i.length!==i.trim().length||i.length>255)}e.isValidBasename=t;function n(i,s,d){const A=i===s;return!d||A?A:!i||!s?!1:(0,c.equalsIgnoreCase)(i,s)}e.isEqual=n;function r(i,s,d,A=u.sep){if(i===s)return!0;if(!i||!s||s.length>i.length)return!1;if(d){if(!(0,c.startsWithIgnoreCase)(i,s))return!1;if(s.length===i.length)return!0;let C=s.length;return s.charAt(s.length-1)===A&&C--,i.charAt(C)===A}return s.charAt(s.length-1)!==A&&(s+=A),i.indexOf(s)===0}e.isEqualOrParent=r;function h(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=h;function f(i,s){return g.isWindows&&i.endsWith(":")&&(i+=u.sep),(0,u.isAbsolute)(i)||(i=(0,u.join)(s,i)),i=(0,u.normalize)(i),g.isWindows?(i=(0,c.rtrim)(i,u.sep),i.endsWith(":")&&(i+=u.sep)):(i=(0,c.rtrim)(i,u.sep),i||(i=u.sep)),i}e.sanitizeFilePath=f;function v(i){const s=(0,u.normalize)(i);return g.isWindows?i.length>3?!1:E(s)&&(i.length===2||s.charCodeAt(2)===92):s===u.posix.sep}e.isRootOrDriveLetter=v;function E(i,s=g.isWindows){return s?h(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=E;function T(i){return E(i)?i[0]:void 0}e.getDriveLetter=T;function k(i,s,d){return s.length>i.length?-1:i===s?0:(d&&(i=i.toLowerCase(),s=s.toLowerCase()),i.indexOf(s))}e.indexOfPath=k;function q(i){const s=i.split(":");let d,A,b;for(const C of s){const N=Number(C);(0,R.isNumber)(N)?A===void 0?A=N:b===void 0&&(b=N):d=d?[d,C].join(":"):C}if(!d)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:d,line:A!==void 0?A:void 0,column:b!==void 0?b:A!==void 0?1:void 0}}e.parseLineAndColumnAware=q;const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function O(i,s,d=8){let A="";for(let C=0;C<d;C++)A+=M.charAt(Math.floor(Math.random()*M.length));let b;return s?b=`${s}-${A}`:b=A,i?(0,u.join)(i,b):b}e.randomPath=O}),define(I[5],S([0,1,2,6]),function(L,e,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.nodeModulesAsarUnpackedPath=e.nodeModulesAsarPath=e.nodeModulesPath=e.builtinExtensionsPath=e.RemoteAuthorities=e.connectionTokenQueryName=e.connectionTokenCookieName=e.Schemas=void 0;var c;(function(a){a.inMemory="inmemory",a.vscode="vscode",a.internal="private",a.walkThrough="walkThrough",a.walkThroughSnippet="walkThroughSnippet",a.http="http",a.https="https",a.file="file",a.mailto="mailto",a.untitled="untitled",a.data="data",a.command="command",a.vscodeRemote="vscode-remote",a.vscodeRemoteResource="vscode-remote-resource",a.vscodeUserData="vscode-userdata",a.vscodeCustomEditor="vscode-custom-editor",a.vscodeNotebook="vscode-notebook",a.vscodeNotebookCell="vscode-notebook-cell",a.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",a.vscodeNotebookCellOutput="vscode-notebook-cell-output",a.vscodeInteractive="vscode-interactive",a.vscodeInteractiveInput="vscode-interactive-input",a.vscodeSettings="vscode-settings",a.vscodeWorkspaceTrust="vscode-workspace-trust",a.vscodeTerminal="vscode-terminal",a.webviewPanel="webview-panel",a.vscodeWebview="vscode-webview",a.extension="extension",a.vscodeFileResource="vscode-file",a.tmp="tmp",a.vsls="vsls",a.vscodeSourceControl="vscode-scm"})(c=e.Schemas||(e.Schemas={})),e.connectionTokenCookieName="vscode-tkn",e.connectionTokenQueryName="tkn";class R{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${c.vscodeRemoteResource}`}setPreferredWebSchema(l){this._preferredWebSchema=l}setDelegate(l){this._delegate=l}setServerRootPath(l){this._remoteResourcesPath=`${l}/${c.vscodeRemoteResource}`}set(l,P,y){this._hosts[l]=P,this._ports[l]=y}setConnectionToken(l,P){this._connectionTokens[l]=P}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(l){if(this._delegate)return this._delegate(l);const P=l.authority;let y=this._hosts[P];y&&y.indexOf(":")!==-1&&y.indexOf("[")===-1&&(y=`[${y}]`);const m=this._ports[P],o=this._connectionTokens[P];let t=`path=${encodeURIComponent(l.path)}`;return typeof o=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(o)}`),g.URI.from({scheme:u.isWeb?this._preferredWebSchema:c.vscodeRemoteResource,authority:`${y}:${m}`,path:this._remoteResourcesPath,query:t})}}e.RemoteAuthorities=new R,e.builtinExtensionsPath="vs/../../extensions",e.nodeModulesPath="vs/../../node_modules",e.nodeModulesAsarPath="vs/../../node_modules.asar",e.nodeModulesAsarUnpackedPath="vs/../../node_modules.asar.unpacked";class U{asBrowserUri(l){const P=this.toUri(l,L);return this.uriToBrowserUri(P)}uriToBrowserUri(l){return l.scheme===c.vscodeRemote?e.RemoteAuthorities.rewrite(l):l.scheme===c.file&&(u.isNative||u.isWebWorker&&u.globals.origin===`${c.vscodeFileResource}://${U.FALLBACK_AUTHORITY}`)?l.with({scheme:c.vscodeFileResource,authority:l.authority||U.FALLBACK_AUTHORITY,query:null,fragment:null}):l}asFileUri(l){const P=this.toUri(l,L);return this.uriToFileUri(P)}uriToFileUri(l){return l.scheme===c.vscodeFileResource?l.with({scheme:c.file,authority:l.authority!==U.FALLBACK_AUTHORITY?l.authority:null,query:null,fragment:null}):l}toUri(l,P){return g.URI.isUri(l)?l:g.URI.parse(P.toUrl(l))}}U.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new U;var w;(function(a){const l=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);a.CoopAndCoep=Object.freeze(l.get("3"));const P="vscode-coi";function y(o){let t;typeof o=="string"?t=new URL(o).searchParams:o instanceof URL?t=o.searchParams:g.URI.isUri(o)&&(t=new URL(o.toString(!0)).searchParams);const n=t?.get(P);if(!!n)return l.get(n)}a.getHeadersFromQuery=y;function m(o,t,n){if(!globalThis.crossOriginIsolated)return;const r=t&&n?"3":n?"2":"1";o instanceof URLSearchParams?o.set(P,r):o[P]=r}a.addSearchParam=m})(w=e.COI||(e.COI={}))}),define(I[8],S([0,1,3,5,7,2,4,6]),function(L,e,u,g,c,R,U,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function a(o){return(0,w.uriToFsPath)(o,!0)}e.originalFSPath=a;class l{constructor(t){this._ignorePathCasing=t}compare(t,n,r=!1){return t===n?0:(0,U.compare)(this.getComparisonKey(t,r),this.getComparisonKey(n,r))}isEqual(t,n,r=!1){return t===n?!0:!t||!n?!1:this.getComparisonKey(t,r)===this.getComparisonKey(n,r)}getComparisonKey(t,n=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(t){return this._ignorePathCasing(t)}isEqualOrParent(t,n,r=!1){if(t.scheme===n.scheme){if(t.scheme===g.Schemas.file)return u.isEqualOrParent(a(t),a(n),this._ignorePathCasing(t))&&t.query===n.query&&(r||t.fragment===n.fragment);if((0,e.isEqualAuthority)(t.authority,n.authority))return u.isEqualOrParent(t.path,n.path,this._ignorePathCasing(t),"/")&&t.query===n.query&&(r||t.fragment===n.fragment)}return!1}joinPath(t,...n){return w.URI.joinPath(t,...n)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return c.posix.basename(t.path)}extname(t){return c.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let n;return t.scheme===g.Schemas.file?n=w.URI.file(c.dirname(a(t))).path:(n=c.posix.dirname(t.path),t.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),n="/")),t.with({path:n})}normalizePath(t){if(!t.path.length)return t;let n;return t.scheme===g.Schemas.file?n=w.URI.file(c.normalize(a(t))).path:n=c.posix.normalize(t.path),t.with({path:n})}relativePath(t,n){if(t.scheme!==n.scheme||!(0,e.isEqualAuthority)(t.authority,n.authority))return;if(t.scheme===g.Schemas.file){const f=c.relative(a(t),a(n));return R.isWindows?u.toSlashes(f):f}let r=t.path||"/";const h=n.path||"/";if(this._ignorePathCasing(t)){let f=0;for(const v=Math.min(r.length,h.length);f<v&&!(r.charCodeAt(f)!==h.charCodeAt(f)&&r.charAt(f).toLowerCase()!==h.charAt(f).toLowerCase());f++);r=h.substr(0,f)+r.substr(f)}return c.posix.relative(r,h)}resolvePath(t,n){if(t.scheme===g.Schemas.file){const r=w.URI.file(c.resolve(a(t),n));return t.with({authority:r.authority,path:r.path})}return n=u.toPosixPath(n),t.with({path:c.posix.resolve(t.path,n)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,n){return t===n||t!==void 0&&n!==void 0&&(0,U.equalsIgnoreCase)(t,n)}hasTrailingPathSeparator(t,n=c.sep){if(t.scheme===g.Schemas.file){const r=a(t);return r.length>u.getRoot(r).length&&r[r.length-1]===n}else{const r=t.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,n=c.sep){return(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,n=c.sep){let r=!1;if(t.scheme===g.Schemas.file){const h=a(t);r=h!==void 0&&h.length===u.getRoot(h).length&&h[h.length-1]===n}else{n="/";const h=t.path;r=h.length===1&&h.charCodeAt(h.length-1)===47}return!r&&!(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path+"/"}):t}}e.ExtUri=l,e.extUri=new l(()=>!1),e.extUriBiasedIgnorePathCase=new l(o=>o.scheme===g.Schemas.file?!R.isLinux:!0),e.extUriIgnorePathCase=new l(o=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function P(o,t){const n=[];for(let r=0;r<o.length;r++){const h=t(o[r]);o.some((f,v)=>v===r?!1:(0,e.isEqualOrParent)(h,t(f)))||n.push(o[r])}return n}e.distinctParents=P;var y;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function t(n){const r=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(v=>{const[E,T]=v.split(":");E&&T&&r.set(E,T)});const f=n.path.substring(0,n.path.indexOf(";"));return f&&r.set(o.META_DATA_MIME,f),r}o.parseMetaData=t})(y=e.DataUri||(e.DataUri={}));function m(o,t,n){if(t){let r=o.path;return r&&r[0]!==c.posix.sep&&(r=c.posix.sep+r),o.with({scheme:n,authority:t,path:r})}return o.with({scheme:n})}e.toLocalResource=m}),define(I[10],S([0,1,6,3,8,4,11,2,5]),function(L,e,u,g,c,R,U,w,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.OutputLinkComputer=void 0;class l{constructor(m,o){this.ctx=m,this.patterns=new Map,this.computePatterns(o)}computePatterns(m){const o=m.workspaceFolders.sort((t,n)=>n.length-t.length).map(t=>u.URI.parse(t));for(const t of o){const n=l.createPatterns(t);this.patterns.set(t,n)}}getModel(m){return this.ctx.getMirrorModels().find(t=>t.uri.toString()===m)}computeLinks(m){const o=this.getModel(m);if(!o)return[];const t=[],n=R.splitLines(o.getValue());for(const[r,h]of this.patterns){const f={toResource:v=>typeof v=="string"?c.joinPath(r,v):null};for(let v=0,E=n.length;v<E;v++)t.push(...l.detectLinks(n[v],v+1,h,f))}return t}static createPatterns(m){const o=[],t=m.scheme===a.Schemas.file?m.fsPath:m.path,n=[t];w.isWindows&&m.scheme===a.Schemas.file&&n.push(g.toSlashes(t));for(const r of n){const h='[^\\s\\(\\):<>"]',v=`${`(?:${h}| ${h})`}+\\.${h}+`,E=`${h}+`;o.push(new RegExp(R.escapeRegExpCharacters(r)+`(${v}) on line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(R.escapeRegExpCharacters(r)+`(${v}):line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(R.escapeRegExpCharacters(r)+`(${v})(\\s?\\((\\d+)(,(\\d+))?)\\)`,"gi")),o.push(new RegExp(R.escapeRegExpCharacters(r)+`(${E})(:(\\d+))?(:(\\d+))?`,"gi"))}return o}static detectLinks(m,o,t,n){const r=[];return t.forEach(h=>{h.lastIndex=0;let f,v=0;for(;(f=h.exec(m))!==null;){const E=R.rtrim(f[1],".").replace(/\\/g,"/");let T;try{const O=n.toResource(E);O&&(T=O.toString())}catch{continue}if(f[3]){const O=f[3];if(f[5]){const i=f[5];T=R.format("{0}#{1},{2}",T,O,i)}else T=R.format("{0}#{1}",T,O)}const k=R.rtrim(f[0],"."),q=m.indexOf(k,v);v=q+k.length;const M={startColumn:q+1,startLineNumber:o,endColumn:q+1+k.length,endLineNumber:o};if(r.some(O=>U.Range.areIntersectingOrTouching(O.range,M)))return;r.push({range:M,url:T})}}),r}}e.OutputLinkComputer=l;function P(y,m){return new l(y,m)}e.create=P})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/d2c422ca15f1fbc976eed3e02e3392bbb39c5824/core/vs\workbench\contrib\output\common\outputLinkComputer.js.map
