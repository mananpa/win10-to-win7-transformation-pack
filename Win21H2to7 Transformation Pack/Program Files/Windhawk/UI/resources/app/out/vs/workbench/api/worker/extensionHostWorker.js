/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var De=["exports","require","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/workbench/api/common/extHost.protocol","vs/base/common/event","vs/workbench/api/common/extHostTypes","vs/base/common/lifecycle","vs/workbench/api/common/extHostTypeConverters","vs/base/common/types","vs/base/common/strings","vs/base/common/errors","vs/platform/log/common/log","vs/base/common/network","vs/workbench/api/common/extHostRpcService","vs/base/common/async","vs/base/common/arrays","vs/nls","vs/nls!vs/workbench/api/worker/extensionHostWorker","vs/base/common/path","vs/base/common/cancellation","vs/base/common/platform","vs/base/common/resources","vs/base/common/objects","vs/base/common/buffer","vs/workbench/services/extensions/common/extensions","vs/platform/extensions/common/extensions","vs/workbench/api/common/extHostInitDataService","vs/base/common/map","vs/base/common/severity","vs/platform/registry/common/platform","vs/workbench/api/common/extHostWorkspace","vs/workbench/api/common/extHostConfiguration","vs/workbench/api/common/extHostExtensionService","vs/base/common/uuid","vs/base/common/glob","vs/platform/files/common/files","vs/workbench/api/common/extHostFileSystemInfo","vs/workbench/api/common/extHostCommands","vs/base/common/extpath","vs/platform/configuration/common/configuration","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/testing/common/testId","vs/workbench/services/extensions/common/proxyIdentifier","vs/workbench/services/search/common/search","vs/base/common/errorMessage","vs/base/common/ternarySearchTree","vs/base/common/assert","vs/platform/remote/common/remoteHosts","vs/base/common/process","vs/platform/workspace/common/workspace","vs/workbench/api/common/cache","vs/workbench/api/common/extHostUriTransformerService","vs/workbench/contrib/testing/common/testTypes","vs/editor/common/core/range","vs/workbench/api/common/extHostDocumentsAndEditors","vs/workbench/api/common/extHostEditorTabs","vs/workbench/api/common/extHostFileSystemConsumer","vs/workbench/api/common/extHostTerminalService","vs/workbench/api/common/extHostWebview","vs/base/common/decorators","vs/base/common/mime","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/serviceCollection","vs/platform/theme/common/themeService","vs/workbench/api/common/extHostTunnelService","vs/workbench/contrib/notebook/common/notebookCommon","vs/workbench/contrib/testing/common/testItemCollection","vs/workbench/contrib/webview/common/webview","vs/workbench/services/extensions/common/extensionHostProtocol","vs/workbench/api/common/extHostTelemetry","vs/editor/common/languages","vs/workbench/api/common/extHostApiDeprecationService","vs/workbench/api/common/extHostLocalizationService","vs/workbench/api/common/extHostSecretState","vs/workbench/api/common/extHostStorage","vs/workbench/api/common/extHostStoragePaths","vs/base/common/performance","vs/base/common/collections","vs/base/common/idGenerator","vs/base/common/marshalling","vs/base/common/htmlContent","vs/base/common/labels","vs/editor/common/services/semanticTokensDto","vs/platform/instantiation/common/descriptors","vs/platform/extensionManagement/common/extensionManagement","vs/platform/markers/common/markers","vs/platform/opener/common/opener","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurationRegistry","vs/platform/remote/common/remoteAuthorityResolver","vs/platform/telemetry/common/telemetryUtils","vs/workbench/common/editor","vs/workbench/api/common/extHostTestingPrivateApi","vs/workbench/services/editor/common/editorGroupsService","vs/workbench/api/common/extHostDocumentData","vs/workbench/api/common/extHostNotebookEditor","vs/workbench/api/common/extHostTestItem","vs/workbench/api/common/extHostTextEditor","vs/workbench/api/common/extHostDecorations","vs/workbench/api/common/extHostWindow","vs/workbench/api/common/extHostOutput","vs/workbench/services/search/common/searchExtTypes","vs/workbench/api/common/extHostTask","vs/workbench/api/common/extHostVariableResolverService","vs/workbench/api/common/extHostDebugService","vs/workbench/api/common/extHostSearch","vs/base/common/json","vs/base/common/marked/marked","vs/base/common/numbers","vs/base/common/stream","vs/base/common/dataTransfer","vs/editor/common/core/textModelDefaults","vs/editor/common/languages/languageConfiguration","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/base/common/filters","vs/base/common/iconLabels","vs/base/common/codicons","vs/base/common/comparers","vs/base/common/uriIpc","vs/editor/common/languageSelector","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/config/editorOptions","vs/editor/common/core/wordHelper","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/workspace/common/workspace","vs/nls!vs/workbench/api/common/extHostDiagnostics","vs/nls!vs/workbench/api/common/extHostExtensionService","vs/nls!vs/workbench/api/common/extHostProgress","vs/nls!vs/workbench/api/common/extHostStatusBar","vs/nls!vs/workbench/api/common/extHostTerminalService","vs/nls!vs/workbench/api/common/extHostTreeViews","vs/nls!vs/workbench/api/common/extHostWorkspace","vs/nls!vs/workbench/common/editor","vs/nls!vs/workbench/contrib/debug/common/abstractDebugAdapter","vs/nls!vs/workbench/contrib/debug/common/debug","vs/nls!vs/workbench/contrib/tasks/common/taskDefinitionRegistry","vs/nls!vs/workbench/contrib/tasks/common/tasks","vs/nls!vs/workbench/services/configurationResolver/common/variableResolver","vs/nls!vs/workbench/services/extensions/common/extensionsRegistry","vs/nls!vs/workbench/services/search/common/queryBuilder","vs/platform/extensionManagement/common/implicitActivationEvents","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/graph","vs/platform/environment/common/environment","vs/platform/instantiation/common/instantiationService","vs/base/common/linkedList","vs/platform/notification/common/notification","vs/platform/product/common/productService","vs/platform/progress/common/progress","vs/platform/configuration/common/configurationModels","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/telemetry/common/commonProperties","vs/platform/telemetry/common/telemetry","vs/platform/terminal/common/terminalDataBuffering","vs/platform/theme/common/theme","vs/platform/tunnel/common/tunnel","vs/platform/workspace/common/editSessions","vs/platform/workspace/common/virtualWorkspace","vs/workbench/api/common/extHostMemento","vs/workbench/api/common/extHostNotebookDocuments","vs/workbench/api/common/extHostSecrets","vs/workbench/api/common/extHostWebviewMessaging","vs/workbench/contrib/debug/common/abstractDebugAdapter","vs/workbench/contrib/debug/common/debug","vs/workbench/contrib/debug/common/debugUtils","vs/base/common/iterator","vs/workbench/contrib/notebook/common/notebookExecutionService","vs/workbench/contrib/terminal/common/environmentVariableShared","vs/workbench/api/common/extHostCodeInsets","vs/workbench/services/configurationResolver/common/configurationResolver","vs/workbench/services/configurationResolver/common/variableResolver","vs/workbench/services/editor/common/editorService","vs/workbench/services/environment/common/environmentService","vs/workbench/services/extensions/common/extensionDescriptionRegistry","vs/workbench/api/common/extHostExtensionActivator","vs/workbench/api/common/extHostLogService","vs/workbench/api/common/extHostTheming","vs/base/common/functional","vs/workbench/api/common/extHostDocumentSaveParticipant","vs/workbench/api/common/extHostNotebookDocument","vs/workbench/api/common/extHostNotebookEditors","vs/workbench/api/common/extHostProgress","vs/workbench/services/extensions/common/extensionsApiProposals","vs/workbench/services/extensions/common/extensionsRegistry","vs/workbench/contrib/tasks/common/taskDefinitionRegistry","vs/workbench/contrib/tasks/common/tasks","vs/workbench/services/extensions/common/lazyPromise","vs/workbench/api/common/extHostAuthentication","vs/workbench/api/common/extHostBulkEdits","vs/workbench/api/common/extHostClipboard","vs/workbench/api/common/extHostApiCommands","vs/workbench/api/common/extHostComments","vs/workbench/api/common/extHostConsoleForwarder","vs/workbench/api/common/extHostDiagnostics","vs/workbench/api/common/extHostDialogs","vs/workbench/api/common/extHostDocumentContentProviders","vs/workbench/api/common/extHostDocuments","vs/base/common/lazy","vs/workbench/api/common/extHostFileSystem","vs/workbench/api/common/extHostFileSystemEventService","vs/workbench/api/common/extHostInteractive","vs/workbench/api/common/extHostLabelService","vs/workbench/api/common/extHostLanguageFeatures","vs/base/common/stopwatch","vs/workbench/api/common/extHostLanguages","vs/workbench/api/common/extHostLoggerService","vs/workbench/api/common/extHostMessageService","vs/workbench/api/common/extHostNotebook","vs/workbench/api/common/extHostNotebookKernels","vs/workbench/api/common/extHostNotebookRenderers","vs/workbench/api/common/extHostProfileContentHandler","vs/workbench/api/common/extHostQuickOpen","vs/workbench/api/common/extHostSCM","vs/workbench/api/common/extHostStatusBar","vs/workbench/api/common/extHostTesting","vs/base/common/hash","vs/workbench/api/common/extHostTextEditors","vs/workbench/api/common/extHostTimeline","vs/workbench/api/common/extHostUriOpener","vs/workbench/api/common/extHostUrls","vs/workbench/api/common/extHostCustomEditors","vs/workbench/api/common/extHostWebviewPanels","vs/workbench/api/common/extHostWebviewView","vs/workbench/api/worker/extHostConsoleForwarder","vs/workbench/services/extensions/common/rpcProtocol","vs/workbench/services/extensions/worker/polyfillNestedWorker","vs/workbench/services/output/common/output","vs/workbench/services/remote/common/remoteAgentService","vs/workbench/services/path/common/pathService","vs/workbench/services/search/common/fileSearchManager","vs/workbench/services/search/common/queryBuilder","vs/workbench/services/extensions/common/workspaceContains","vs/workbench/api/common/extHostRequireInterceptor","vs/workbench/api/common/extensionHostMain","vs/workbench/services/search/common/textSearchManager","vs/workbench/api/common/extHost.common.services","vs/workbench/services/views/common/treeViewsService","vs/workbench/api/common/extHostTreeViews","vs/workbench/api/common/extHost.api.impl","vs/workbench/api/worker/extHostExtensionService","vs/workbench/api/worker/extHost.worker.services","vs/base/common/semver/semver","vs/editor/common/model/mirrorTextModel","vs/editor/common/core/position","vs/editor/common/languages/linkComputer","vs/editor/common/core/selection","vs/editor/common/model/textModelSearch","vs/editor/common/model","vs/workbench/api/worker/extensionHostWorker"],Ie=function(te){for(var e=[],n=0,k=te.length;n<k;n++)e[n]=De[te[n]];return e};define(De[78],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffMaps=e.diffSets=e.groupBy=void 0;function n(I,A){const S=Object.create(null);for(const C of I){const R=A(C);let y=S[R];y||(y=S[R]=[]),y.push(C)}return S}e.groupBy=n;function k(I,A){const S=[],C=[];for(const R of I)A.has(R)||S.push(R);for(const R of A)I.has(R)||C.push(R);return{removed:S,added:C}}e.diffSets=k;function _(I,A){const S=[],C=[];for(const[R,y]of I)A.has(R)||S.push(y);for(const[R,y]of A)I.has(R)||C.push(y);return{removed:S,added:C}}e.diffMaps=_;class M{constructor(){this.map=new Map}add(A,S){let C=this.map.get(A);C||(C=new Set,this.map.set(A,C)),C.add(S)}delete(A,S){const C=this.map.get(A);!C||(C.delete(S),C.size===0&&this.map.delete(A))}forEach(A,S){const C=this.map.get(A);!C||C.forEach(S)}}e.SetMap=M}),define(De[60],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=void 0;function n(I){return(A,S,C)=>{let R=null,y=null;if(typeof C.value=="function"?(R="value",y=C.value):typeof C.get=="function"&&(R="get",y=C.get),!y)throw new Error("not supported");C[R]=I(y,S)}}function k(I,A,S){let C=null,R=null;if(typeof S.value=="function"?(C="value",R=S.value,R.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof S.get=="function"&&(C="get",R=S.get),!R)throw new Error("not supported");const y=`$memoize$${A}`;S[C]=function(...f){return this.hasOwnProperty(y)||Object.defineProperty(this,y,{configurable:!1,enumerable:!1,writable:!1,value:R.apply(this,f)}),this[y]}}e.memoize=k;function _(I,A,S){return n((C,R)=>{const y=`$debounce$${R}`,f=`$debounce$result$${R}`;return function(...v){this[f]||(this[f]=S?S():void 0),clearTimeout(this[y]),A&&(this[f]=A(this[f],...v),v=[this[f]]),this[y]=setTimeout(()=>{C.apply(this,v),this[f]=S?S():void 0},I)}})}e.debounce=_;function M(I,A,S){return n((C,R)=>{const y=`$throttle$timer$${R}`,f=`$throttle$result$${R}`,v=`$throttle$lastRun$${R}`,h=`$throttle$pending$${R}`;return function(...i){if(this[f]||(this[f]=S?S():void 0),(this[v]===null||this[v]===void 0)&&(this[v]=-Number.MAX_VALUE),A&&(this[f]=A(this[f],...i)),this[h])return;const o=this[v]+I;o<=Date.now()?(this[v]=Date.now(),C.apply(this,[this[f]]),this[f]=S?S():void 0):(this[h]=!0,this[y]=setTimeout(()=>{this[h]=!1,this[v]=Date.now(),C.apply(this,[this[f]]),this[f]=S?S():void 0},o-Date.now()))}})}e.throttle=M}),define(De[79],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class n{constructor(_){this._prefix=_,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=n,e.defaultGenerator=new n("id#")}),define(De[107],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var n;(function(s){s[s.None=0]="None",s[s.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",s[s.UnexpectedEndOfString=2]="UnexpectedEndOfString",s[s.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",s[s.InvalidUnicode=4]="InvalidUnicode",s[s.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",s[s.InvalidCharacter=6]="InvalidCharacter"})(n=e.ScanError||(e.ScanError={}));var k;(function(s){s[s.OpenBraceToken=1]="OpenBraceToken",s[s.CloseBraceToken=2]="CloseBraceToken",s[s.OpenBracketToken=3]="OpenBracketToken",s[s.CloseBracketToken=4]="CloseBracketToken",s[s.CommaToken=5]="CommaToken",s[s.ColonToken=6]="ColonToken",s[s.NullKeyword=7]="NullKeyword",s[s.TrueKeyword=8]="TrueKeyword",s[s.FalseKeyword=9]="FalseKeyword",s[s.StringLiteral=10]="StringLiteral",s[s.NumericLiteral=11]="NumericLiteral",s[s.LineCommentTrivia=12]="LineCommentTrivia",s[s.BlockCommentTrivia=13]="BlockCommentTrivia",s[s.LineBreakTrivia=14]="LineBreakTrivia",s[s.Trivia=15]="Trivia",s[s.Unknown=16]="Unknown",s[s.EOF=17]="EOF"})(k=e.SyntaxKind||(e.SyntaxKind={}));var _;(function(s){s[s.InvalidSymbol=1]="InvalidSymbol",s[s.InvalidNumberFormat=2]="InvalidNumberFormat",s[s.PropertyNameExpected=3]="PropertyNameExpected",s[s.ValueExpected=4]="ValueExpected",s[s.ColonExpected=5]="ColonExpected",s[s.CommaExpected=6]="CommaExpected",s[s.CloseBraceExpected=7]="CloseBraceExpected",s[s.CloseBracketExpected=8]="CloseBracketExpected",s[s.EndOfFileExpected=9]="EndOfFileExpected",s[s.InvalidCommentToken=10]="InvalidCommentToken",s[s.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",s[s.UnexpectedEndOfString=12]="UnexpectedEndOfString",s[s.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",s[s.InvalidUnicode=14]="InvalidUnicode",s[s.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",s[s.InvalidCharacter=16]="InvalidCharacter"})(_=e.ParseErrorCode||(e.ParseErrorCode={}));var M;(function(s){s.DEFAULT={allowTrailingComma:!0}})(M=e.ParseOptions||(e.ParseOptions={}));function I(s,r=!1){let a=0;const d=s.length;let l="",c=0,t=16,m=0;function p(F){let O=0,B=0;for(;O<F;){const z=s.charCodeAt(a);if(z>=48&&z<=57)B=B*16+z-48;else if(z>=65&&z<=70)B=B*16+z-65+10;else if(z>=97&&z<=102)B=B*16+z-97+10;else break;a++,O++}return O<F&&(B=-1),B}function P(F){a=F,l="",c=0,t=16,m=0}function L(){const F=a;if(s.charCodeAt(a)===48)a++;else for(a++;a<s.length&&C(s.charCodeAt(a));)a++;if(a<s.length&&s.charCodeAt(a)===46)if(a++,a<s.length&&C(s.charCodeAt(a)))for(a++;a<s.length&&C(s.charCodeAt(a));)a++;else return m=3,s.substring(F,a);let O=a;if(a<s.length&&(s.charCodeAt(a)===69||s.charCodeAt(a)===101))if(a++,(a<s.length&&s.charCodeAt(a)===43||s.charCodeAt(a)===45)&&a++,a<s.length&&C(s.charCodeAt(a))){for(a++;a<s.length&&C(s.charCodeAt(a));)a++;O=a}else m=3;return s.substring(F,O)}function V(){let F="",O=a;for(;;){if(a>=d){F+=s.substring(O,a),m=2;break}const B=s.charCodeAt(a);if(B===34){F+=s.substring(O,a),a++;break}if(B===92){if(F+=s.substring(O,a),a++,a>=d){m=2;break}switch(s.charCodeAt(a++)){case 34:F+='"';break;case 92:F+="\\";break;case 47:F+="/";break;case 98:F+="\b";break;case 102:F+="\f";break;case 110:F+=`
`;break;case 114:F+="\r";break;case 116:F+="	";break;case 117:{const j=p(4);j>=0?F+=String.fromCharCode(j):m=4;break}default:m=5}O=a;continue}if(B>=0&&B<=31)if(S(B)){F+=s.substring(O,a),m=2;break}else m=6;a++}return F}function H(){if(l="",m=0,c=a,a>=d)return c=d,t=17;let F=s.charCodeAt(a);if(A(F)){do a++,l+=String.fromCharCode(F),F=s.charCodeAt(a);while(A(F));return t=15}if(S(F))return a++,l+=String.fromCharCode(F),F===13&&s.charCodeAt(a)===10&&(a++,l+=`
`),t=14;switch(F){case 123:return a++,t=1;case 125:return a++,t=2;case 91:return a++,t=3;case 93:return a++,t=4;case 58:return a++,t=6;case 44:return a++,t=5;case 34:return a++,l=V(),t=10;case 47:{const O=a-1;if(s.charCodeAt(a+1)===47){for(a+=2;a<d&&!S(s.charCodeAt(a));)a++;return l=s.substring(O,a),t=12}if(s.charCodeAt(a+1)===42){a+=2;const B=d-1;let z=!1;for(;a<B;){if(s.charCodeAt(a)===42&&s.charCodeAt(a+1)===47){a+=2,z=!0;break}a++}return z||(a++,m=1),l=s.substring(O,a),t=13}return l+=String.fromCharCode(F),a++,t=16}case 45:if(l+=String.fromCharCode(F),a++,a===d||!C(s.charCodeAt(a)))return t=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l+=L(),t=11;default:for(;a<d&&W(F);)a++,F=s.charCodeAt(a);if(c!==a){switch(l=s.substring(c,a),l){case"true":return t=8;case"false":return t=9;case"null":return t=7}return t=16}return l+=String.fromCharCode(F),a++,t=16}}function W(F){if(A(F)||S(F))return!1;switch(F){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function T(){let F;do F=H();while(F>=12&&F<=15);return F}return{setPosition:P,getPosition:()=>a,scan:r?T:H,getToken:()=>t,getTokenValue:()=>l,getTokenOffset:()=>c,getTokenLength:()=>a-c,getTokenError:()=>m}}e.createScanner=I;function A(s){return s===32||s===9||s===11||s===12||s===160||s===5760||s>=8192&&s<=8203||s===8239||s===8287||s===12288||s===65279}function S(s){return s===10||s===13||s===8232||s===8233}function C(s){return s>=48&&s<=57}var R;(function(s){s[s.nullCharacter=0]="nullCharacter",s[s.maxAsciiCharacter=127]="maxAsciiCharacter",s[s.lineFeed=10]="lineFeed",s[s.carriageReturn=13]="carriageReturn",s[s.lineSeparator=8232]="lineSeparator",s[s.paragraphSeparator=8233]="paragraphSeparator",s[s.nextLine=133]="nextLine",s[s.space=32]="space",s[s.nonBreakingSpace=160]="nonBreakingSpace",s[s.enQuad=8192]="enQuad",s[s.emQuad=8193]="emQuad",s[s.enSpace=8194]="enSpace",s[s.emSpace=8195]="emSpace",s[s.threePerEmSpace=8196]="threePerEmSpace",s[s.fourPerEmSpace=8197]="fourPerEmSpace",s[s.sixPerEmSpace=8198]="sixPerEmSpace",s[s.figureSpace=8199]="figureSpace",s[s.punctuationSpace=8200]="punctuationSpace",s[s.thinSpace=8201]="thinSpace",s[s.hairSpace=8202]="hairSpace",s[s.zeroWidthSpace=8203]="zeroWidthSpace",s[s.narrowNoBreakSpace=8239]="narrowNoBreakSpace",s[s.ideographicSpace=12288]="ideographicSpace",s[s.mathematicalSpace=8287]="mathematicalSpace",s[s.ogham=5760]="ogham",s[s._=95]="_",s[s.$=36]="$",s[s._0=48]="_0",s[s._1=49]="_1",s[s._2=50]="_2",s[s._3=51]="_3",s[s._4=52]="_4",s[s._5=53]="_5",s[s._6=54]="_6",s[s._7=55]="_7",s[s._8=56]="_8",s[s._9=57]="_9",s[s.a=97]="a",s[s.b=98]="b",s[s.c=99]="c",s[s.d=100]="d",s[s.e=101]="e",s[s.f=102]="f",s[s.g=103]="g",s[s.h=104]="h",s[s.i=105]="i",s[s.j=106]="j",s[s.k=107]="k",s[s.l=108]="l",s[s.m=109]="m",s[s.n=110]="n",s[s.o=111]="o",s[s.p=112]="p",s[s.q=113]="q",s[s.r=114]="r",s[s.s=115]="s",s[s.t=116]="t",s[s.u=117]="u",s[s.v=118]="v",s[s.w=119]="w",s[s.x=120]="x",s[s.y=121]="y",s[s.z=122]="z",s[s.A=65]="A",s[s.B=66]="B",s[s.C=67]="C",s[s.D=68]="D",s[s.E=69]="E",s[s.F=70]="F",s[s.G=71]="G",s[s.H=72]="H",s[s.I=73]="I",s[s.J=74]="J",s[s.K=75]="K",s[s.L=76]="L",s[s.M=77]="M",s[s.N=78]="N",s[s.O=79]="O",s[s.P=80]="P",s[s.Q=81]="Q",s[s.R=82]="R",s[s.S=83]="S",s[s.T=84]="T",s[s.U=85]="U",s[s.V=86]="V",s[s.W=87]="W",s[s.X=88]="X",s[s.Y=89]="Y",s[s.Z=90]="Z",s[s.ampersand=38]="ampersand",s[s.asterisk=42]="asterisk",s[s.at=64]="at",s[s.backslash=92]="backslash",s[s.bar=124]="bar",s[s.caret=94]="caret",s[s.closeBrace=125]="closeBrace",s[s.closeBracket=93]="closeBracket",s[s.closeParen=41]="closeParen",s[s.colon=58]="colon",s[s.comma=44]="comma",s[s.dot=46]="dot",s[s.doubleQuote=34]="doubleQuote",s[s.equals=61]="equals",s[s.exclamation=33]="exclamation",s[s.greaterThan=62]="greaterThan",s[s.lessThan=60]="lessThan",s[s.minus=45]="minus",s[s.openBrace=123]="openBrace",s[s.openBracket=91]="openBracket",s[s.openParen=40]="openParen",s[s.percent=37]="percent",s[s.plus=43]="plus",s[s.question=63]="question",s[s.semicolon=59]="semicolon",s[s.singleQuote=39]="singleQuote",s[s.slash=47]="slash",s[s.tilde=126]="tilde",s[s.backspace=8]="backspace",s[s.formFeed=12]="formFeed",s[s.byteOrderMark=65279]="byteOrderMark",s[s.tab=9]="tab",s[s.verticalTab=11]="verticalTab"})(R||(R={}));function y(s,r){const a=[],d=new Object;let l;const c={value:{},offset:0,length:0,type:"object",parent:void 0};let t=!1;function m(p,P,L,V){c.value=p,c.offset=P,c.length=L,c.type=V,c.colonOffset=void 0,l=c}try{E(s,{onObjectBegin:(p,P)=>{if(r<=p)throw d;l=void 0,t=r>p,a.push("")},onObjectProperty:(p,P,L)=>{if(r<P||(m(p,P,L,"property"),a[a.length-1]=p,r<=P+L))throw d},onObjectEnd:(p,P)=>{if(r<=p)throw d;l=void 0,a.pop()},onArrayBegin:(p,P)=>{if(r<=p)throw d;l=void 0,a.push(0)},onArrayEnd:(p,P)=>{if(r<=p)throw d;l=void 0,a.pop()},onLiteralValue:(p,P,L)=>{if(r<P||(m(p,P,L,w(p)),r<=P+L))throw d},onSeparator:(p,P,L)=>{if(r<=P)throw d;if(p===":"&&l&&l.type==="property")l.colonOffset=P,t=!1,l=void 0;else if(p===","){const V=a[a.length-1];typeof V=="number"?a[a.length-1]=V+1:(t=!0,a[a.length-1]=""),l=void 0}}})}catch(p){if(p!==d)throw p}return{path:a,previousNode:l,isAtPropertyKey:t,matches:p=>{let P=0;for(let L=0;P<p.length&&L<a.length;L++)if(p[P]===a[L]||p[P]==="*")P++;else if(p[P]!=="**")return!1;return P===p.length}}}e.getLocation=y;function f(s,r=[],a=M.DEFAULT){let d=null,l=[];const c=[];function t(p){Array.isArray(l)?l.push(p):d!==null&&(l[d]=p)}return E(s,{onObjectBegin:()=>{const p={};t(p),c.push(l),l=p,d=null},onObjectProperty:p=>{d=p},onObjectEnd:()=>{l=c.pop()},onArrayBegin:()=>{const p=[];t(p),c.push(l),l=p,d=null},onArrayEnd:()=>{l=c.pop()},onLiteralValue:t,onError:(p,P,L)=>{r.push({error:p,offset:P,length:L})}},a),l[0]}e.parse=f;function v(s,r=[],a=M.DEFAULT){let d={type:"array",offset:-1,length:-1,children:[],parent:void 0};function l(p){d.type==="property"&&(d.length=p-d.offset,d=d.parent)}function c(p){return d.children.push(p),p}E(s,{onObjectBegin:p=>{d=c({type:"object",offset:p,length:-1,parent:d,children:[]})},onObjectProperty:(p,P,L)=>{d=c({type:"property",offset:P,length:-1,parent:d,children:[]}),d.children.push({type:"string",value:p,offset:P,length:L,parent:d})},onObjectEnd:(p,P)=>{d.length=p+P-d.offset,d=d.parent,l(p+P)},onArrayBegin:(p,P)=>{d=c({type:"array",offset:p,length:-1,parent:d,children:[]})},onArrayEnd:(p,P)=>{d.length=p+P-d.offset,d=d.parent,l(p+P)},onLiteralValue:(p,P,L)=>{c({type:w(p),offset:P,length:L,parent:d,value:p}),l(P+L)},onSeparator:(p,P,L)=>{d.type==="property"&&(p===":"?d.colonOffset=P:p===","&&l(P))},onError:(p,P,L)=>{r.push({error:p,offset:P,length:L})}},a);const m=d.children[0];return m&&delete m.parent,m}e.parseTree=v;function h(s,r){if(!s)return;let a=s;for(const d of r)if(typeof d=="string"){if(a.type!=="object"||!Array.isArray(a.children))return;let l=!1;for(const c of a.children)if(Array.isArray(c.children)&&c.children[0].value===d){a=c.children[1],l=!0;break}if(!l)return}else{const l=d;if(a.type!=="array"||l<0||!Array.isArray(a.children)||l>=a.children.length)return;a=a.children[l]}return a}e.findNodeAtLocation=h;function i(s){if(!s.parent||!s.parent.children)return[];const r=i(s.parent);if(s.parent.type==="property"){const a=s.parent.children[0].value;r.push(a)}else if(s.parent.type==="array"){const a=s.parent.children.indexOf(s);a!==-1&&r.push(a)}return r}e.getNodePath=i;function o(s){switch(s.type){case"array":return s.children.map(o);case"object":{const r=Object.create(null);for(const a of s.children){const d=a.children[1];d&&(r[a.children[0].value]=o(d))}return r}case"null":case"string":case"number":case"boolean":return s.value;default:return}}e.getNodeValue=o;function u(s,r,a=!1){return r>=s.offset&&r<s.offset+s.length||a&&r===s.offset+s.length}e.contains=u;function b(s,r,a=!1){if(u(s,r,a)){const d=s.children;if(Array.isArray(d))for(let l=0;l<d.length&&d[l].offset<=r;l++){const c=b(d[l],r,a);if(c)return c}return s}}e.findNodeAtOffset=b;function E(s,r,a=M.DEFAULT){const d=I(s,!1);function l(le){return le?()=>le(d.getTokenOffset(),d.getTokenLength()):()=>!0}function c(le){return le?fe=>le(fe,d.getTokenOffset(),d.getTokenLength()):()=>!0}const t=l(r.onObjectBegin),m=c(r.onObjectProperty),p=l(r.onObjectEnd),P=l(r.onArrayBegin),L=l(r.onArrayEnd),V=c(r.onLiteralValue),H=c(r.onSeparator),W=l(r.onComment),T=c(r.onError),F=a&&a.disallowComments,O=a&&a.allowTrailingComma;function B(){for(;;){const le=d.scan();switch(d.getTokenError()){case 4:z(14);break;case 5:z(15);break;case 3:z(13);break;case 1:F||z(11);break;case 2:z(12);break;case 6:z(16);break}switch(le){case 12:case 13:F?z(10):W();break;case 16:z(1);break;case 15:case 14:break;default:return le}}}function z(le,fe=[],Y=[]){if(T(le),fe.length+Y.length>0){let ge=d.getToken();for(;ge!==17;){if(fe.indexOf(ge)!==-1){B();break}else if(Y.indexOf(ge)!==-1)break;ge=B()}}}function j(le){const fe=d.getTokenValue();return le?V(fe):m(fe),B(),!0}function G(){switch(d.getToken()){case 11:{let le=0;try{le=JSON.parse(d.getTokenValue()),typeof le!="number"&&(z(2),le=0)}catch{z(2)}V(le);break}case 7:V(null);break;case 8:V(!0);break;case 9:V(!1);break;default:return!1}return B(),!0}function Z(){return d.getToken()!==10?(z(3,[],[2,5]),!1):(j(!1),d.getToken()===6?(H(":"),B(),ce()||z(4,[],[2,5])):z(5,[],[2,5]),!0)}function he(){t(),B();let le=!1;for(;d.getToken()!==2&&d.getToken()!==17;){if(d.getToken()===5){if(le||z(4,[],[]),H(","),B(),d.getToken()===2&&O)break}else le&&z(6,[],[]);Z()||z(4,[],[2,5]),le=!0}return p(),d.getToken()!==2?z(7,[2],[]):B(),!0}function oe(){P(),B();let le=!1;for(;d.getToken()!==4&&d.getToken()!==17;){if(d.getToken()===5){if(le||z(4,[],[]),H(","),B(),d.getToken()===4&&O)break}else le&&z(6,[],[]);ce()||z(4,[],[4,5]),le=!0}return L(),d.getToken()!==4?z(8,[4],[]):B(),!0}function ce(){switch(d.getToken()){case 3:return oe();case 1:return he();case 10:return j(!0);default:return G()}}return B(),d.getToken()===17?a.allowEmptyContent?!0:(z(4,[],[]),!1):ce()?(d.getToken()!==17&&z(9,[],[]),!0):(z(4,[],[]),!1)}e.visit=E;function g(s,r){const a=I(s),d=[];let l,c=0,t;do switch(t=a.getPosition(),l=a.scan(),l){case 12:case 13:case 17:c!==t&&d.push(s.substring(c,t)),r!==void 0&&d.push(a.getTokenValue().replace(/[^\r\n]/g,r)),c=a.getPosition();break}while(l!==17);return d.join("")}e.stripComments=g;function w(s){switch(typeof s){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(s){if(Array.isArray(s))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=w}),define(De[28],Ie([1,0]),function(te,e){"use strict";var n,k,_;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=e.ResourceSet=e.ResourceMap=e.setToString=e.mapToString=e.getOrSet=void 0;function M(h,i,o){let u=h.get(i);return u===void 0&&(u=o,h.set(i,u)),u}e.getOrSet=M;function I(h){const i=[];return h.forEach((o,u)=>{i.push(`${u} => ${o}`)}),`Map(${h.size}) {${i.join(", ")}}`}e.mapToString=I;function A(h){const i=[];return h.forEach(o=>{i.push(o)}),`Set(${h.size}) {${i.join(", ")}}`}e.setToString=A;class S{constructor(i,o){this.uri=i,this.value=o}}class C{constructor(i,o){this[n]="ResourceMap",i instanceof C?(this.map=new Map(i.map),this.toKey=o??C.defaultToKey):(this.map=new Map,this.toKey=i??C.defaultToKey)}set(i,o){return this.map.set(this.toKey(i),new S(i,o)),this}get(i){return this.map.get(this.toKey(i))?.value}has(i){return this.map.has(this.toKey(i))}get size(){return this.map.size}clear(){this.map.clear()}delete(i){return this.map.delete(this.toKey(i))}forEach(i,o){typeof o<"u"&&(i=i.bind(o));for(const[u,b]of this.map)i(b.value,b.uri,this)}*values(){for(const i of this.map.values())yield i.value}*keys(){for(const i of this.map.values())yield i.uri}*entries(){for(const i of this.map.values())yield[i.uri,i.value]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(const[,i]of this.map)yield[i.uri,i.value]}}e.ResourceMap=C,C.defaultToKey=h=>h.toString();class R{constructor(i,o){this[k]="ResourceSet",!i||typeof i=="function"?this._map=new C(i):(this._map=new C(o),i.forEach(this.add,this))}get size(){return this._map.size}add(i){return this._map.set(i,i),this}clear(){this._map.clear()}delete(i){return this._map.delete(i)}forEach(i,o){this._map.forEach((u,b)=>i.call(o,b,b,this))}has(i){return this._map.has(i)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.ResourceSet=R;var y;(function(h){h[h.None=0]="None",h[h.AsOld=1]="AsOld",h[h.AsNew=2]="AsNew"})(y=e.Touch||(e.Touch={}));class f{constructor(){this[_]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(i){return this._map.has(i)}get(i,o=0){const u=this._map.get(i);if(!!u)return o!==0&&this.touch(u,o),u.value}set(i,o,u=0){let b=this._map.get(i);if(b)b.value=o,u!==0&&this.touch(b,u);else{switch(b={key:i,value:o,next:void 0,previous:void 0},u){case 0:this.addItemLast(b);break;case 1:this.addItemFirst(b);break;case 2:this.addItemLast(b);break;default:this.addItemLast(b);break}this._map.set(i,b),this._size++}return this}delete(i){return!!this.remove(i)}remove(i){const o=this._map.get(i);if(!!o)return this._map.delete(i),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const i=this._head;return this._map.delete(i.key),this.removeItem(i),this._size--,i.value}forEach(i,o){const u=this._state;let b=this._head;for(;b;){if(o?i.bind(o)(b.value,b.key,this):i(b.value,b.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");b=b.next}}keys(){const i=this,o=this._state;let u=this._head;const b={[Symbol.iterator](){return b},next(){if(i._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const E={value:u.key,done:!1};return u=u.next,E}else return{value:void 0,done:!0}}};return b}values(){const i=this,o=this._state;let u=this._head;const b={[Symbol.iterator](){return b},next(){if(i._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const E={value:u.value,done:!1};return u=u.next,E}else return{value:void 0,done:!0}}};return b}entries(){const i=this,o=this._state;let u=this._head;const b={[Symbol.iterator](){return b},next(){if(i._state!==o)throw new Error("LinkedMap got modified during iteration.");if(u){const E={value:[u.key,u.value],done:!1};return u=u.next,E}else return{value:void 0,done:!0}}};return b}[(_=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(i){if(i>=this.size)return;if(i===0){this.clear();return}let o=this._head,u=this.size;for(;o&&u>i;)this._map.delete(o.key),o=o.next,u--;this._head=o,this._size=u,o&&(o.previous=void 0),this._state++}addItemFirst(i){if(!this._head&&!this._tail)this._tail=i;else if(this._head)i.next=this._head,this._head.previous=i;else throw new Error("Invalid list");this._head=i,this._state++}addItemLast(i){if(!this._head&&!this._tail)this._head=i;else if(this._tail)i.previous=this._tail,this._tail.next=i;else throw new Error("Invalid list");this._tail=i,this._state++}removeItem(i){if(i===this._head&&i===this._tail)this._head=void 0,this._tail=void 0;else if(i===this._head){if(!i.next)throw new Error("Invalid list");i.next.previous=void 0,this._head=i.next}else if(i===this._tail){if(!i.previous)throw new Error("Invalid list");i.previous.next=void 0,this._tail=i.previous}else{const o=i.next,u=i.previous;if(!o||!u)throw new Error("Invalid list");o.previous=u,u.next=o}i.next=void 0,i.previous=void 0,this._state++}touch(i,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==1&&o!==2)){if(o===1){if(i===this._head)return;const u=i.next,b=i.previous;i===this._tail?(b.next=void 0,this._tail=b):(u.previous=b,b.next=u),i.previous=void 0,i.next=this._head,this._head.previous=i,this._head=i,this._state++}else if(o===2){if(i===this._tail)return;const u=i.next,b=i.previous;i===this._head?(u.previous=void 0,this._head=u):(u.previous=b,b.next=u),i.next=void 0,i.previous=this._tail,this._tail.next=i,this._tail=i,this._state++}}}toJSON(){const i=[];return this.forEach((o,u)=>{i.push([u,o])}),i}fromJSON(i){this.clear();for(const[o,u]of i)this.set(o,u)}}e.LinkedMap=f;class v extends f{constructor(i,o=1){super(),this._limit=i,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(i){this._limit=i,this.checkTrim()}get ratio(){return this._ratio}set ratio(i){this._ratio=Math.min(Math.max(0,i),1),this.checkTrim()}get(i,o=2){return super.get(i,o)}peek(i){return super.get(i,0)}set(i,o){return super.set(i,o,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=v}),function(te,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(De[108],Ie([0]),e):(te=typeof globalThis<"u"?globalThis:te||self,e(te.marked={}))}(this,function(te){"use strict";function e(ke,ye){for(var Ce=0;Ce<ye.length;Ce++){var re=ye[Ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ke,re.key,re)}}function n(ke,ye,Ce){return ye&&e(ke.prototype,ye),Ce&&e(ke,Ce),Object.defineProperty(ke,"prototype",{writable:!1}),ke}function k(ke,ye){if(!!ke){if(typeof ke=="string")return _(ke,ye);var Ce=Object.prototype.toString.call(ke).slice(8,-1);if(Ce==="Object"&&ke.constructor&&(Ce=ke.constructor.name),Ce==="Map"||Ce==="Set")return Array.from(ke);if(Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return _(ke,ye)}}function _(ke,ye){(ye==null||ye>ke.length)&&(ye=ke.length);for(var Ce=0,re=new Array(ye);Ce<ye;Ce++)re[Ce]=ke[Ce];return re}function M(ke,ye){var Ce=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(Ce)return(Ce=Ce.call(ke)).next.bind(Ce);if(Array.isArray(ke)||(Ce=k(ke))||ye&&ke&&typeof ke.length=="number"){Ce&&(ke=Ce);var re=0;return function(){return re>=ke.length?{done:!0}:{done:!1,value:ke[re++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}te.defaults=I();function A(ke){te.defaults=ke}var S=/[&<>"']/,C=/[&<>"']/g,R=/[<>"']|&(?!#?\w+;)/,y=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v=function(ye){return f[ye]};function h(ke,ye){if(ye){if(S.test(ke))return ke.replace(C,v)}else if(R.test(ke))return ke.replace(y,v);return ke}var i=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function o(ke){return ke.replace(i,function(ye,Ce){return Ce=Ce.toLowerCase(),Ce==="colon"?":":Ce.charAt(0)==="#"?Ce.charAt(1)==="x"?String.fromCharCode(parseInt(Ce.substring(2),16)):String.fromCharCode(+Ce.substring(1)):""})}var u=/(^|[^\[])\^/g;function b(ke,ye){ke=typeof ke=="string"?ke:ke.source,ye=ye||"";var Ce={replace:function(ae,J){return J=J.source||J,J=J.replace(u,"$1"),ke=ke.replace(ae,J),Ce},getRegex:function(){return new RegExp(ke,ye)}};return Ce}var E=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function w(ke,ye,Ce){if(ke){var re;try{re=decodeURIComponent(o(Ce)).replace(E,"").toLowerCase()}catch{return null}if(re.indexOf("javascript:")===0||re.indexOf("vbscript:")===0||re.indexOf("data:")===0)return null}ye&&!g.test(Ce)&&(Ce=l(ye,Ce));try{Ce=encodeURI(Ce).replace(/%25/g,"%")}catch{return null}return Ce}var s={},r=/^[^:]+:\/*[^/]*$/,a=/^([^:]+:)[\s\S]*$/,d=/^([^:]+:\/*[^/]*)[\s\S]*$/;function l(ke,ye){s[" "+ke]||(r.test(ke)?s[" "+ke]=ke+"/":s[" "+ke]=p(ke,"/",!0)),ke=s[" "+ke];var Ce=ke.indexOf(":")===-1;return ye.substring(0,2)==="//"?Ce?ye:ke.replace(a,"$1")+ye:ye.charAt(0)==="/"?Ce?ye:ke.replace(d,"$1")+ye:ke+ye}var c={exec:function(){}};function t(ke){for(var ye=1,Ce,re;ye<arguments.length;ye++){Ce=arguments[ye];for(re in Ce)Object.prototype.hasOwnProperty.call(Ce,re)&&(ke[re]=Ce[re])}return ke}function m(ke,ye){var Ce=ke.replace(/\|/g,function(J,D,N){for(var $=!1,q=D;--q>=0&&N[q]==="\\";)$=!$;return $?"|":" |"}),re=Ce.split(/ \|/),ae=0;if(re[0].trim()||re.shift(),re.length>0&&!re[re.length-1].trim()&&re.pop(),re.length>ye)re.splice(ye);else for(;re.length<ye;)re.push("");for(;ae<re.length;ae++)re[ae]=re[ae].trim().replace(/\\\|/g,"|");return re}function p(ke,ye,Ce){var re=ke.length;if(re===0)return"";for(var ae=0;ae<re;){var J=ke.charAt(re-ae-1);if(J===ye&&!Ce)ae++;else if(J!==ye&&Ce)ae++;else break}return ke.slice(0,re-ae)}function P(ke,ye){if(ke.indexOf(ye[1])===-1)return-1;for(var Ce=ke.length,re=0,ae=0;ae<Ce;ae++)if(ke[ae]==="\\")ae++;else if(ke[ae]===ye[0])re++;else if(ke[ae]===ye[1]&&(re--,re<0))return ae;return-1}function L(ke){ke&&ke.sanitize&&!ke.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function V(ke,ye){if(ye<1)return"";for(var Ce="";ye>1;)ye&1&&(Ce+=ke),ye>>=1,ke+=ke;return Ce+ke}function H(ke,ye,Ce,re){var ae=ye.href,J=ye.title?h(ye.title):null,D=ke[1].replace(/\\([\[\]])/g,"$1");if(ke[0].charAt(0)!=="!"){re.state.inLink=!0;var N={type:"link",raw:Ce,href:ae,title:J,text:D,tokens:re.inlineTokens(D)};return re.state.inLink=!1,N}return{type:"image",raw:Ce,href:ae,title:J,text:h(D)}}function W(ke,ye){var Ce=ke.match(/^(\s+)(?:```)/);if(Ce===null)return ye;var re=Ce[1];return ye.split(`
`).map(function(ae){var J=ae.match(/^\s+/);if(J===null)return ae;var D=J[0];return D.length>=re.length?ae.slice(re.length):ae}).join(`
`)}var T=function(){function ke(Ce){this.options=Ce||te.defaults}var ye=ke.prototype;return ye.space=function(re){var ae=this.rules.block.newline.exec(re);if(ae&&ae[0].length>0)return{type:"space",raw:ae[0]}},ye.code=function(re){var ae=this.rules.block.code.exec(re);if(ae){var J=ae[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ae[0],codeBlockStyle:"indented",text:this.options.pedantic?J:p(J,`
`)}}},ye.fences=function(re){var ae=this.rules.block.fences.exec(re);if(ae){var J=ae[0],D=W(J,ae[3]||"");return{type:"code",raw:J,lang:ae[2]?ae[2].trim():ae[2],text:D}}},ye.heading=function(re){var ae=this.rules.block.heading.exec(re);if(ae){var J=ae[2].trim();if(/#$/.test(J)){var D=p(J,"#");(this.options.pedantic||!D||/ $/.test(D))&&(J=D.trim())}return{type:"heading",raw:ae[0],depth:ae[1].length,text:J,tokens:this.lexer.inline(J)}}},ye.hr=function(re){var ae=this.rules.block.hr.exec(re);if(ae)return{type:"hr",raw:ae[0]}},ye.blockquote=function(re){var ae=this.rules.block.blockquote.exec(re);if(ae){var J=ae[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:ae[0],tokens:this.lexer.blockTokens(J,[]),text:J}}},ye.list=function(re){var ae=this.rules.block.list.exec(re);if(ae){var J,D,N,$,q,ee,ue,Se,se,ve,Ee,Be,$e=ae[1].trim(),tt=$e.length>1,Ke={type:"list",raw:"",ordered:tt,start:tt?+$e.slice(0,-1):"",loose:!1,items:[]};$e=tt?"\\d{1,9}\\"+$e.slice(-1):"\\"+$e,this.options.pedantic&&($e=tt?$e:"[*+-]");for(var et=new RegExp("^( {0,3}"+$e+")((?:[	 ][^\\n]*)?(?:\\n|$))");re&&(Be=!1,!(!(ae=et.exec(re))||this.rules.block.hr.test(re)));){if(J=ae[0],re=re.substring(J.length),Se=ae[2].split(`
`,1)[0],se=re.split(`
`,1)[0],this.options.pedantic?($=2,Ee=Se.trimLeft()):($=ae[2].search(/[^ ]/),$=$>4?1:$,Ee=Se.slice($),$+=ae[1].length),ee=!1,!Se&&/^ *$/.test(se)&&(J+=se+`
`,re=re.substring(se.length+1),Be=!0),!Be)for(var it=new RegExp("^ {0,"+Math.min(3,$-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),dt=new RegExp("^ {0,"+Math.min(3,$-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Oe=new RegExp("^ {0,"+Math.min(3,$-1)+"}(?:```|~~~)"),st=new RegExp("^ {0,"+Math.min(3,$-1)+"}#");re&&(ve=re.split(`
`,1)[0],Se=ve,this.options.pedantic&&(Se=Se.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Oe.test(Se)||st.test(Se)||it.test(Se)||dt.test(re)));){if(Se.search(/[^ ]/)>=$||!Se.trim())Ee+=`
`+Se.slice($);else if(!ee)Ee+=`
`+Se;else break;!ee&&!Se.trim()&&(ee=!0),J+=ve+`
`,re=re.substring(ve.length+1)}Ke.loose||(ue?Ke.loose=!0:/\n *\n *$/.test(J)&&(ue=!0)),this.options.gfm&&(D=/^\[[ xX]\] /.exec(Ee),D&&(N=D[0]!=="[ ] ",Ee=Ee.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:J,task:!!D,checked:N,loose:!1,text:Ee}),Ke.raw+=J}Ke.items[Ke.items.length-1].raw=J.trimRight(),Ke.items[Ke.items.length-1].text=Ee.trimRight(),Ke.raw=Ke.raw.trimRight();var Q=Ke.items.length;for(q=0;q<Q;q++){this.lexer.state.top=!1,Ke.items[q].tokens=this.lexer.blockTokens(Ke.items[q].text,[]);var X=Ke.items[q].tokens.filter(function(Le){return Le.type==="space"}),pe=X.every(function(Le){for(var Ue=Le.raw.split(""),He=0,Je=M(Ue),nt;!(nt=Je()).done;){var vt=nt.value;if(vt===`
`&&(He+=1),He>1)return!0}return!1});!Ke.loose&&X.length&&pe&&(Ke.loose=!0,Ke.items[q].loose=!0)}return Ke}},ye.html=function(re){var ae=this.rules.block.html.exec(re);if(ae){var J={type:"html",raw:ae[0],pre:!this.options.sanitizer&&(ae[1]==="pre"||ae[1]==="script"||ae[1]==="style"),text:ae[0]};if(this.options.sanitize){var D=this.options.sanitizer?this.options.sanitizer(ae[0]):h(ae[0]);J.type="paragraph",J.text=D,J.tokens=this.lexer.inline(D)}return J}},ye.def=function(re){var ae=this.rules.block.def.exec(re);if(ae){ae[3]&&(ae[3]=ae[3].substring(1,ae[3].length-1));var J=ae[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:J,raw:ae[0],href:ae[2],title:ae[3]}}},ye.table=function(re){var ae=this.rules.block.table.exec(re);if(ae){var J={type:"table",header:m(ae[1]).map(function(ue){return{text:ue}}),align:ae[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ae[3]&&ae[3].trim()?ae[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(J.header.length===J.align.length){J.raw=ae[0];var D=J.align.length,N,$,q,ee;for(N=0;N<D;N++)/^ *-+: *$/.test(J.align[N])?J.align[N]="right":/^ *:-+: *$/.test(J.align[N])?J.align[N]="center":/^ *:-+ *$/.test(J.align[N])?J.align[N]="left":J.align[N]=null;for(D=J.rows.length,N=0;N<D;N++)J.rows[N]=m(J.rows[N],J.header.length).map(function(ue){return{text:ue}});for(D=J.header.length,$=0;$<D;$++)J.header[$].tokens=this.lexer.inline(J.header[$].text);for(D=J.rows.length,$=0;$<D;$++)for(ee=J.rows[$],q=0;q<ee.length;q++)ee[q].tokens=this.lexer.inline(ee[q].text);return J}}},ye.lheading=function(re){var ae=this.rules.block.lheading.exec(re);if(ae)return{type:"heading",raw:ae[0],depth:ae[2].charAt(0)==="="?1:2,text:ae[1],tokens:this.lexer.inline(ae[1])}},ye.paragraph=function(re){var ae=this.rules.block.paragraph.exec(re);if(ae){var J=ae[1].charAt(ae[1].length-1)===`
`?ae[1].slice(0,-1):ae[1];return{type:"paragraph",raw:ae[0],text:J,tokens:this.lexer.inline(J)}}},ye.text=function(re){var ae=this.rules.block.text.exec(re);if(ae)return{type:"text",raw:ae[0],text:ae[0],tokens:this.lexer.inline(ae[0])}},ye.escape=function(re){var ae=this.rules.inline.escape.exec(re);if(ae)return{type:"escape",raw:ae[0],text:h(ae[1])}},ye.tag=function(re){var ae=this.rules.inline.tag.exec(re);if(ae)return!this.lexer.state.inLink&&/^<a /i.test(ae[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ae[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ae[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ae[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ae[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ae[0]):h(ae[0]):ae[0]}},ye.link=function(re){var ae=this.rules.inline.link.exec(re);if(ae){var J=ae[2].trim();if(!this.options.pedantic&&/^</.test(J)){if(!/>$/.test(J))return;var D=p(J.slice(0,-1),"\\");if((J.length-D.length)%2===0)return}else{var N=P(ae[2],"()");if(N>-1){var $=ae[0].indexOf("!")===0?5:4,q=$+ae[1].length+N;ae[2]=ae[2].substring(0,N),ae[0]=ae[0].substring(0,q).trim(),ae[3]=""}}var ee=ae[2],ue="";if(this.options.pedantic){var Se=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ee);Se&&(ee=Se[1],ue=Se[3])}else ue=ae[3]?ae[3].slice(1,-1):"";return ee=ee.trim(),/^</.test(ee)&&(this.options.pedantic&&!/>$/.test(J)?ee=ee.slice(1):ee=ee.slice(1,-1)),H(ae,{href:ee&&ee.replace(this.rules.inline._escapes,"$1"),title:ue&&ue.replace(this.rules.inline._escapes,"$1")},ae[0],this.lexer)}},ye.reflink=function(re,ae){var J;if((J=this.rules.inline.reflink.exec(re))||(J=this.rules.inline.nolink.exec(re))){var D=(J[2]||J[1]).replace(/\s+/g," ");if(D=ae[D.toLowerCase()],!D||!D.href){var N=J[0].charAt(0);return{type:"text",raw:N,text:N}}return H(J,D,J[0],this.lexer)}},ye.emStrong=function(re,ae,J){J===void 0&&(J="");var D=this.rules.inline.emStrong.lDelim.exec(re);if(!!D&&!(D[3]&&J.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var N=D[1]||D[2]||"";if(!N||N&&(J===""||this.rules.inline.punctuation.exec(J))){var $=D[0].length-1,q,ee,ue=$,Se=0,se=D[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(se.lastIndex=0,ae=ae.slice(-1*re.length+$);(D=se.exec(ae))!=null;)if(q=D[1]||D[2]||D[3]||D[4]||D[5]||D[6],!!q){if(ee=q.length,D[3]||D[4]){ue+=ee;continue}else if((D[5]||D[6])&&$%3&&!(($+ee)%3)){Se+=ee;continue}if(ue-=ee,!(ue>0)){if(ee=Math.min(ee,ee+ue+Se),Math.min($,ee)%2){var ve=re.slice(1,$+D.index+ee);return{type:"em",raw:re.slice(0,$+D.index+ee+1),text:ve,tokens:this.lexer.inlineTokens(ve)}}var Ee=re.slice(2,$+D.index+ee-1);return{type:"strong",raw:re.slice(0,$+D.index+ee+1),text:Ee,tokens:this.lexer.inlineTokens(Ee)}}}}}},ye.codespan=function(re){var ae=this.rules.inline.code.exec(re);if(ae){var J=ae[2].replace(/\n/g," "),D=/[^ ]/.test(J),N=/^ /.test(J)&&/ $/.test(J);return D&&N&&(J=J.substring(1,J.length-1)),J=h(J,!0),{type:"codespan",raw:ae[0],text:J}}},ye.br=function(re){var ae=this.rules.inline.br.exec(re);if(ae)return{type:"br",raw:ae[0]}},ye.del=function(re){var ae=this.rules.inline.del.exec(re);if(ae)return{type:"del",raw:ae[0],text:ae[2],tokens:this.lexer.inlineTokens(ae[2])}},ye.autolink=function(re,ae){var J=this.rules.inline.autolink.exec(re);if(J){var D,N;return J[2]==="@"?(D=h(this.options.mangle?ae(J[1]):J[1]),N="mailto:"+D):(D=h(J[1]),N=D),{type:"link",raw:J[0],text:D,href:N,tokens:[{type:"text",raw:D,text:D}]}}},ye.url=function(re,ae){var J;if(J=this.rules.inline.url.exec(re)){var D,N;if(J[2]==="@")D=h(this.options.mangle?ae(J[0]):J[0]),N="mailto:"+D;else{var $;do $=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])[0];while($!==J[0]);D=h(J[0]),J[1]==="www."?N="http://"+D:N=D}return{type:"link",raw:J[0],text:D,href:N,tokens:[{type:"text",raw:D,text:D}]}}},ye.inlineText=function(re,ae){var J=this.rules.inline.text.exec(re);if(J){var D;return this.lexer.state.inRawBlock?D=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(J[0]):h(J[0]):J[0]:D=h(this.options.smartypants?ae(J[0]):J[0]),{type:"text",raw:J[0],text:D}}},ke}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:c,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=b(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=b(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=b(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=b(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=b(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=b(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=t({},F),F.gfm=t({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=b(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=b(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=t({},F.normal,{html:b(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:c,paragraph:b(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var O={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:c,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:c,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};O._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",O.punctuation=b(O.punctuation).replace(/punctuation/g,O._punctuation).getRegex(),O.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,O.escapedEmSt=/\\\*|\\_/g,O._comment=b(F._comment).replace("(?:-->|$)","-->").getRegex(),O.emStrong.lDelim=b(O.emStrong.lDelim).replace(/punct/g,O._punctuation).getRegex(),O.emStrong.rDelimAst=b(O.emStrong.rDelimAst,"g").replace(/punct/g,O._punctuation).getRegex(),O.emStrong.rDelimUnd=b(O.emStrong.rDelimUnd,"g").replace(/punct/g,O._punctuation).getRegex(),O._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,O._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,O._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,O.autolink=b(O.autolink).replace("scheme",O._scheme).replace("email",O._email).getRegex(),O._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,O.tag=b(O.tag).replace("comment",O._comment).replace("attribute",O._attribute).getRegex(),O._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,O._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,O._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,O.link=b(O.link).replace("label",O._label).replace("href",O._href).replace("title",O._title).getRegex(),O.reflink=b(O.reflink).replace("label",O._label).replace("ref",F._label).getRegex(),O.nolink=b(O.nolink).replace("ref",F._label).getRegex(),O.reflinkSearch=b(O.reflinkSearch,"g").replace("reflink",O.reflink).replace("nolink",O.nolink).getRegex(),O.normal=t({},O),O.pedantic=t({},O.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b(/^!?\[(label)\]\((.*?)\)/).replace("label",O._label).getRegex(),reflink:b(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",O._label).getRegex()}),O.gfm=t({},O.normal,{escape:b(O.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),O.gfm.url=b(O.gfm.url,"i").replace("email",O.gfm._extended_email).getRegex(),O.breaks=t({},O.gfm,{br:b(O.br).replace("{2,}","*").getRegex(),text:b(O.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function B(ke){return ke.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z(ke){var ye="",Ce,re,ae=ke.length;for(Ce=0;Ce<ae;Ce++)re=ke.charCodeAt(Ce),Math.random()>.5&&(re="x"+re.toString(16)),ye+="&#"+re+";";return ye}var j=function(){function ke(Ce){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ce||te.defaults,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var re={block:F.normal,inline:O.normal};this.options.pedantic?(re.block=F.pedantic,re.inline=O.pedantic):this.options.gfm&&(re.block=F.gfm,this.options.breaks?re.inline=O.breaks:re.inline=O.gfm),this.tokenizer.rules=re}ke.lex=function(re,ae){var J=new ke(ae);return J.lex(re)},ke.lexInline=function(re,ae){var J=new ke(ae);return J.inlineTokens(re)};var ye=ke.prototype;return ye.lex=function(re){re=re.replace(/\r\n|\r/g,`
`),this.blockTokens(re,this.tokens);for(var ae;ae=this.inlineQueue.shift();)this.inlineTokens(ae.src,ae.tokens);return this.tokens},ye.blockTokens=function(re,ae){var J=this;ae===void 0&&(ae=[]),this.options.pedantic?re=re.replace(/\t/g,"    ").replace(/^ +$/gm,""):re=re.replace(/^( *)(\t+)/gm,function(ue,Se,se){return Se+"    ".repeat(se.length)});for(var D,N,$,q;re;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ue){return(D=ue.call({lexer:J},re,ae))?(re=re.substring(D.raw.length),ae.push(D),!0):!1}))){if(D=this.tokenizer.space(re)){re=re.substring(D.raw.length),D.raw.length===1&&ae.length>0?ae[ae.length-1].raw+=`
`:ae.push(D);continue}if(D=this.tokenizer.code(re)){re=re.substring(D.raw.length),N=ae[ae.length-1],N&&(N.type==="paragraph"||N.type==="text")?(N.raw+=`
`+D.raw,N.text+=`
`+D.text,this.inlineQueue[this.inlineQueue.length-1].src=N.text):ae.push(D);continue}if(D=this.tokenizer.fences(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.heading(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.hr(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.blockquote(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.list(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.html(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.def(re)){re=re.substring(D.raw.length),N=ae[ae.length-1],N&&(N.type==="paragraph"||N.type==="text")?(N.raw+=`
`+D.raw,N.text+=`
`+D.raw,this.inlineQueue[this.inlineQueue.length-1].src=N.text):this.tokens.links[D.tag]||(this.tokens.links[D.tag]={href:D.href,title:D.title});continue}if(D=this.tokenizer.table(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.lheading(re)){re=re.substring(D.raw.length),ae.push(D);continue}if($=re,this.options.extensions&&this.options.extensions.startBlock&&function(){var ue=1/0,Se=re.slice(1),se=void 0;J.options.extensions.startBlock.forEach(function(ve){se=ve.call({lexer:this},Se),typeof se=="number"&&se>=0&&(ue=Math.min(ue,se))}),ue<1/0&&ue>=0&&($=re.substring(0,ue+1))}(),this.state.top&&(D=this.tokenizer.paragraph($))){N=ae[ae.length-1],q&&N.type==="paragraph"?(N.raw+=`
`+D.raw,N.text+=`
`+D.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):ae.push(D),q=$.length!==re.length,re=re.substring(D.raw.length);continue}if(D=this.tokenizer.text(re)){re=re.substring(D.raw.length),N=ae[ae.length-1],N&&N.type==="text"?(N.raw+=`
`+D.raw,N.text+=`
`+D.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=N.text):ae.push(D);continue}if(re){var ee="Infinite loop on byte: "+re.charCodeAt(0);if(this.options.silent){console.error(ee);break}else throw new Error(ee)}}return this.state.top=!0,ae},ye.inline=function(re,ae){return ae===void 0&&(ae=[]),this.inlineQueue.push({src:re,tokens:ae}),ae},ye.inlineTokens=function(re,ae){var J=this;ae===void 0&&(ae=[]);var D,N,$,q=re,ee,ue,Se;if(this.tokens.links){var se=Object.keys(this.tokens.links);if(se.length>0)for(;(ee=this.tokenizer.rules.inline.reflinkSearch.exec(q))!=null;)se.includes(ee[0].slice(ee[0].lastIndexOf("[")+1,-1))&&(q=q.slice(0,ee.index)+"["+V("a",ee[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ee=this.tokenizer.rules.inline.blockSkip.exec(q))!=null;)q=q.slice(0,ee.index)+"["+V("a",ee[0].length-2)+"]"+q.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ee=this.tokenizer.rules.inline.escapedEmSt.exec(q))!=null;)q=q.slice(0,ee.index)+"++"+q.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;re;)if(ue||(Se=""),ue=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ee){return(D=Ee.call({lexer:J},re,ae))?(re=re.substring(D.raw.length),ae.push(D),!0):!1}))){if(D=this.tokenizer.escape(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.tag(re)){re=re.substring(D.raw.length),N=ae[ae.length-1],N&&D.type==="text"&&N.type==="text"?(N.raw+=D.raw,N.text+=D.text):ae.push(D);continue}if(D=this.tokenizer.link(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.reflink(re,this.tokens.links)){re=re.substring(D.raw.length),N=ae[ae.length-1],N&&D.type==="text"&&N.type==="text"?(N.raw+=D.raw,N.text+=D.text):ae.push(D);continue}if(D=this.tokenizer.emStrong(re,q,Se)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.codespan(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.br(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.del(re)){re=re.substring(D.raw.length),ae.push(D);continue}if(D=this.tokenizer.autolink(re,z)){re=re.substring(D.raw.length),ae.push(D);continue}if(!this.state.inLink&&(D=this.tokenizer.url(re,z))){re=re.substring(D.raw.length),ae.push(D);continue}if($=re,this.options.extensions&&this.options.extensions.startInline&&function(){var Ee=1/0,Be=re.slice(1),$e=void 0;J.options.extensions.startInline.forEach(function(tt){$e=tt.call({lexer:this},Be),typeof $e=="number"&&$e>=0&&(Ee=Math.min(Ee,$e))}),Ee<1/0&&Ee>=0&&($=re.substring(0,Ee+1))}(),D=this.tokenizer.inlineText($,B)){re=re.substring(D.raw.length),D.raw.slice(-1)!=="_"&&(Se=D.raw.slice(-1)),ue=!0,N=ae[ae.length-1],N&&N.type==="text"?(N.raw+=D.raw,N.text+=D.text):ae.push(D);continue}if(re){var ve="Infinite loop on byte: "+re.charCodeAt(0);if(this.options.silent){console.error(ve);break}else throw new Error(ve)}}return ae},n(ke,null,[{key:"rules",get:function(){return{block:F,inline:O}}}]),ke}(),G=function(){function ke(Ce){this.options=Ce||te.defaults}var ye=ke.prototype;return ye.code=function(re,ae,J){var D=(ae||"").match(/\S*/)[0];if(this.options.highlight){var N=this.options.highlight(re,D);N!=null&&N!==re&&(J=!0,re=N)}return re=re.replace(/\n$/,"")+`
`,D?'<pre><code class="'+this.options.langPrefix+h(D,!0)+'">'+(J?re:h(re,!0))+`</code></pre>
`:"<pre><code>"+(J?re:h(re,!0))+`</code></pre>
`},ye.blockquote=function(re){return`<blockquote>
`+re+`</blockquote>
`},ye.html=function(re){return re},ye.heading=function(re,ae,J,D){if(this.options.headerIds){var N=this.options.headerPrefix+D.slug(J);return"<h"+ae+' id="'+N+'">'+re+"</h"+ae+`>
`}return"<h"+ae+">"+re+"</h"+ae+`>
`},ye.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ye.list=function(re,ae,J){var D=ae?"ol":"ul",N=ae&&J!==1?' start="'+J+'"':"";return"<"+D+N+`>
`+re+"</"+D+`>
`},ye.listitem=function(re){return"<li>"+re+`</li>
`},ye.checkbox=function(re){return"<input "+(re?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ye.paragraph=function(re){return"<p>"+re+`</p>
`},ye.table=function(re,ae){return ae&&(ae="<tbody>"+ae+"</tbody>"),`<table>
<thead>
`+re+`</thead>
`+ae+`</table>
`},ye.tablerow=function(re){return`<tr>
`+re+`</tr>
`},ye.tablecell=function(re,ae){var J=ae.header?"th":"td",D=ae.align?"<"+J+' align="'+ae.align+'">':"<"+J+">";return D+re+("</"+J+`>
`)},ye.strong=function(re){return"<strong>"+re+"</strong>"},ye.em=function(re){return"<em>"+re+"</em>"},ye.codespan=function(re){return"<code>"+re+"</code>"},ye.br=function(){return this.options.xhtml?"<br/>":"<br>"},ye.del=function(re){return"<del>"+re+"</del>"},ye.link=function(re,ae,J){if(re=w(this.options.sanitize,this.options.baseUrl,re),re===null)return J;var D='<a href="'+h(re)+'"';return ae&&(D+=' title="'+ae+'"'),D+=">"+J+"</a>",D},ye.image=function(re,ae,J){if(re=w(this.options.sanitize,this.options.baseUrl,re),re===null)return J;var D='<img src="'+re+'" alt="'+J+'"';return ae&&(D+=' title="'+ae+'"'),D+=this.options.xhtml?"/>":">",D},ye.text=function(re){return re},ke}(),Z=function(){function ke(){}var ye=ke.prototype;return ye.strong=function(re){return re},ye.em=function(re){return re},ye.codespan=function(re){return re},ye.del=function(re){return re},ye.html=function(re){return re},ye.text=function(re){return re},ye.link=function(re,ae,J){return""+J},ye.image=function(re,ae,J){return""+J},ye.br=function(){return""},ke}(),he=function(){function ke(){this.seen={}}var ye=ke.prototype;return ye.serialize=function(re){return re.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ye.getNextSafeSlug=function(re,ae){var J=re,D=0;if(this.seen.hasOwnProperty(J)){D=this.seen[re];do D++,J=re+"-"+D;while(this.seen.hasOwnProperty(J))}return ae||(this.seen[re]=D,this.seen[J]=0),J},ye.slug=function(re,ae){ae===void 0&&(ae={});var J=this.serialize(re);return this.getNextSafeSlug(J,ae.dryrun)},ke}(),oe=function(){function ke(Ce){this.options=Ce||te.defaults,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Z,this.slugger=new he}ke.parse=function(re,ae){var J=new ke(ae);return J.parse(re)},ke.parseInline=function(re,ae){var J=new ke(ae);return J.parseInline(re)};var ye=ke.prototype;return ye.parse=function(re,ae){ae===void 0&&(ae=!0);var J="",D,N,$,q,ee,ue,Se,se,ve,Ee,Be,$e,tt,Ke,et,it,dt,Oe,st,Q=re.length;for(D=0;D<Q;D++){if(Ee=re[D],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ee.type]&&(st=this.options.extensions.renderers[Ee.type].call({parser:this},Ee),st!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ee.type))){J+=st||"";continue}switch(Ee.type){case"space":continue;case"hr":{J+=this.renderer.hr();continue}case"heading":{J+=this.renderer.heading(this.parseInline(Ee.tokens),Ee.depth,o(this.parseInline(Ee.tokens,this.textRenderer)),this.slugger);continue}case"code":{J+=this.renderer.code(Ee.text,Ee.lang,Ee.escaped);continue}case"table":{for(se="",Se="",q=Ee.header.length,N=0;N<q;N++)Se+=this.renderer.tablecell(this.parseInline(Ee.header[N].tokens),{header:!0,align:Ee.align[N]});for(se+=this.renderer.tablerow(Se),ve="",q=Ee.rows.length,N=0;N<q;N++){for(ue=Ee.rows[N],Se="",ee=ue.length,$=0;$<ee;$++)Se+=this.renderer.tablecell(this.parseInline(ue[$].tokens),{header:!1,align:Ee.align[$]});ve+=this.renderer.tablerow(Se)}J+=this.renderer.table(se,ve);continue}case"blockquote":{ve=this.parse(Ee.tokens),J+=this.renderer.blockquote(ve);continue}case"list":{for(Be=Ee.ordered,$e=Ee.start,tt=Ee.loose,q=Ee.items.length,ve="",N=0;N<q;N++)et=Ee.items[N],it=et.checked,dt=et.task,Ke="",et.task&&(Oe=this.renderer.checkbox(it),tt?et.tokens.length>0&&et.tokens[0].type==="paragraph"?(et.tokens[0].text=Oe+" "+et.tokens[0].text,et.tokens[0].tokens&&et.tokens[0].tokens.length>0&&et.tokens[0].tokens[0].type==="text"&&(et.tokens[0].tokens[0].text=Oe+" "+et.tokens[0].tokens[0].text)):et.tokens.unshift({type:"text",text:Oe}):Ke+=Oe),Ke+=this.parse(et.tokens,tt),ve+=this.renderer.listitem(Ke,dt,it);J+=this.renderer.list(ve,Be,$e);continue}case"html":{J+=this.renderer.html(Ee.text);continue}case"paragraph":{J+=this.renderer.paragraph(this.parseInline(Ee.tokens));continue}case"text":{for(ve=Ee.tokens?this.parseInline(Ee.tokens):Ee.text;D+1<Q&&re[D+1].type==="text";)Ee=re[++D],ve+=`
`+(Ee.tokens?this.parseInline(Ee.tokens):Ee.text);J+=ae?this.renderer.paragraph(ve):ve;continue}default:{var X='Token with "'+Ee.type+'" type was not found.';if(this.options.silent){console.error(X);return}else throw new Error(X)}}}return J},ye.parseInline=function(re,ae){ae=ae||this.renderer;var J="",D,N,$,q=re.length;for(D=0;D<q;D++){if(N=re[D],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]&&($=this.options.extensions.renderers[N.type].call({parser:this},N),$!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(N.type))){J+=$||"";continue}switch(N.type){case"escape":{J+=ae.text(N.text);break}case"html":{J+=ae.html(N.text);break}case"link":{J+=ae.link(N.href,N.title,this.parseInline(N.tokens,ae));break}case"image":{J+=ae.image(N.href,N.title,N.text);break}case"strong":{J+=ae.strong(this.parseInline(N.tokens,ae));break}case"em":{J+=ae.em(this.parseInline(N.tokens,ae));break}case"codespan":{J+=ae.codespan(N.text);break}case"br":{J+=ae.br();break}case"del":{J+=ae.del(this.parseInline(N.tokens,ae));break}case"text":{J+=ae.text(N.text);break}default:{var ee='Token with "'+N.type+'" type was not found.';if(this.options.silent){console.error(ee);return}else throw new Error(ee)}}}return J},ke}();function ce(ke,ye,Ce){if(typeof ke>"u"||ke===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");if(typeof ye=="function"&&(Ce=ye,ye=null),ye=t({},ce.defaults,ye||{}),L(ye),Ce){var re=ye.highlight,ae;try{ae=j.lex(ke,ye)}catch(q){return Ce(q)}var J=function(ee){var ue;if(!ee)try{ye.walkTokens&&ce.walkTokens(ae,ye.walkTokens),ue=oe.parse(ae,ye)}catch(Se){ee=Se}return ye.highlight=re,ee?Ce(ee):Ce(null,ue)};if(!re||re.length<3||(delete ye.highlight,!ae.length))return J();var D=0;ce.walkTokens(ae,function(q){q.type==="code"&&(D++,setTimeout(function(){re(q.text,q.lang,function(ee,ue){if(ee)return J(ee);ue!=null&&ue!==q.text&&(q.text=ue,q.escaped=!0),D--,D===0&&J()})},0))}),D===0&&J();return}function N(q){if(q.message+=`
Please report this to https://github.com/markedjs/marked.`,ye.silent)return"<p>An error occurred:</p><pre>"+h(q.message+"",!0)+"</pre>";throw q}try{var $=j.lex(ke,ye);if(ye.walkTokens){if(ye.async)return Promise.all(ce.walkTokens($,ye.walkTokens)).then(function(){return oe.parse($,ye)}).catch(N);ce.walkTokens($,ye.walkTokens)}return oe.parse($,ye)}catch(q){N(q)}}ce.options=ce.setOptions=function(ke){return t(ce.defaults,ke),A(ce.defaults),ce},ce.getDefaults=I,ce.defaults=te.defaults,ce.use=function(){for(var ke=arguments.length,ye=new Array(ke),Ce=0;Ce<ke;Ce++)ye[Ce]=arguments[Ce];var re=t.apply(void 0,[{}].concat(ye)),ae=ce.defaults.extensions||{renderers:{},childTokens:{}},J;ye.forEach(function(D){if(D.extensions&&(J=!0,D.extensions.forEach(function($){if(!$.name)throw new Error("extension name required");if($.renderer){var q=ae.renderers?ae.renderers[$.name]:null;q?ae.renderers[$.name]=function(){for(var ee=arguments.length,ue=new Array(ee),Se=0;Se<ee;Se++)ue[Se]=arguments[Se];var se=$.renderer.apply(this,ue);return se===!1&&(se=q.apply(this,ue)),se}:ae.renderers[$.name]=$.renderer}if($.tokenizer){if(!$.level||$.level!=="block"&&$.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ae[$.level]?ae[$.level].unshift($.tokenizer):ae[$.level]=[$.tokenizer],$.start&&($.level==="block"?ae.startBlock?ae.startBlock.push($.start):ae.startBlock=[$.start]:$.level==="inline"&&(ae.startInline?ae.startInline.push($.start):ae.startInline=[$.start]))}$.childTokens&&(ae.childTokens[$.name]=$.childTokens)})),D.renderer&&function(){var $=ce.defaults.renderer||new G,q=function(Se){var se=$[Se];$[Se]=function(){for(var ve=arguments.length,Ee=new Array(ve),Be=0;Be<ve;Be++)Ee[Be]=arguments[Be];var $e=D.renderer[Se].apply($,Ee);return $e===!1&&($e=se.apply($,Ee)),$e}};for(var ee in D.renderer)q(ee);re.renderer=$}(),D.tokenizer&&function(){var $=ce.defaults.tokenizer||new T,q=function(Se){var se=$[Se];$[Se]=function(){for(var ve=arguments.length,Ee=new Array(ve),Be=0;Be<ve;Be++)Ee[Be]=arguments[Be];var $e=D.tokenizer[Se].apply($,Ee);return $e===!1&&($e=se.apply($,Ee)),$e}};for(var ee in D.tokenizer)q(ee);re.tokenizer=$}(),D.walkTokens){var N=ce.defaults.walkTokens;re.walkTokens=function($){var q=[];return q.push(D.walkTokens.call(this,$)),N&&(q=q.concat(N.call(this,$))),q}}J&&(re.extensions=ae),ce.setOptions(re)})},ce.walkTokens=function(ke,ye){for(var Ce=[],re=function(){var N=J.value;switch(Ce=Ce.concat(ye.call(ce,N)),N.type){case"table":{for(var $=M(N.header),q;!(q=$()).done;){var ee=q.value;Ce=Ce.concat(ce.walkTokens(ee.tokens,ye))}for(var ue=M(N.rows),Se;!(Se=ue()).done;)for(var se=Se.value,ve=M(se),Ee;!(Ee=ve()).done;){var Be=Ee.value;Ce=Ce.concat(ce.walkTokens(Be.tokens,ye))}break}case"list":{Ce=Ce.concat(ce.walkTokens(N.items,ye));break}default:ce.defaults.extensions&&ce.defaults.extensions.childTokens&&ce.defaults.extensions.childTokens[N.type]?ce.defaults.extensions.childTokens[N.type].forEach(function($e){Ce=Ce.concat(ce.walkTokens(N[$e],ye))}):N.tokens&&(Ce=Ce.concat(ce.walkTokens(N.tokens,ye)))}},ae=M(ke),J;!(J=ae()).done;)re();return Ce},ce.parseInline=function(ke,ye){if(typeof ke>"u"||ke===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ke!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ke)+", string expected");ye=t({},ce.defaults,ye||{}),L(ye);try{var Ce=j.lexInline(ke,ye);return ye.walkTokens&&ce.walkTokens(Ce,ye.walkTokens),oe.parseInline(Ce,ye)}catch(re){if(re.message+=`
Please report this to https://github.com/markedjs/marked.`,ye.silent)return"<p>An error occurred:</p><pre>"+h(re.message+"",!0)+"</pre>";throw re}},ce.Parser=oe,ce.parser=oe.parse,ce.Renderer=G,ce.TextRenderer=Z,ce.Lexer=j,ce.lexer=j.lex,ce.Tokenizer=T,ce.Slugger=he,ce.parse=ce;var le=ce.options,fe=ce.setOptions,Y=ce.use,ge=ce.walkTokens,we=ce.parseInline,Fe=ce,xe=oe.parse,Xe=j.lex;te.Lexer=j,te.Parser=oe,te.Renderer=G,te.Slugger=he,te.TextRenderer=Z,te.Tokenizer=T,te.getDefaults=I,te.lexer=Xe,te.marked=ce,te.options=le,te.parse=Fe,te.parseInline=we,te.parser=xe,te.setOptions=fe,te.use=Y,te.walkTokens=ge,Object.defineProperty(te,"__esModule",{value:!0})}),define(De[109],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.Counter=e.rot=e.clamp=void 0;function n(A,S,C){return Math.min(Math.max(A,S),C)}e.clamp=n;function k(A,S){return(S+A%S)%S}e.rot=k;class _{constructor(){this._next=0}getNext(){return this._next++}}e.Counter=_;class M{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=M;class I{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const C=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=C,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=I}),function(){function te(_){const M=[];typeof _=="number"&&M.push("code/timeOrigin",_);function I(S){M.push(S,Date.now())}function A(){const S=[];for(let C=0;C<M.length;C+=2)S.push({name:M[C],startTime:M[C+1]});return S}return{mark:I,getMarks:A}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?te():{mark(_){performance.mark(_)},getMarks(){let _=performance.timeOrigin;typeof _!="number"&&(_=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const M=[{name:"code/timeOrigin",startTime:Math.round(_)}];for(const I of performance.getEntriesByType("mark"))M.push({name:I.name,startTime:Math.round(_+I.startTime)});return M}};if(typeof process=="object"){const _=Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return te(_)}else return console.trace("perf-util loaded in UNKNOWN environment"),te()}function n(_){return _.MonacoPerformanceMarks||(_.MonacoPerformanceMarks=e()),_.MonacoPerformanceMarks}var k;typeof global=="object"?k=global:typeof self=="object"?k=self:k={},typeof define=="function"?define("vs/base/common/performance",[],function(){return n(k)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=n(k):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),k.perf=n(k))}(),function(te,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var n=e();for(var k in n)(typeof exports=="object"?exports:te)[k]=n[k]}}(typeof self<"u"?self:this,function(){return function(te){var e={};function n(k){if(e[k])return e[k].exports;var _=e[k]={i:k,l:!1,exports:{}};return te[k].call(_.exports,_,_.exports,n),_.l=!0,_.exports}return n.m=te,n.c=e,n.d=function(k,_,M){n.o(k,_)||Object.defineProperty(k,_,{enumerable:!0,get:M})},n.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},n.t=function(k,_){if(1&_&&(k=n(k)),8&_||4&_&&typeof k=="object"&&k&&k.__esModule)return k;var M=Object.create(null);if(n.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:k}),2&_&&typeof k!="string")for(var I in k)n.d(M,I,function(A){return k[A]}.bind(null,I));return M},n.n=function(k){var _=k&&k.__esModule?function(){return k.default}:function(){return k};return n.d(_,"a",_),_},n.o=function(k,_){return Object.prototype.hasOwnProperty.call(k,_)},n.p="",n(n.s=0)}([function(te,e,n){(function(k){var _;e=te.exports=Y,_=typeof k=="object"&&k.env&&k.env.NODE_DEBUG&&/\bsemver\b/i.test(k.env.NODE_DEBUG)?function(){var se=Array.prototype.slice.call(arguments,0);se.unshift("SEMVER"),console.log.apply(console,se)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var M=256,I=Number.MAX_SAFE_INTEGER||9007199254740991,A=e.re=[],S=e.src=[],C=0,R=C++;S[R]="0|[1-9]\\d*";var y=C++;S[y]="[0-9]+";var f=C++;S[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var v=C++;S[v]="("+S[R]+")\\.("+S[R]+")\\.("+S[R]+")";var h=C++;S[h]="("+S[y]+")\\.("+S[y]+")\\.("+S[y]+")";var i=C++;S[i]="(?:"+S[R]+"|"+S[f]+")";var o=C++;S[o]="(?:"+S[y]+"|"+S[f]+")";var u=C++;S[u]="(?:-("+S[i]+"(?:\\."+S[i]+")*))";var b=C++;S[b]="(?:-?("+S[o]+"(?:\\."+S[o]+")*))";var E=C++;S[E]="[0-9A-Za-z-]+";var g=C++;S[g]="(?:\\+("+S[E]+"(?:\\."+S[E]+")*))";var w=C++,s="v?"+S[v]+S[u]+"?"+S[g]+"?";S[w]="^"+s+"$";var r="[v=\\s]*"+S[h]+S[b]+"?"+S[g]+"?",a=C++;S[a]="^"+r+"$";var d=C++;S[d]="((?:<|>)?=?)";var l=C++;S[l]=S[y]+"|x|X|\\*";var c=C++;S[c]=S[R]+"|x|X|\\*";var t=C++;S[t]="[v=\\s]*("+S[c]+")(?:\\.("+S[c]+")(?:\\.("+S[c]+")(?:"+S[u]+")?"+S[g]+"?)?)?";var m=C++;S[m]="[v=\\s]*("+S[l]+")(?:\\.("+S[l]+")(?:\\.("+S[l]+")(?:"+S[b]+")?"+S[g]+"?)?)?";var p=C++;S[p]="^"+S[d]+"\\s*"+S[t]+"$";var P=C++;S[P]="^"+S[d]+"\\s*"+S[m]+"$";var L=C++;S[L]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var V=C++;S[V]="(?:~>?)";var H=C++;S[H]="(\\s*)"+S[V]+"\\s+",A[H]=new RegExp(S[H],"g");var W=C++;S[W]="^"+S[V]+S[t]+"$";var T=C++;S[T]="^"+S[V]+S[m]+"$";var F=C++;S[F]="(?:\\^)";var O=C++;S[O]="(\\s*)"+S[F]+"\\s+",A[O]=new RegExp(S[O],"g");var B=C++;S[B]="^"+S[F]+S[t]+"$";var z=C++;S[z]="^"+S[F]+S[m]+"$";var j=C++;S[j]="^"+S[d]+"\\s*("+r+")$|^$";var G=C++;S[G]="^"+S[d]+"\\s*("+s+")$|^$";var Z=C++;S[Z]="(\\s*)"+S[d]+"\\s*("+r+"|"+S[t]+")",A[Z]=new RegExp(S[Z],"g");var he=C++;S[he]="^\\s*("+S[t]+")\\s+-\\s+("+S[t]+")\\s*$";var oe=C++;S[oe]="^\\s*("+S[m]+")\\s+-\\s+("+S[m]+")\\s*$";var ce=C++;S[ce]="(<|>)?=?\\s*\\*";for(var le=0;le<35;le++)_(le,S[le]),A[le]||(A[le]=new RegExp(S[le]));function fe(se,ve){if(se instanceof Y)return se;if(typeof se!="string"||se.length>M||!(ve?A[a]:A[w]).test(se))return null;try{return new Y(se,ve)}catch{return null}}function Y(se,ve){if(se instanceof Y){if(se.loose===ve)return se;se=se.version}else if(typeof se!="string")throw new TypeError("Invalid Version: "+se);if(se.length>M)throw new TypeError("version is longer than "+M+" characters");if(!(this instanceof Y))return new Y(se,ve);_("SemVer",se,ve),this.loose=ve;var Ee=se.trim().match(ve?A[a]:A[w]);if(!Ee)throw new TypeError("Invalid Version: "+se);if(this.raw=se,this.major=+Ee[1],this.minor=+Ee[2],this.patch=+Ee[3],this.major>I||this.major<0)throw new TypeError("Invalid major version");if(this.minor>I||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>I||this.patch<0)throw new TypeError("Invalid patch version");Ee[4]?this.prerelease=Ee[4].split(".").map(function(Be){if(/^[0-9]+$/.test(Be)){var $e=+Be;if($e>=0&&$e<I)return $e}return Be}):this.prerelease=[],this.build=Ee[5]?Ee[5].split("."):[],this.format()}e.parse=fe,e.valid=function(se,ve){var Ee=fe(se,ve);return Ee?Ee.version:null},e.clean=function(se,ve){var Ee=fe(se.trim().replace(/^[=v]+/,""),ve);return Ee?Ee.version:null},e.SemVer=Y,Y.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Y.prototype.toString=function(){return this.version},Y.prototype.compare=function(se){return _("SemVer.compare",this.version,this.loose,se),se instanceof Y||(se=new Y(se,this.loose)),this.compareMain(se)||this.comparePre(se)},Y.prototype.compareMain=function(se){return se instanceof Y||(se=new Y(se,this.loose)),we(this.major,se.major)||we(this.minor,se.minor)||we(this.patch,se.patch)},Y.prototype.comparePre=function(se){if(se instanceof Y||(se=new Y(se,this.loose)),this.prerelease.length&&!se.prerelease.length)return-1;if(!this.prerelease.length&&se.prerelease.length)return 1;if(!this.prerelease.length&&!se.prerelease.length)return 0;var ve=0;do{var Ee=this.prerelease[ve],Be=se.prerelease[ve];if(_("prerelease compare",ve,Ee,Be),Ee===void 0&&Be===void 0)return 0;if(Be===void 0)return 1;if(Ee===void 0)return-1;if(Ee!==Be)return we(Ee,Be)}while(++ve)},Y.prototype.inc=function(se,ve){switch(se){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",ve);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",ve);break;case"prepatch":this.prerelease.length=0,this.inc("patch",ve),this.inc("pre",ve);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",ve),this.inc("pre",ve);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var Ee=this.prerelease.length;--Ee>=0;)typeof this.prerelease[Ee]=="number"&&(this.prerelease[Ee]++,Ee=-2);Ee===-1&&this.prerelease.push(0)}ve&&(this.prerelease[0]===ve?isNaN(this.prerelease[1])&&(this.prerelease=[ve,0]):this.prerelease=[ve,0]);break;default:throw new Error("invalid increment argument: "+se)}return this.format(),this.raw=this.version,this},e.inc=function(se,ve,Ee,Be){typeof Ee=="string"&&(Be=Ee,Ee=void 0);try{return new Y(se,Ee).inc(ve,Be).version}catch{return null}},e.diff=function(se,ve){if(ke(se,ve))return null;var Ee=fe(se),Be=fe(ve);if(Ee.prerelease.length||Be.prerelease.length){for(var $e in Ee)if(($e==="major"||$e==="minor"||$e==="patch")&&Ee[$e]!==Be[$e])return"pre"+$e;return"prerelease"}for(var $e in Ee)if(($e==="major"||$e==="minor"||$e==="patch")&&Ee[$e]!==Be[$e])return $e},e.compareIdentifiers=we;var ge=/^[0-9]+$/;function we(se,ve){var Ee=ge.test(se),Be=ge.test(ve);return Ee&&Be&&(se=+se,ve=+ve),Ee&&!Be?-1:Be&&!Ee?1:se<ve?-1:se>ve?1:0}function Fe(se,ve,Ee){return new Y(se,Ee).compare(new Y(ve,Ee))}function xe(se,ve,Ee){return Fe(se,ve,Ee)>0}function Xe(se,ve,Ee){return Fe(se,ve,Ee)<0}function ke(se,ve,Ee){return Fe(se,ve,Ee)===0}function ye(se,ve,Ee){return Fe(se,ve,Ee)!==0}function Ce(se,ve,Ee){return Fe(se,ve,Ee)>=0}function re(se,ve,Ee){return Fe(se,ve,Ee)<=0}function ae(se,ve,Ee,Be){var $e;switch(ve){case"===":typeof se=="object"&&(se=se.version),typeof Ee=="object"&&(Ee=Ee.version),$e=se===Ee;break;case"!==":typeof se=="object"&&(se=se.version),typeof Ee=="object"&&(Ee=Ee.version),$e=se!==Ee;break;case"":case"=":case"==":$e=ke(se,Ee,Be);break;case"!=":$e=ye(se,Ee,Be);break;case">":$e=xe(se,Ee,Be);break;case">=":$e=Ce(se,Ee,Be);break;case"<":$e=Xe(se,Ee,Be);break;case"<=":$e=re(se,Ee,Be);break;default:throw new TypeError("Invalid operator: "+ve)}return $e}function J(se,ve){if(se instanceof J){if(se.loose===ve)return se;se=se.value}if(!(this instanceof J))return new J(se,ve);_("comparator",se,ve),this.loose=ve,this.parse(se),this.semver===D?this.value="":this.value=this.operator+this.semver.version,_("comp",this)}e.rcompareIdentifiers=function(se,ve){return we(ve,se)},e.major=function(se,ve){return new Y(se,ve).major},e.minor=function(se,ve){return new Y(se,ve).minor},e.patch=function(se,ve){return new Y(se,ve).patch},e.compare=Fe,e.compareLoose=function(se,ve){return Fe(se,ve,!0)},e.rcompare=function(se,ve,Ee){return Fe(ve,se,Ee)},e.sort=function(se,ve){return se.sort(function(Ee,Be){return e.compare(Ee,Be,ve)})},e.rsort=function(se,ve){return se.sort(function(Ee,Be){return e.rcompare(Ee,Be,ve)})},e.gt=xe,e.lt=Xe,e.eq=ke,e.neq=ye,e.gte=Ce,e.lte=re,e.cmp=ae,e.Comparator=J;var D={};function N(se,ve){if(se instanceof N)return se.loose===ve?se:new N(se.raw,ve);if(se instanceof J)return new N(se.value,ve);if(!(this instanceof N))return new N(se,ve);if(this.loose=ve,this.raw=se,this.set=se.split(/\s*\|\|\s*/).map(function(Ee){return this.parseRange(Ee.trim())},this).filter(function(Ee){return Ee.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+se);this.format()}function $(se){return!se||se.toLowerCase()==="x"||se==="*"}function q(se,ve,Ee,Be,$e,tt,Ke,et,it,dt,Oe,st,Q){return((ve=$(Ee)?"":$(Be)?">="+Ee+".0.0":$($e)?">="+Ee+"."+Be+".0":">="+ve)+" "+(et=$(it)?"":$(dt)?"<"+(+it+1)+".0.0":$(Oe)?"<"+it+"."+(+dt+1)+".0":st?"<="+it+"."+dt+"."+Oe+"-"+st:"<="+et)).trim()}function ee(se,ve){for(var Ee=0;Ee<se.length;Ee++)if(!se[Ee].test(ve))return!1;if(ve.prerelease.length){for(Ee=0;Ee<se.length;Ee++)if(_(se[Ee].semver),se[Ee].semver!==D&&se[Ee].semver.prerelease.length>0){var Be=se[Ee].semver;if(Be.major===ve.major&&Be.minor===ve.minor&&Be.patch===ve.patch)return!0}return!1}return!0}function ue(se,ve,Ee){try{ve=new N(ve,Ee)}catch{return!1}return ve.test(se)}function Se(se,ve,Ee,Be){var $e,tt,Ke,et,it;switch(se=new Y(se,Be),ve=new N(ve,Be),Ee){case">":$e=xe,tt=re,Ke=Xe,et=">",it=">=";break;case"<":$e=Xe,tt=Ce,Ke=xe,et="<",it="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(se,ve,Be))return!1;for(var dt=0;dt<ve.set.length;++dt){var Oe=ve.set[dt],st=null,Q=null;if(Oe.forEach(function(X){X.semver===D&&(X=new J(">=0.0.0")),st=st||X,Q=Q||X,$e(X.semver,st.semver,Be)?st=X:Ke(X.semver,Q.semver,Be)&&(Q=X)}),st.operator===et||st.operator===it||(!Q.operator||Q.operator===et)&&tt(se,Q.semver)||Q.operator===it&&Ke(se,Q.semver))return!1}return!0}J.prototype.parse=function(se){var ve=this.loose?A[j]:A[G],Ee=se.match(ve);if(!Ee)throw new TypeError("Invalid comparator: "+se);this.operator=Ee[1],this.operator==="="&&(this.operator=""),Ee[2]?this.semver=new Y(Ee[2],this.loose):this.semver=D},J.prototype.toString=function(){return this.value},J.prototype.test=function(se){return _("Comparator.test",se,this.loose),this.semver===D||(typeof se=="string"&&(se=new Y(se,this.loose)),ae(se,this.operator,this.semver,this.loose))},J.prototype.intersects=function(se,ve){if(!(se instanceof J))throw new TypeError("a Comparator is required");var Ee;if(this.operator==="")return Ee=new N(se.value,ve),ue(this.value,Ee,ve);if(se.operator==="")return Ee=new N(this.value,ve),ue(se.semver,Ee,ve);var Be=!(this.operator!==">="&&this.operator!==">"||se.operator!==">="&&se.operator!==">"),$e=!(this.operator!=="<="&&this.operator!=="<"||se.operator!=="<="&&se.operator!=="<"),tt=this.semver.version===se.semver.version,Ke=!(this.operator!==">="&&this.operator!=="<="||se.operator!==">="&&se.operator!=="<="),et=ae(this.semver,"<",se.semver,ve)&&(this.operator===">="||this.operator===">")&&(se.operator==="<="||se.operator==="<"),it=ae(this.semver,">",se.semver,ve)&&(this.operator==="<="||this.operator==="<")&&(se.operator===">="||se.operator===">");return Be||$e||tt&&Ke||et||it},e.Range=N,N.prototype.format=function(){return this.range=this.set.map(function(se){return se.join(" ").trim()}).join("||").trim(),this.range},N.prototype.toString=function(){return this.range},N.prototype.parseRange=function(se){var ve=this.loose;se=se.trim(),_("range",se,ve);var Ee=ve?A[oe]:A[he];se=se.replace(Ee,q),_("hyphen replace",se),se=se.replace(A[Z],"$1$2$3"),_("comparator trim",se,A[Z]),se=(se=(se=se.replace(A[H],"$1~")).replace(A[O],"$1^")).split(/\s+/).join(" ");var Be=ve?A[j]:A[G],$e=se.split(" ").map(function(tt){return function(Ke,et){return _("comp",Ke),Ke=function(it,dt){return it.trim().split(/\s+/).map(function(Oe){return function(st,Q){_("caret",st,Q);var X=Q?A[z]:A[B];return st.replace(X,function(pe,Le,Ue,He,Je){var nt;return _("caret",st,pe,Le,Ue,He,Je),$(Le)?nt="":$(Ue)?nt=">="+Le+".0.0 <"+(+Le+1)+".0.0":$(He)?nt=Le==="0"?">="+Le+"."+Ue+".0 <"+Le+"."+(+Ue+1)+".0":">="+Le+"."+Ue+".0 <"+(+Le+1)+".0.0":Je?(_("replaceCaret pr",Je),Je.charAt(0)!=="-"&&(Je="-"+Je),nt=Le==="0"?Ue==="0"?">="+Le+"."+Ue+"."+He+Je+" <"+Le+"."+Ue+"."+(+He+1):">="+Le+"."+Ue+"."+He+Je+" <"+Le+"."+(+Ue+1)+".0":">="+Le+"."+Ue+"."+He+Je+" <"+(+Le+1)+".0.0"):(_("no pr"),nt=Le==="0"?Ue==="0"?">="+Le+"."+Ue+"."+He+" <"+Le+"."+Ue+"."+(+He+1):">="+Le+"."+Ue+"."+He+" <"+Le+"."+(+Ue+1)+".0":">="+Le+"."+Ue+"."+He+" <"+(+Le+1)+".0.0"),_("caret return",nt),nt})}(Oe,dt)}).join(" ")}(Ke,et),_("caret",Ke),Ke=function(it,dt){return it.trim().split(/\s+/).map(function(Oe){return function(st,Q){var X=Q?A[T]:A[W];return st.replace(X,function(pe,Le,Ue,He,Je){var nt;return _("tilde",st,pe,Le,Ue,He,Je),$(Le)?nt="":$(Ue)?nt=">="+Le+".0.0 <"+(+Le+1)+".0.0":$(He)?nt=">="+Le+"."+Ue+".0 <"+Le+"."+(+Ue+1)+".0":Je?(_("replaceTilde pr",Je),Je.charAt(0)!=="-"&&(Je="-"+Je),nt=">="+Le+"."+Ue+"."+He+Je+" <"+Le+"."+(+Ue+1)+".0"):nt=">="+Le+"."+Ue+"."+He+" <"+Le+"."+(+Ue+1)+".0",_("tilde return",nt),nt})}(Oe,dt)}).join(" ")}(Ke,et),_("tildes",Ke),Ke=function(it,dt){return _("replaceXRanges",it,dt),it.split(/\s+/).map(function(Oe){return function(st,Q){st=st.trim();var X=Q?A[P]:A[p];return st.replace(X,function(pe,Le,Ue,He,Je,nt){_("xRange",st,pe,Le,Ue,He,Je,nt);var vt=$(Ue),wt=vt||$(He),kt=wt||$(Je);return Le==="="&&kt&&(Le=""),vt?pe=Le===">"||Le==="<"?"<0.0.0":"*":Le&&kt?(wt&&(He=0),kt&&(Je=0),Le===">"?(Le=">=",wt?(Ue=+Ue+1,He=0,Je=0):kt&&(He=+He+1,Je=0)):Le==="<="&&(Le="<",wt?Ue=+Ue+1:He=+He+1),pe=Le+Ue+"."+He+"."+Je):wt?pe=">="+Ue+".0.0 <"+(+Ue+1)+".0.0":kt&&(pe=">="+Ue+"."+He+".0 <"+Ue+"."+(+He+1)+".0"),_("xRange return",pe),pe})}(Oe,dt)}).join(" ")}(Ke,et),_("xrange",Ke),Ke=function(it,dt){return _("replaceStars",it,dt),it.trim().replace(A[ce],"")}(Ke,et),_("stars",Ke),Ke}(tt,ve)}).join(" ").split(/\s+/);return this.loose&&($e=$e.filter(function(tt){return!!tt.match(Be)})),$e=$e.map(function(tt){return new J(tt,ve)})},N.prototype.intersects=function(se,ve){if(!(se instanceof N))throw new TypeError("a Range is required");return this.set.some(function(Ee){return Ee.every(function(Be){return se.set.some(function($e){return $e.every(function(tt){return Be.intersects(tt,ve)})})})})},e.toComparators=function(se,ve){return new N(se,ve).set.map(function(Ee){return Ee.map(function(Be){return Be.value}).join(" ").trim().split(" ")})},N.prototype.test=function(se){if(!se)return!1;typeof se=="string"&&(se=new Y(se,this.loose));for(var ve=0;ve<this.set.length;ve++)if(ee(this.set[ve],se))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(se,ve,Ee){var Be=null,$e=null;try{var tt=new N(ve,Ee)}catch{return null}return se.forEach(function(Ke){tt.test(Ke)&&(Be&&$e.compare(Ke)!==-1||($e=new Y(Be=Ke,Ee)))}),Be},e.minSatisfying=function(se,ve,Ee){var Be=null,$e=null;try{var tt=new N(ve,Ee)}catch{return null}return se.forEach(function(Ke){tt.test(Ke)&&(Be&&$e.compare(Ke)!==1||($e=new Y(Be=Ke,Ee)))}),Be},e.validRange=function(se,ve){try{return new N(se,ve).range||"*"}catch{return null}},e.ltr=function(se,ve,Ee){return Se(se,ve,"<",Ee)},e.gtr=function(se,ve,Ee){return Se(se,ve,">",Ee)},e.outside=Se,e.prerelease=function(se,ve){var Ee=fe(se,ve);return Ee&&Ee.prerelease.length?Ee.prerelease:null},e.intersects=function(se,ve,Ee){return se=new N(se,Ee),ve=new N(ve,Ee),se.intersects(ve)},e.coerce=function(se){if(se instanceof Y)return se;if(typeof se!="string")return null;var ve=se.match(A[L]);return ve==null?null:fe((ve[1]||"0")+"."+(ve[2]||"0")+"."+(ve[3]||"0"))}}).call(this,n(1))},function(te,e){var n,k,_=te.exports={};function M(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}function A(o){if(n===setTimeout)return setTimeout(o,0);if((n===M||!n)&&setTimeout)return n=setTimeout,setTimeout(o,0);try{return n(o,0)}catch{try{return n.call(null,o,0)}catch{return n.call(this,o,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:M}catch{n=M}try{k=typeof clearTimeout=="function"?clearTimeout:I}catch{k=I}})();var S,C=[],R=!1,y=-1;function f(){R&&S&&(R=!1,S.length?C=S.concat(C):y=-1,C.length&&v())}function v(){if(!R){var o=A(f);R=!0;for(var u=C.length;u;){for(S=C,C=[];++y<u;)S&&S[y].run();y=-1,u=C.length}S=null,R=!1,function(b){if(k===clearTimeout)return clearTimeout(b);if((k===I||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(b);try{k(b)}catch{try{return k.call(null,b)}catch{return k.call(this,b)}}}(o)}}function h(o,u){this.fun=o,this.array=u}function i(){}_.nextTick=function(o){var u=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)u[b-1]=arguments[b];C.push(new h(o,u)),C.length!==1||R||A(v)},h.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=i,_.addListener=i,_.once=i,_.off=i,_.removeListener=i,_.removeAllListeners=i,_.emit=i,_.prependListener=i,_.prependOnceListener=i,_.listeners=function(o){return[]},_.binding=function(o){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(o){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}}])}),define(De[110],Ie([1,0,11,7]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=e.isReadable=void 0;function _(g){const w=g;return w?typeof w.read=="function":!1}e.isReadable=_;function M(g){const w=g;return w?[w.on,w.pause,w.resume,w.destroy].every(s=>typeof s=="function"):!1}e.isReadableStream=M;function I(g){const w=g;return w?M(w.stream)&&Array.isArray(w.buffer)&&typeof w.ended=="boolean":!1}e.isReadableBufferedStream=I;function A(g,w){return new S(g,w)}e.newWriteableStream=A;class S{constructor(w,s){this.reducer=w,this.options=s,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(w){if(!this.state.destroyed){if(this.state.flowing)this.emitData(w);else if(this.buffer.data.push(w),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(s=>this.pendingWritePromises.push(s))}}error(w){this.state.destroyed||(this.state.flowing?this.emitError(w):this.buffer.error.push(w))}end(w){this.state.destroyed||(typeof w<"u"&&this.write(w),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(w){this.listeners.data.slice(0).forEach(s=>s(w))}emitError(w){this.listeners.error.length===0?(0,n.onUnexpectedError)(w):this.listeners.error.slice(0).forEach(s=>s(w))}emitEnd(){this.listeners.end.slice(0).forEach(w=>w())}on(w,s){if(!this.state.destroyed)switch(w){case"data":this.listeners.data.push(s),this.resume();break;case"end":this.listeners.end.push(s),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(s),this.state.flowing&&this.flowErrors();break}}removeListener(w,s){if(this.state.destroyed)return;let r;switch(w){case"data":r=this.listeners.data;break;case"end":r=this.listeners.end;break;case"error":r=this.listeners.error;break}if(r){const a=r.indexOf(s);a>=0&&r.splice(a,1)}}flowData(){if(this.buffer.data.length>0){const w=this.reducer(this.buffer.data);this.emitData(w),this.buffer.data.length=0;const s=[...this.pendingWritePromises];this.pendingWritePromises.length=0,s.forEach(r=>r())}}flowErrors(){if(this.listeners.error.length>0){for(const w of this.buffer.error)this.emitError(w);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function C(g,w){const s=[];let r;for(;(r=g.read())!==null;)s.push(r);return w(s)}e.consumeReadable=C;function R(g,w,s){const r=[];let a;for(;(a=g.read())!==null&&r.length<s;)r.push(a);return a===null&&r.length>0?w(r):{read:()=>{if(r.length>0)return r.shift();if(typeof a<"u"){const d=a;return a=void 0,d}return g.read()}}}e.peekReadable=R;function y(g,w){return new Promise((s,r)=>{const a=[];f(g,{onData:d=>{w&&a.push(d)},onError:d=>{w?r(d):s(void 0)},onEnd:()=>{s(w?w(a):void 0)}})})}e.consumeStream=y;function f(g,w){let s=!1;return g.on("error",r=>{s||w.onError(r)}),g.on("end",()=>{s||w.onEnd()}),g.on("data",r=>{s||w.onData(r)}),(0,k.toDisposable)(()=>s=!0)}e.listenStream=f;function v(g,w){return new Promise((s,r)=>{const a=new k.DisposableStore,d=[],l=m=>{if(d.push(m),d.length>w)return a.dispose(),g.pause(),s({stream:g,buffer:d,ended:!1})},c=m=>r(m),t=()=>s({stream:g,buffer:d,ended:!0});a.add((0,k.toDisposable)(()=>g.removeListener("error",c))),g.on("error",c),a.add((0,k.toDisposable)(()=>g.removeListener("end",t))),g.on("end",t),a.add((0,k.toDisposable)(()=>g.removeListener("data",l))),g.on("data",l)})}e.peekStream=v;function h(g,w){const s=A(w);return s.end(g),s}e.toStream=h;function i(){const g=A(()=>{throw new Error("not supported")});return g.end(),g}e.emptyStream=i;function o(g){let w=!1;return{read:()=>w?null:(w=!0,g)}}e.toReadable=o;function u(g,w,s){const r=A(s);return f(g,{onData:a=>r.write(w.data(a)),onError:a=>r.error(w.error?w.error(a):a),onEnd:()=>r.end()}),r}e.transform=u;function b(g,w,s){let r=!1;return{read:()=>{const a=w.read();return r?a:(r=!0,a!==null?s([g,a]):g)}}}e.prefixedReadable=b;function E(g,w,s){let r=!1;const a=A(s);return f(w,{onData:d=>r?a.write(d):(r=!0,a.write(s([g,d]))),onError:d=>a.error(d),onEnd:()=>{r||(r=!0,a.write(g)),a.end()}}),a}e.prefixedStream=E}),define(De[24],Ie([1,0,110]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeBase64=e.decodeBase64=e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u";let _,M;class I{static alloc(m){return k?new I(Buffer.allocUnsafe(m)):new I(new Uint8Array(m))}static wrap(m){return k&&!Buffer.isBuffer(m)&&(m=Buffer.from(m.buffer,m.byteOffset,m.byteLength)),new I(m)}static fromString(m,p){return!(p?.dontUseNodeBuffer||!1)&&k?new I(Buffer.from(m)):(_||(_=new TextEncoder),new I(_.encode(m)))}static fromByteArray(m){const p=I.alloc(m.length);for(let P=0,L=m.length;P<L;P++)p.buffer[P]=m[P];return p}static concat(m,p){if(typeof p>"u"){p=0;for(let V=0,H=m.length;V<H;V++)p+=m[V].byteLength}const P=I.alloc(p);let L=0;for(let V=0,H=m.length;V<H;V++){const W=m[V];P.set(W,L),L+=W.byteLength}return P}constructor(m){this.buffer=m,this.byteLength=this.buffer.byteLength}clone(){const m=I.alloc(this.byteLength);return m.set(this),m}toString(){return k?this.buffer.toString():(M||(M=new TextDecoder),M.decode(this.buffer))}slice(m,p){return new I(this.buffer.subarray(m,p))}set(m,p){if(m instanceof I)this.buffer.set(m.buffer,p);else if(m instanceof Uint8Array)this.buffer.set(m,p);else if(m instanceof ArrayBuffer)this.buffer.set(new Uint8Array(m),p);else if(ArrayBuffer.isView(m))this.buffer.set(new Uint8Array(m.buffer,m.byteOffset,m.byteLength),p);else throw new Error("Unknown argument 'array'")}readUInt32BE(m){return C(this.buffer,m)}writeUInt32BE(m,p){R(this.buffer,m,p)}readUInt32LE(m){return y(this.buffer,m)}writeUInt32LE(m,p){f(this.buffer,m,p)}readUInt8(m){return v(this.buffer,m)}writeUInt8(m,p){h(this.buffer,m,p)}}e.VSBuffer=I;function A(t,m){return t[m+0]<<0>>>0|t[m+1]<<8>>>0}e.readUInt16LE=A;function S(t,m,p){t[p+0]=m&255,m=m>>>8,t[p+1]=m&255}e.writeUInt16LE=S;function C(t,m){return t[m]*2**24+t[m+1]*2**16+t[m+2]*2**8+t[m+3]}e.readUInt32BE=C;function R(t,m,p){t[p+3]=m,m=m>>>8,t[p+2]=m,m=m>>>8,t[p+1]=m,m=m>>>8,t[p]=m}e.writeUInt32BE=R;function y(t,m){return t[m+0]<<0>>>0|t[m+1]<<8>>>0|t[m+2]<<16>>>0|t[m+3]<<24>>>0}e.readUInt32LE=y;function f(t,m,p){t[p+0]=m&255,m=m>>>8,t[p+1]=m&255,m=m>>>8,t[p+2]=m&255,m=m>>>8,t[p+3]=m&255}e.writeUInt32LE=f;function v(t,m){return t[m]}e.readUInt8=v;function h(t,m,p){t[p]=m}e.writeUInt8=h;function i(t){return n.consumeReadable(t,m=>I.concat(m))}e.readableToBuffer=i;function o(t){return n.toReadable(t)}e.bufferToReadable=o;function u(t){return n.consumeStream(t,m=>I.concat(m))}e.streamToBuffer=u;async function b(t){return t.ended?I.concat(t.buffer):I.concat([...t.buffer,await u(t.stream)])}e.bufferedStreamToBuffer=b;function E(t){return n.toStream(t,m=>I.concat(m))}e.bufferToStream=E;function g(t){return n.transform(t,{data:m=>typeof m=="string"?I.fromString(m):I.wrap(m)},m=>I.concat(m))}e.streamToBufferReadableStream=g;function w(t){return n.newWriteableStream(m=>I.concat(m),t)}e.newWriteableBufferStream=w;function s(t,m){return n.prefixedReadable(t,m,p=>I.concat(p))}e.prefixedBufferReadable=s;function r(t,m){return n.prefixedStream(t,m,p=>I.concat(p))}e.prefixedBufferStream=r;function a(t){let m=0,p=0,P=0;const L=new Uint8Array(Math.floor(t.length/4*3)),V=W=>{switch(p){case 3:L[P++]=m|W,p=0;break;case 2:L[P++]=m|W>>>2,m=W<<6,p=3;break;case 1:L[P++]=m|W>>>4,m=W<<4,p=2;break;default:m=W<<2,p=1}};for(let W=0;W<t.length;W++){const T=t.charCodeAt(W);if(T>=65&&T<=90)V(T-65);else if(T>=97&&T<=122)V(T-97+26);else if(T>=48&&T<=57)V(T-48+52);else if(T===43||T===45)V(62);else if(T===47||T===95)V(63);else{if(T===61)break;throw new SyntaxError(`Unexpected base64 character ${t[W]}`)}}const H=P;for(;p>0;)V(0);return I.wrap(L).slice(0,H)}e.decodeBase64=a;const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function c({buffer:t},m=!0,p=!1){const P=p?l:d;let L="";const V=t.byteLength%3;let H=0;for(;H<t.byteLength-V;H+=3){const W=t[H+0],T=t[H+1],F=t[H+2];L+=P[W>>>2],L+=P[(W<<4|T>>>4)&63],L+=P[(T<<2|F>>>6)&63],L+=P[F&63]}if(V===1){const W=t[H+0];L+=P[W>>>2],L+=P[W<<4&63],m&&(L+="==")}else if(V===2){const W=t[H+0],T=t[H+1];L+=P[W>>>2],L+=P[(W<<4|T>>>4)&63],L+=P[T<<2&63],m&&(L+="=")}return L}e.encodeBase64=c}),define(De[34],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const n=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function k(_){return n.test(_)}e.isUUID=k,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let _;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?_=crypto.getRandomValues.bind(crypto):_=function(A){for(let S=0;S<A.length;S++)A[S]=Math.floor(Math.random()*256);return A};const M=new Uint8Array(16),I=[];for(let A=0;A<256;A++)I.push(A.toString(16).padStart(2,"0"));return function(){_(M),M[6]=M[6]&15|64,M[8]=M[8]&63|128;let S=0,C="";return C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C+="-",C+=I[M[S++]],C+=I[M[S++]],C+="-",C+=I[M[S++]],C+=I[M[S++]],C+="-",C+=I[M[S++]],C+=I[M[S++]],C+="-",C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C+=I[M[S++]],C}}()}),define(De[111],Ie([1,0,16,34]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function _(A){return{id:(0,k.generateUuid)(),asString:async()=>A,asFile:()=>{},value:typeof A=="string"?A:void 0}}e.createStringDataTransferItem=_;function M(A,S,C){return{id:(0,k.generateUuid)(),asString:async()=>"",asFile:()=>({name:A,uri:S,data:C}),value:void 0}}e.createFileDataTransferItem=M;class I{constructor(){this._entries=new Map}get size(){return this._entries.size}has(S){return this._entries.has(this.toKey(S))}get(S){return this._entries.get(this.toKey(S))?.[0]}append(S,C){const R=this._entries.get(S);R?R.push(C):this._entries.set(this.toKey(S),[C])}replace(S,C){this._entries.set(this.toKey(S),[C])}delete(S){this._entries.delete(this.toKey(S))}*entries(){for(const[S,C]of this._entries.entries())for(const R of C)yield[S,R]}values(){return Array.from(this._entries.values()).flat()}forEach(S){for(const[C,R]of this.entries())S(R,C)}toKey(S){return S.toLowerCase()}}e.VSDataTransfer=I,e.UriList=Object.freeze({create:A=>(0,n.distinct)(A.map(S=>S.toString())).join(`\r
`),split:A=>A.split(`\r
`),parse:A=>e.UriList.split(A).filter(S=>!S.startsWith("#"))})}),define(De[112],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(De[113],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var n;(function(I){I[I.None=0]="None",I[I.Indent=1]="Indent",I[I.IndentOutdent=2]="IndentOutdent",I[I.Outdent=3]="Outdent"})(n=e.IndentAction||(e.IndentAction={}));class k{constructor(A){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=A.open,this.close=A.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(A.notIn))for(let S=0,C=A.notIn.length;S<C;S++)switch(A.notIn[S]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(A){switch(A){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(A,S){if(A.getTokenCount()===0)return!0;const C=A.findTokenIndexAtOffset(S-2),R=A.getStandardTokenType(C);return this.isOK(R)}_findNeutralCharacterInRange(A,S){for(let C=A;C<=S;C++){const R=String.fromCharCode(C);if(!this.open.includes(R)&&!this.close.includes(R))return R}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class _{constructor(A){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const S of A)M(this.autoClosingPairsOpenByStart,S.open.charAt(0),S),M(this.autoClosingPairsOpenByEnd,S.open.charAt(S.open.length-1),S),M(this.autoClosingPairsCloseByStart,S.close.charAt(0),S),M(this.autoClosingPairsCloseByEnd,S.close.charAt(S.close.length-1),S),S.close.length===1&&S.open.length===1&&M(this.autoClosingPairsCloseSingleChar,S.close,S)}}e.AutoClosingPairs=_;function M(I,A,S){I.has(A)?I.get(A).push(S):I.set(A,[S])}}),define(De[114],Ie([17,18]),function(te,e){return te.create("vs/base/common/date",e)}),define(De[115],Ie([1,0,114]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalISOString=e.fromNow=void 0;const k=60,_=k*60,M=_*24,I=M*7,A=M*30,S=M*365;function C(y,f,v){typeof y!="number"&&(y=y.getTime());const h=Math.round((new Date().getTime()-y)/1e3);if(h<-30)return(0,n.localize)(0,null,C(new Date().getTime()+h*1e3,!1));if(h<30)return(0,n.localize)(1,null);let i;return h<k?(i=h,f?i===1?v?(0,n.localize)(2,null,i):(0,n.localize)(3,null,i):v?(0,n.localize)(4,null,i):(0,n.localize)(5,null,i):i===1?v?(0,n.localize)(6,null,i):(0,n.localize)(7,null,i):v?(0,n.localize)(8,null,i):(0,n.localize)(9,null,i)):h<_?(i=Math.floor(h/k),f?i===1?v?(0,n.localize)(10,null,i):(0,n.localize)(11,null,i):v?(0,n.localize)(12,null,i):(0,n.localize)(13,null,i):i===1?v?(0,n.localize)(14,null,i):(0,n.localize)(15,null,i):v?(0,n.localize)(16,null,i):(0,n.localize)(17,null,i)):h<M?(i=Math.floor(h/_),f?i===1?v?(0,n.localize)(18,null,i):(0,n.localize)(19,null,i):v?(0,n.localize)(20,null,i):(0,n.localize)(21,null,i):i===1?v?(0,n.localize)(22,null,i):(0,n.localize)(23,null,i):v?(0,n.localize)(24,null,i):(0,n.localize)(25,null,i)):h<I?(i=Math.floor(h/M),f?i===1?(0,n.localize)(26,null,i):(0,n.localize)(27,null,i):i===1?(0,n.localize)(28,null,i):(0,n.localize)(29,null,i)):h<A?(i=Math.floor(h/I),f?i===1?v?(0,n.localize)(30,null,i):(0,n.localize)(31,null,i):v?(0,n.localize)(32,null,i):(0,n.localize)(33,null,i):i===1?v?(0,n.localize)(34,null,i):(0,n.localize)(35,null,i):v?(0,n.localize)(36,null,i):(0,n.localize)(37,null,i)):h<S?(i=Math.floor(h/A),f?i===1?v?(0,n.localize)(38,null,i):(0,n.localize)(39,null,i):v?(0,n.localize)(40,null,i):(0,n.localize)(41,null,i):i===1?v?(0,n.localize)(42,null,i):(0,n.localize)(43,null,i):v?(0,n.localize)(44,null,i):(0,n.localize)(45,null,i)):(i=Math.floor(h/S),f?i===1?v?(0,n.localize)(46,null,i):(0,n.localize)(47,null,i):v?(0,n.localize)(48,null,i):(0,n.localize)(49,null,i):i===1?v?(0,n.localize)(50,null,i):(0,n.localize)(51,null,i):v?(0,n.localize)(52,null,i):(0,n.localize)(53,null,i))}e.fromNow=C;function R(y){return y.getFullYear()+"-"+String(y.getMonth()+1).padStart(2,"0")+"-"+String(y.getDate()).padStart(2,"0")+"T"+String(y.getHours()).padStart(2,"0")+":"+String(y.getMinutes()).padStart(2,"0")+":"+String(y.getSeconds()).padStart(2,"0")+"."+(y.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.toLocalISOString=R}),define(De[116],Ie([17,18]),function(te,e){return te.create("vs/base/common/errorMessage",e)}),define(De[45],Ie([1,0,16,9,116]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.toErrorMessage=void 0;function M(y,f){return f&&(y.stack||y.stacktrace)?_.localize(0,null,A(y),I(y.stack)||I(y.stacktrace)):A(y)}function I(y){return Array.isArray(y)?y.join(`
`):y}function A(y){return typeof y.code=="string"&&typeof y.errno=="number"&&typeof y.syscall=="string"?_.localize(1,null,y.message):y.message||_.localize(2,null)}function S(y=null,f=!1){if(!y)return _.localize(3,null);if(Array.isArray(y)){const v=n.coalesce(y),h=S(v[0],f);return v.length>1?_.localize(4,null,h,v.length):h}if(k.isString(y))return y;if(y.detail){const v=y.detail;if(v.error)return M(v.error,f);if(v.exception)return M(v.exception,f)}return y.stack?M(y,f):y.message?y.message:_.localize(5,null)}e.toErrorMessage=S;function C(y){const f=y;return f instanceof Error&&Array.isArray(f.actions)}e.isErrorWithActions=C;function R(y,f){let v;return typeof y=="string"?v=new Error(y):v=y,v.actions=f,v}e.createErrorWithActions=R}),define(De[61],Ie([1,0,19]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeMimeType=e.getExtensionForMimeType=e.getMediaMime=e.getMediaOrTextMime=e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const k={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},_={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function M(R){const y=(0,n.extname)(R),f=k[y.toLowerCase()];return f!==void 0?f:I(R)}e.getMediaOrTextMime=M;function I(R){const y=(0,n.extname)(R);return _[y.toLowerCase()]}e.getMediaMime=I;function A(R){for(const y in _)if(_[y]===R)return y}e.getExtensionForMimeType=A;const S=/^(.+)\/(.+?)(;.+)?$/;function C(R,y){const f=S.exec(R);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:y?void 0:R}e.normalizeMimeType=C}),define(De[39],Ie([1,0,19,21,10,9]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomPath=e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(l){return l===47||l===92}e.isPathSeparator=I;function A(l){return l.replace(/[\\/]/g,n.posix.sep)}e.toSlashes=A;function S(l){return l.indexOf("/")===-1&&(l=A(l)),/^[a-zA-Z]:(\/|$)/.test(l)&&(l="/"+l),l}e.toPosixPath=S;function C(l,c=n.posix.sep){if(!l)return"";const t=l.length,m=l.charCodeAt(0);if(I(m)){if(I(l.charCodeAt(1))&&!I(l.charCodeAt(2))){let P=3;const L=P;for(;P<t&&!I(l.charCodeAt(P));P++);if(L!==P&&!I(l.charCodeAt(P+1))){for(P+=1;P<t;P++)if(I(l.charCodeAt(P)))return l.slice(0,P+1).replace(/[\\/]/g,c)}}return c}else if(u(m)&&l.charCodeAt(1)===58)return I(l.charCodeAt(2))?l.slice(0,2)+c:l.slice(0,2);let p=l.indexOf("://");if(p!==-1){for(p+=3;p<t;p++)if(I(l.charCodeAt(p)))return l.slice(0,p+1)}return""}e.getRoot=C;function R(l){if(!k.isWindows||!l||l.length<5)return!1;let c=l.charCodeAt(0);if(c!==92||(c=l.charCodeAt(1),c!==92))return!1;let t=2;const m=t;for(;t<l.length&&(c=l.charCodeAt(t),c!==92);t++);return!(m===t||(c=l.charCodeAt(t+1),isNaN(c)||c===92))}e.isUNC=R;const y=/[\\/:\*\?"<>\|]/g,f=/[\\/]/g,v=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function h(l,c=k.isWindows){const t=c?y:f;return!(!l||l.length===0||/^\s+$/.test(l)||(t.lastIndex=0,t.test(l))||c&&v.test(l)||l==="."||l===".."||c&&l[l.length-1]==="."||c&&l.length!==l.trim().length||l.length>255)}e.isValidBasename=h;function i(l,c,t){const m=l===c;return!t||m?m:!l||!c?!1:(0,_.equalsIgnoreCase)(l,c)}e.isEqual=i;function o(l,c,t,m=n.sep){if(l===c)return!0;if(!l||!c||c.length>l.length)return!1;if(t){if(!(0,_.startsWithIgnoreCase)(l,c))return!1;if(c.length===l.length)return!0;let P=c.length;return c.charAt(c.length-1)===m&&P--,l.charAt(P)===m}return c.charAt(c.length-1)!==m&&(c+=m),l.indexOf(c)===0}e.isEqualOrParent=o;function u(l){return l>=65&&l<=90||l>=97&&l<=122}e.isWindowsDriveLetter=u;function b(l,c){return k.isWindows&&l.endsWith(":")&&(l+=n.sep),(0,n.isAbsolute)(l)||(l=(0,n.join)(c,l)),l=(0,n.normalize)(l),k.isWindows?(l=(0,_.rtrim)(l,n.sep),l.endsWith(":")&&(l+=n.sep)):(l=(0,_.rtrim)(l,n.sep),l||(l=n.sep)),l}e.sanitizeFilePath=b;function E(l){const c=(0,n.normalize)(l);return k.isWindows?l.length>3?!1:g(c)&&(l.length===2||c.charCodeAt(2)===92):c===n.posix.sep}e.isRootOrDriveLetter=E;function g(l,c=k.isWindows){return c?u(l.charCodeAt(0))&&l.charCodeAt(1)===58:!1}e.hasDriveLetter=g;function w(l){return g(l)?l[0]:void 0}e.getDriveLetter=w;function s(l,c,t){return c.length>l.length?-1:l===c?0:(t&&(l=l.toLowerCase(),c=c.toLowerCase()),l.indexOf(c))}e.indexOfPath=s;function r(l){const c=l.split(":");let t,m,p;for(const P of c){const L=Number(P);(0,M.isNumber)(L)?m===void 0?m=L:p===void 0&&(p=L):t=t?[t,P].join(":"):P}if(!t)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:t,line:m!==void 0?m:void 0,column:p!==void 0?p:m!==void 0?1:void 0}}e.parseLineAndColumnAware=r;const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function d(l,c,t=8){let m="";for(let P=0;P<t;P++)m+=a.charAt(Math.floor(Math.random()*a.length));let p;return c?p=`${c}-${m}`:p=m,l?(0,n.join)(l,p):p}e.randomPath=d}),define(De[117],Ie([1,0,28,10]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function _(...J){return function(D,N){for(let $=0,q=J.length;$<q;$++){const ee=J[$](D,N);if(ee)return ee}return null}}e.or=_,e.matchesStrictPrefix=M.bind(void 0,!1),e.matchesPrefix=M.bind(void 0,!0);function M(J,D,N){if(!N||N.length<D.length)return null;let $;return J?$=k.startsWithIgnoreCase(N,D):$=N.indexOf(D)===0,$?D.length>0?[{start:0,end:D.length}]:[]:null}function I(J,D){const N=D.toLowerCase().indexOf(J.toLowerCase());return N===-1?null:[{start:N,end:N+J.length}]}e.matchesContiguousSubString=I;function A(J,D){return S(J.toLowerCase(),D.toLowerCase(),0,0)}e.matchesSubString=A;function S(J,D,N,$){if(N===J.length)return[];if($===D.length)return null;if(J[N]===D[$]){let q=null;return(q=S(J,D,N+1,$+1))?u({start:$,end:$+1},q):null}return S(J,D,N,$+1)}function C(J){return 97<=J&&J<=122}function R(J){return 65<=J&&J<=90}e.isUpper=R;function y(J){return 48<=J&&J<=57}function f(J){return J===32||J===9||J===10||J===13}const v=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(J=>v.add(J.charCodeAt(0)));function h(J){return f(J)||v.has(J)}function i(J,D){return J===D||h(J)&&h(D)}function o(J){return C(J)||R(J)||y(J)}function u(J,D){return D.length===0?D=[J]:J.end===D[0].start?D[0].start=J.start:D.unshift(J),D}function b(J,D){for(let N=D;N<J.length;N++){const $=J.charCodeAt(N);if(R($)||y($)||N>0&&!o(J.charCodeAt(N-1)))return N}return J.length}function E(J,D,N,$){if(N===J.length)return[];if($===D.length)return null;if(J[N]!==D[$].toLowerCase())return null;{let q=null,ee=$+1;for(q=E(J,D,N+1,$+1);!q&&(ee=b(D,ee))<D.length;)q=E(J,D,N+1,ee),ee++;return q===null?null:u({start:$,end:$+1},q)}}function g(J){let D=0,N=0,$=0,q=0,ee=0;for(let Ee=0;Ee<J.length;Ee++)ee=J.charCodeAt(Ee),R(ee)&&D++,C(ee)&&N++,o(ee)&&$++,y(ee)&&q++;const ue=D/J.length,Se=N/J.length,se=$/J.length,ve=q/J.length;return{upperPercent:ue,lowerPercent:Se,alphaPercent:se,numericPercent:ve}}function w(J){const{upperPercent:D,lowerPercent:N}=J;return N===0&&D>.6}function s(J){const{upperPercent:D,lowerPercent:N,alphaPercent:$,numericPercent:q}=J;return N>.2&&D<.8&&$>.6&&q<.2}function r(J){let D=0,N=0,$=0,q=0;for(let ee=0;ee<J.length;ee++)$=J.charCodeAt(ee),R($)&&D++,C($)&&N++,f($)&&q++;return(D===0||N===0)&&q===0?J.length<=30:D<=5}function a(J,D){if(!D||(D=D.trim(),D.length===0)||!r(J)||D.length>60)return null;const N=g(D);if(!s(N)){if(!w(N))return null;D=D.toLowerCase()}let $=null,q=0;for(J=J.toLowerCase();q<D.length&&($=E(J,D,0,q))===null;)q=b(D,q+1);return $}e.matchesCamelCase=a;function d(J,D,N=!1){if(!D||D.length===0)return null;let $=null,q=0;for(J=J.toLowerCase(),D=D.toLowerCase();q<D.length&&($=l(J,D,0,q,N))===null;)q=c(D,q+1);return $}e.matchesWords=d;function l(J,D,N,$,q){if(N===J.length)return[];if($===D.length)return null;if(i(J.charCodeAt(N),D.charCodeAt($))){let ee=null,ue=$+1;if(ee=l(J,D,N+1,$+1,q),!q)for(;!ee&&(ue=c(D,ue))<D.length;)ee=l(J,D,N+1,ue,q),ue++;return ee?J.charCodeAt(N)!==D.charCodeAt($)?ee:u({start:$,end:$+1},ee):null}else return null}function c(J,D){for(let N=D;N<J.length;N++)if(h(J.charCodeAt(N))||N>0&&h(J.charCodeAt(N-1)))return N;return J.length}const t=_(e.matchesPrefix,a,I),m=_(e.matchesPrefix,a,A),p=new n.LRUCache(1e4);function P(J,D,N=!1){if(typeof J!="string"||typeof D!="string")return null;let $=p.get(J);$||($=new RegExp(k.convertSimple2RegExpPattern(J),"i"),p.set(J,$));const q=$.exec(D);return q?[{start:q.index,end:q.index+q[0].length}]:N?m(J,D):t(J,D)}e.matchesFuzzy=P;function L(J,D){const N=xe(J,J.toLowerCase(),0,D,D.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return N?H(N):null}e.matchesFuzzy2=L;function V(J,D,N,$,q,ee){const ue=Math.min(13,J.length);for(;N<ue;N++){const Se=xe(J,D,N,$,q,ee,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Se)return Se}return[0,ee]}e.anyScore=V;function H(J){if(typeof J>"u")return[];const D=[],N=J[1];for(let $=J.length-1;$>1;$--){const q=J[$]+N,ee=D[D.length-1];ee&&ee.end===q?ee.end=q+1:D.push({start:q,end:q+1})}return D}e.createMatches=H;const W=128;function T(){const J=[],D=[];for(let N=0;N<=W;N++)D[N]=0;for(let N=0;N<=W;N++)J.push(D.slice(0));return J}function F(J){const D=[];for(let N=0;N<=J;N++)D[N]=0;return D}const O=F(2*W),B=F(2*W),z=T(),j=T(),G=T(),Z=!1;function he(J,D,N,$,q){function ee(Se,se,ve=" "){for(;Se.length<se;)Se=ve+Se;return Se}let ue=` |   |${$.split("").map(Se=>ee(Se,3)).join("|")}
`;for(let Se=0;Se<=N;Se++)Se===0?ue+=" |":ue+=`${D[Se-1]}|`,ue+=J[Se].slice(0,q+1).map(se=>ee(se.toString(),3)).join("|")+`
`;return ue}function oe(J,D,N,$){J=J.substr(D),N=N.substr($),console.log(he(j,J,J.length,N,N.length)),console.log(he(G,J,J.length,N,N.length)),console.log(he(z,J,J.length,N,N.length))}function ce(J,D){if(D<0||D>=J.length)return!1;const N=J.codePointAt(D);switch(N){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(N)}}function le(J,D){if(D<0||D>=J.length)return!1;switch(J.charCodeAt(D)){case 32:case 9:return!0;default:return!1}}function fe(J,D,N){return D[J]!==N[J]}function Y(J,D,N,$,q,ee,ue=!1){for(;D<N&&q<ee;)J[D]===$[q]&&(ue&&(O[D]=q),D+=1),q+=1;return D===N}e.isPatternInWord=Y;var ge;(function(J){J[J.Diag=1]="Diag",J[J.Left=2]="Left",J[J.LeftLeft=3]="LeftLeft"})(ge||(ge={}));var we;(function(J){J.Default=[-100,0];function D(N){return!N||N.length===2&&N[0]===-100&&N[1]===0}J.isDefault=D})(we=e.FuzzyScore||(e.FuzzyScore={}));class Fe{constructor(D,N){this.firstMatchCanBeWeak=D,this.boostFullMatch=N}}e.FuzzyScoreOptions=Fe,Fe.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function xe(J,D,N,$,q,ee,ue=Fe.default){const Se=J.length>W?W:J.length,se=$.length>W?W:$.length;if(N>=Se||ee>=se||Se-N>se-ee||!Y(D,N,Se,q,ee,se,!0))return;Xe(Se,se,N,ee,D,q);let ve=1,Ee=1,Be=N,$e=ee;const tt=[!1];for(ve=1,Be=N;Be<Se;ve++,Be++){const Oe=O[Be],st=B[Be],Q=Be+1<Se?B[Be+1]:se;for(Ee=Oe-ee+1,$e=Oe;$e<Q;Ee++,$e++){let X=Number.MIN_SAFE_INTEGER,pe=!1;$e<=st&&(X=ke(J,D,Be,N,$,q,$e,se,ee,z[ve-1][Ee-1]===0,tt));let Le=0;X!==Number.MAX_SAFE_INTEGER&&(pe=!0,Le=X+j[ve-1][Ee-1]);const Ue=$e>Oe,He=Ue?j[ve][Ee-1]+(z[ve][Ee-1]>0?-5:0):0,Je=$e>Oe+1&&z[ve][Ee-1]>0,nt=Je?j[ve][Ee-2]+(z[ve][Ee-2]>0?-5:0):0;if(Je&&(!Ue||nt>=He)&&(!pe||nt>=Le))j[ve][Ee]=nt,G[ve][Ee]=3,z[ve][Ee]=0;else if(Ue&&(!pe||He>=Le))j[ve][Ee]=He,G[ve][Ee]=2,z[ve][Ee]=0;else if(pe)j[ve][Ee]=Le,G[ve][Ee]=1,z[ve][Ee]=z[ve-1][Ee-1]+1;else throw new Error("not possible")}}if(Z&&oe(J,N,$,ee),!tt[0]&&!ue.firstMatchCanBeWeak)return;ve--,Ee--;const Ke=[j[ve][Ee],ee];let et=0,it=0;for(;ve>=1;){let Oe=Ee;do{const st=G[ve][Oe];if(st===3)Oe=Oe-2;else if(st===2)Oe=Oe-1;else break}while(Oe>=1);et>1&&D[N+ve-1]===q[ee+Ee-1]&&!fe(Oe+ee-1,$,q)&&et+1>z[ve][Oe]&&(Oe=Ee),Oe===Ee?et++:et=1,it||(it=Oe),ve--,Ee=Oe-1,Ke.push(Ee)}se===Se&&ue.boostFullMatch&&(Ke[0]+=2);const dt=it-Se;return Ke[0]-=dt,Ke}e.fuzzyScore=xe;function Xe(J,D,N,$,q,ee){let ue=J-1,Se=D-1;for(;ue>=N&&Se>=$;)q[ue]===ee[Se]&&(B[ue]=Se,ue--),Se--}function ke(J,D,N,$,q,ee,ue,Se,se,ve,Ee){if(D[N]!==ee[ue])return Number.MIN_SAFE_INTEGER;let Be=1,$e=!1;return ue===N-$?Be=J[N]===q[ue]?7:5:fe(ue,q,ee)&&(ue===0||!fe(ue-1,q,ee))?(Be=J[N]===q[ue]?7:5,$e=!0):ce(ee,ue)&&(ue===0||!ce(ee,ue-1))?Be=5:(ce(ee,ue-1)||le(ee,ue-1))&&(Be=5,$e=!0),Be>1&&N===$&&(Ee[0]=!0),$e||($e=fe(ue,q,ee)||ce(ee,ue-1)||le(ee,ue-1)),N===$?ue>se&&(Be-=$e?3:5):ve?Be+=$e?2:0:Be+=$e?0:1,ue+1===Se&&(Be-=$e?3:5),Be}function ye(J,D,N,$,q,ee,ue){return re(J,D,N,$,q,ee,!0,ue)}e.fuzzyScoreGracefulAggressive=ye;function Ce(J,D,N,$,q,ee,ue){return re(J,D,N,$,q,ee,!1,ue)}e.fuzzyScoreGraceful=Ce;function re(J,D,N,$,q,ee,ue,Se){let se=xe(J,D,N,$,q,ee,Se);if(se&&!ue)return se;if(J.length>=3){const ve=Math.min(7,J.length-1);for(let Ee=N+1;Ee<ve;Ee++){const Be=ae(J,Ee);if(Be){const $e=xe(Be,Be.toLowerCase(),N,$,q,ee,Se);$e&&($e[0]-=3,(!se||$e[0]>se[0])&&(se=$e))}}}return se}function ae(J,D){if(D+1>=J.length)return;const N=J[D],$=J[D+1];if(N!==$)return J.slice(0,D)+$+N+J.slice(D+2)}}),define(De[118],Ie([1,0,119,117,10]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const M="$(",I=new RegExp(`\\$\\(${n.CSSIcon.iconNameExpression}(?:${n.CSSIcon.iconModifierExpression})?\\)`,"g"),A=new RegExp(n.CSSIcon.iconNameCharacter),S=new RegExp(`(\\\\)?${I.source}`,"g");function C(u){return u.replace(S,(b,E)=>E?b:`\\${b}`)}e.escapeIcons=C;const R=new RegExp(`\\\\${I.source}`,"g");function y(u){return u.replace(R,b=>`\\${b}`)}e.markdownEscapeEscapedIcons=y;const f=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function v(u){return u.indexOf(M)===-1?u:u.replace(f,(b,E,g,w)=>g?b:E||w||"")}e.stripIcons=v;function h(u){const b=u.indexOf(M);return b===-1?{text:u}:i(u,b)}e.parseLabelWithIcons=h;function i(u,b){const E=[];let g="";function w(m){if(m){g+=m;for(const p of m)E.push(a)}}let s=-1,r="",a=0,d,l,c=b;const t=u.length;for(w(u.substr(0,b));c<t;)d=u[c],l=u[c+1],d===M[0]&&l===M[1]?(s=c,w(r),r=M,c++):d===")"&&s!==-1?(a+=c-s+1,s=-1,r=""):s!==-1?A.test(d)?r+=d:(w(r),s=-1,r=""):w(d),c++;return w(r),{text:g,iconOffsets:E}}function o(u,b,E=!1){const{text:g,iconOffsets:w}=b;if(!w||w.length===0)return(0,k.matchesFuzzy)(u,g,E);const s=(0,_.ltrim)(g," "),r=g.length-s.length,a=(0,k.matchesFuzzy)(u,s,E);if(a)for(const d of a){const l=w[d.start+r]+r;d.start+=l,d.end+=l}return a}e.matchesFuzzyIconAware=o}),define(De[29],Ie([1,0,10]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(_){_[_.Ignore=0]="Ignore",_[_.Info=1]="Info",_[_.Warning=2]="Warning",_[_.Error=3]="Error"})(k||(k={})),function(_){const M="error",I="warning",A="warn",S="info",C="ignore";function R(f){return f?n.equalsIgnoreCase(M,f)?_.Error:n.equalsIgnoreCase(I,f)||n.equalsIgnoreCase(A,f)?_.Warning:n.equalsIgnoreCase(S,f)?_.Info:_.Ignore:_.Ignore}_.fromValue=R;function y(f){switch(f){case _.Error:return M;case _.Warning:return I;case _.Info:return S;default:return C}}_.toString=y}(k||(k={})),e.default=k}),define(De[46],Ie([1,0,16,10]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class _{constructor(){this._value="",this._pos=0}reset(v){return this._value=v,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(v){const h=v.charCodeAt(0),i=this._value.charCodeAt(this._pos);return h-i}value(){return this._value[this._pos]}}e.StringIterator=_;class M{constructor(v=!0){this._caseSensitive=v}reset(v){return this._value=v,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let v=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(v)this._from++;else break;else v=!1;return this}cmp(v){return this._caseSensitive?(0,k.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,k.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=M;class I{constructor(v=!0,h=!0){this._splitOnBackslash=v,this._caseSensitive=h}reset(v){this._from=0,this._to=0,this._value=v,this._valueLen=v.length;for(let h=v.length-1;h>=0;h--,this._valueLen--){const i=this._value.charCodeAt(h);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let v=!0;for(;this._to<this._valueLen;this._to++){const h=this._value.charCodeAt(this._to);if(h===47||this._splitOnBackslash&&h===92)if(v)this._from++;else break;else v=!1}return this}cmp(v){return this._caseSensitive?(0,k.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,k.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=I;var A;(function(f){f[f.Scheme=1]="Scheme",f[f.Authority=2]="Authority",f[f.Path=3]="Path",f[f.Query=4]="Query",f[f.Fragment=5]="Fragment"})(A||(A={}));class S{constructor(v,h){this._ignorePathCasing=v,this._ignoreQueryAndFragment=h,this._states=[],this._stateIdx=0}reset(v){return this._value=v,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new I(!1,!this._ignorePathCasing(v)),this._pathIterator.reset(v.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(v)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(v){if(this._states[this._stateIdx]===1)return(0,k.compareIgnoreCase)(v,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,k.compareIgnoreCase)(v,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(v);if(this._states[this._stateIdx]===4)return(0,k.compare)(v,this._value.query);if(this._states[this._stateIdx]===5)return(0,k.compare)(v,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class C{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const v=this.right;return this.right=v.left,v.left=this,this.updateHeight(),v.updateHeight(),v}rotateRight(){const v=this.left;return this.left=v.right,v.right=this,this.updateHeight(),v.updateHeight(),v}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var R;(function(f){f[f.Left=-1]="Left",f[f.Mid=0]="Mid",f[f.Right=1]="Right"})(R||(R={}));class y{static forUris(v=()=>!1,h=()=>!1){return new y(new S(v,h))}static forPaths(v=!1){return new y(new I(void 0,!v))}static forStrings(){return new y(new _)}static forConfigKeys(){return new y(new M)}constructor(v){this._iter=v}clear(){this._root=void 0}fill(v,h){if(h){const i=h.slice(0);(0,n.shuffle)(i);for(const o of i)this.set(o,v)}else{const i=v.slice(0);(0,n.shuffle)(i);for(const o of i)this.set(o[0],o[1])}}set(v,h){const i=this._iter.reset(v);let o;this._root||(this._root=new C,this._root.segment=i.value());const u=[];for(o=this._root;;){const E=i.cmp(o.segment);if(E>0)o.left||(o.left=new C,o.left.segment=i.value()),u.push([-1,o]),o=o.left;else if(E<0)o.right||(o.right=new C,o.right.segment=i.value()),u.push([1,o]),o=o.right;else if(i.hasNext())i.next(),o.mid||(o.mid=new C,o.mid.segment=i.value()),u.push([0,o]),o=o.mid;else break}const b=o.value;o.value=h,o.key=v;for(let E=u.length-1;E>=0;E--){const g=u[E][1];g.updateHeight();const w=g.balanceFactor();if(w<-1||w>1){const s=u[E][0],r=u[E+1][0];if(s===1&&r===1)u[E][1]=g.rotateLeft();else if(s===-1&&r===-1)u[E][1]=g.rotateRight();else if(s===1&&r===-1)g.right=u[E+1][1]=u[E+1][1].rotateRight(),u[E][1]=g.rotateLeft();else if(s===-1&&r===1)g.left=u[E+1][1]=u[E+1][1].rotateLeft(),u[E][1]=g.rotateRight();else throw new Error;if(E>0)switch(u[E-1][0]){case-1:u[E-1][1].left=u[E][1];break;case 1:u[E-1][1].right=u[E][1];break;case 0:u[E-1][1].mid=u[E][1];break}else this._root=u[0][1]}}return b}get(v){return this._getNode(v)?.value}_getNode(v){const h=this._iter.reset(v);let i=this._root;for(;i;){const o=h.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(h.hasNext())h.next(),i=i.mid;else break}return i}has(v){const h=this._getNode(v);return!(h?.value===void 0&&h?.mid===void 0)}delete(v){return this._delete(v,!1)}deleteSuperstr(v){return this._delete(v,!0)}_delete(v,h){const i=this._iter.reset(v),o=[];let u=this._root;for(;u;){const b=i.cmp(u.segment);if(b>0)o.push([-1,u]),u=u.left;else if(b<0)o.push([1,u]),u=u.right;else if(i.hasNext())i.next(),o.push([0,u]),u=u.mid;else break}if(!!u){if(h?(u.left=void 0,u.mid=void 0,u.right=void 0,u.height=1):(u.key=void 0,u.value=void 0),!u.mid&&!u.value)if(u.left&&u.right){const b=this._min(u.right);if(b.key){const{key:E,value:g,segment:w}=b;this._delete(b.key,!1),u.key=E,u.value=g,u.segment=w}}else{const b=u.left??u.right;if(o.length>0){const[E,g]=o[o.length-1];switch(E){case-1:g.left=b;break;case 0:g.mid=b;break;case 1:g.right=b;break}}else this._root=b}for(let b=o.length-1;b>=0;b--){const E=o[b][1];E.updateHeight();const g=E.balanceFactor();if(g>1?(E.right.balanceFactor()>=0||(E.right=E.right.rotateRight()),o[b][1]=E.rotateLeft()):g<-1&&(E.left.balanceFactor()<=0||(E.left=E.left.rotateLeft()),o[b][1]=E.rotateRight()),b>0)switch(o[b-1][0]){case-1:o[b-1][1].left=o[b][1];break;case 1:o[b-1][1].right=o[b][1];break;case 0:o[b-1][1].mid=o[b][1];break}else this._root=o[0][1]}}}_min(v){for(;v.left;)v=v.left;return v}findSubstr(v){const h=this._iter.reset(v);let i=this._root,o;for(;i;){const u=h.cmp(i.segment);if(u>0)i=i.left;else if(u<0)i=i.right;else if(h.hasNext())h.next(),o=i.value||o,i=i.mid;else break}return i&&i.value||o}findSuperstr(v){const h=this._iter.reset(v);let i=this._root;for(;i;){const o=h.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(h.hasNext())h.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(v){for(const[h,i]of this)v(i,h)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(v){const h=[];return this._dfsEntries(v,h),h[Symbol.iterator]()}_dfsEntries(v,h){!v||(v.left&&this._dfsEntries(v.left,h),v.value&&h.push([v.key,v.value]),v.mid&&this._dfsEntries(v.mid,h),v.right&&this._dfsEntries(v.right,h))}_isBalanced(){const v=h=>{if(!h)return!0;const i=h.balanceFactor();return i<-1||i>1?!1:v(h.left)&&v(h.right)};return v(this._root)}}e.TernarySearchTree=y}),define(De[80],Ie([1,0,24,10,2]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function M(C){return JSON.stringify(C,A)}e.stringify=M;function I(C){let R=JSON.parse(C);return R=S(R),R}e.parse=I;function A(C,R){return R instanceof RegExp?{$mid:2,source:R.source,flags:(0,k.regExpFlags)(R)}:R}function S(C,R=0){if(!C||R>200)return C;if(typeof C=="object"){switch(C.$mid){case 1:return _.URI.revive(C);case 2:return new RegExp(C.source,C.flags);case 16:return new Date(C.source)}if(C instanceof n.VSBuffer||C instanceof Uint8Array)return C;if(Array.isArray(C))for(let y=0;y<C.length;++y)C[y]=S(C[y],R+1);else for(const y in C)Object.hasOwnProperty.call(C,y)&&(C[y]=S(C[y],R+1))}return C}e.revive=S}),define(De[13],Ie([1,0,21,2]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.nodeModulesAsarUnpackedPath=e.nodeModulesAsarPath=e.nodeModulesPath=e.builtinExtensionsPath=e.RemoteAuthorities=e.connectionTokenQueryName=e.connectionTokenCookieName=e.Schemas=void 0;var _;(function(S){S.inMemory="inmemory",S.vscode="vscode",S.internal="private",S.walkThrough="walkThrough",S.walkThroughSnippet="walkThroughSnippet",S.http="http",S.https="https",S.file="file",S.mailto="mailto",S.untitled="untitled",S.data="data",S.command="command",S.vscodeRemote="vscode-remote",S.vscodeRemoteResource="vscode-remote-resource",S.vscodeUserData="vscode-userdata",S.vscodeCustomEditor="vscode-custom-editor",S.vscodeNotebook="vscode-notebook",S.vscodeNotebookCell="vscode-notebook-cell",S.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",S.vscodeNotebookCellOutput="vscode-notebook-cell-output",S.vscodeInteractive="vscode-interactive",S.vscodeInteractiveInput="vscode-interactive-input",S.vscodeSettings="vscode-settings",S.vscodeWorkspaceTrust="vscode-workspace-trust",S.vscodeTerminal="vscode-terminal",S.webviewPanel="webview-panel",S.vscodeWebview="vscode-webview",S.extension="extension",S.vscodeFileResource="vscode-file",S.tmp="tmp",S.vsls="vsls",S.vscodeSourceControl="vscode-scm"})(_=e.Schemas||(e.Schemas={})),e.connectionTokenCookieName="vscode-tkn",e.connectionTokenQueryName="tkn";class M{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${_.vscodeRemoteResource}`}setPreferredWebSchema(C){this._preferredWebSchema=C}setDelegate(C){this._delegate=C}setServerRootPath(C){this._remoteResourcesPath=`${C}/${_.vscodeRemoteResource}`}set(C,R,y){this._hosts[C]=R,this._ports[C]=y}setConnectionToken(C,R){this._connectionTokens[C]=R}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(C){if(this._delegate)return this._delegate(C);const R=C.authority;let y=this._hosts[R];y&&y.indexOf(":")!==-1&&y.indexOf("[")===-1&&(y=`[${y}]`);const f=this._ports[R],v=this._connectionTokens[R];let h=`path=${encodeURIComponent(C.path)}`;return typeof v=="string"&&(h+=`&${e.connectionTokenQueryName}=${encodeURIComponent(v)}`),k.URI.from({scheme:n.isWeb?this._preferredWebSchema:_.vscodeRemoteResource,authority:`${y}:${f}`,path:this._remoteResourcesPath,query:h})}}e.RemoteAuthorities=new M,e.builtinExtensionsPath="vs/../../extensions",e.nodeModulesPath="vs/../../node_modules",e.nodeModulesAsarPath="vs/../../node_modules.asar",e.nodeModulesAsarUnpackedPath="vs/../../node_modules.asar.unpacked";class I{asBrowserUri(C){const R=this.toUri(C,te);return this.uriToBrowserUri(R)}uriToBrowserUri(C){return C.scheme===_.vscodeRemote?e.RemoteAuthorities.rewrite(C):C.scheme===_.file&&(n.isNative||n.isWebWorker&&n.globals.origin===`${_.vscodeFileResource}://${I.FALLBACK_AUTHORITY}`)?C.with({scheme:_.vscodeFileResource,authority:C.authority||I.FALLBACK_AUTHORITY,query:null,fragment:null}):C}asFileUri(C){const R=this.toUri(C,te);return this.uriToFileUri(R)}uriToFileUri(C){return C.scheme===_.vscodeFileResource?C.with({scheme:_.file,authority:C.authority!==I.FALLBACK_AUTHORITY?C.authority:null,query:null,fragment:null}):C}toUri(C,R){return k.URI.isUri(C)?C:k.URI.parse(R.toUrl(C))}}I.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new I;var A;(function(S){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);S.CoopAndCoep=Object.freeze(C.get("3"));const R="vscode-coi";function y(v){let h;typeof v=="string"?h=new URL(v).searchParams:v instanceof URL?h=v.searchParams:k.URI.isUri(v)&&(h=new URL(v.toString(!0)).searchParams);const i=h?.get(R);if(!!i)return C.get(i)}S.getHeadersFromQuery=y;function f(v,h,i){if(!globalThis.crossOriginIsolated)return;const o=h&&i?"3":i?"2":"1";v instanceof URLSearchParams?v.set(R,o):v[R]=o}S.addSearchParam=f})(A=e.COI||(e.COI={}))}),define(De[22],Ie([1,0,39,13,19,21,10,2]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function S(v){return(0,A.uriToFsPath)(v,!0)}e.originalFSPath=S;class C{constructor(h){this._ignorePathCasing=h}compare(h,i,o=!1){return h===i?0:(0,I.compare)(this.getComparisonKey(h,o),this.getComparisonKey(i,o))}isEqual(h,i,o=!1){return h===i?!0:!h||!i?!1:this.getComparisonKey(h,o)===this.getComparisonKey(i,o)}getComparisonKey(h,i=!1){return h.with({path:this._ignorePathCasing(h)?h.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(h){return this._ignorePathCasing(h)}isEqualOrParent(h,i,o=!1){if(h.scheme===i.scheme){if(h.scheme===k.Schemas.file)return n.isEqualOrParent(S(h),S(i),this._ignorePathCasing(h))&&h.query===i.query&&(o||h.fragment===i.fragment);if((0,e.isEqualAuthority)(h.authority,i.authority))return n.isEqualOrParent(h.path,i.path,this._ignorePathCasing(h),"/")&&h.query===i.query&&(o||h.fragment===i.fragment)}return!1}joinPath(h,...i){return A.URI.joinPath(h,...i)}basenameOrAuthority(h){return(0,e.basename)(h)||h.authority}basename(h){return _.posix.basename(h.path)}extname(h){return _.posix.extname(h.path)}dirname(h){if(h.path.length===0)return h;let i;return h.scheme===k.Schemas.file?i=A.URI.file(_.dirname(S(h))).path:(i=_.posix.dirname(h.path),h.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${h.toString})) resulted in a relative path`),i="/")),h.with({path:i})}normalizePath(h){if(!h.path.length)return h;let i;return h.scheme===k.Schemas.file?i=A.URI.file(_.normalize(S(h))).path:i=_.posix.normalize(h.path),h.with({path:i})}relativePath(h,i){if(h.scheme!==i.scheme||!(0,e.isEqualAuthority)(h.authority,i.authority))return;if(h.scheme===k.Schemas.file){const b=_.relative(S(h),S(i));return M.isWindows?n.toSlashes(b):b}let o=h.path||"/";const u=i.path||"/";if(this._ignorePathCasing(h)){let b=0;for(const E=Math.min(o.length,u.length);b<E&&!(o.charCodeAt(b)!==u.charCodeAt(b)&&o.charAt(b).toLowerCase()!==u.charAt(b).toLowerCase());b++);o=u.substr(0,b)+o.substr(b)}return _.posix.relative(o,u)}resolvePath(h,i){if(h.scheme===k.Schemas.file){const o=A.URI.file(_.resolve(S(h),i));return h.with({authority:o.authority,path:o.path})}return i=n.toPosixPath(i),h.with({path:_.posix.resolve(h.path,i)})}isAbsolutePath(h){return!!h.path&&h.path[0]==="/"}isEqualAuthority(h,i){return h===i||h!==void 0&&i!==void 0&&(0,I.equalsIgnoreCase)(h,i)}hasTrailingPathSeparator(h,i=_.sep){if(h.scheme===k.Schemas.file){const o=S(h);return o.length>n.getRoot(o).length&&o[o.length-1]===i}else{const o=h.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(h.fsPath)}}removeTrailingPathSeparator(h,i=_.sep){return(0,e.hasTrailingPathSeparator)(h,i)?h.with({path:h.path.substr(0,h.path.length-1)}):h}addTrailingPathSeparator(h,i=_.sep){let o=!1;if(h.scheme===k.Schemas.file){const u=S(h);o=u!==void 0&&u.length===n.getRoot(u).length&&u[u.length-1]===i}else{i="/";const u=h.path;o=u.length===1&&u.charCodeAt(u.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(h,i)?h.with({path:h.path+"/"}):h}}e.ExtUri=C,e.extUri=new C(()=>!1),e.extUriBiasedIgnorePathCase=new C(v=>v.scheme===k.Schemas.file?!M.isLinux:!0),e.extUriIgnorePathCase=new C(v=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function R(v,h){const i=[];for(let o=0;o<v.length;o++){const u=h(v[o]);v.some((b,E)=>E===o?!1:(0,e.isEqualOrParent)(u,h(b)))||i.push(v[o])}return i}e.distinctParents=R;var y;(function(v){v.META_DATA_LABEL="label",v.META_DATA_DESCRIPTION="description",v.META_DATA_SIZE="size",v.META_DATA_MIME="mime";function h(i){const o=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(E=>{const[g,w]=E.split(":");g&&w&&o.set(g,w)});const b=i.path.substring(0,i.path.indexOf(";"));return b&&o.set(v.META_DATA_MIME,b),o}v.parseMetaData=h})(y=e.DataUri||(e.DataUri={}));function f(v,h,i){if(h){let o=v.path;return o&&o[0]!==_.posix.sep&&(o=_.posix.sep+o),v.with({scheme:i,authority:h,path:o})}return v.with({scheme:i})}e.toLocalResource=f}),define(De[15],Ie([1,0,20,11,5,7,22,21]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellationError=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function S(fe){return!!fe&&typeof fe.then=="function"}e.isThenable=S;function C(fe){const Y=new n.CancellationTokenSource,ge=fe(Y.token),we=new Promise((Fe,xe)=>{const Xe=Y.token.onCancellationRequested(()=>{Xe.dispose(),Y.dispose(),xe(new k.CancellationError)});Promise.resolve(ge).then(ke=>{Xe.dispose(),Y.dispose(),Fe(ke)},ke=>{Xe.dispose(),Y.dispose(),xe(ke)})});return new class{cancel(){Y.cancel()}then(Fe,xe){return we.then(Fe,xe)}catch(Fe){return this.then(void 0,Fe)}finally(Fe){return we.finally(Fe)}}}e.createCancelablePromise=C;function R(fe,Y,ge){return new Promise((we,Fe)=>{const xe=Y.onCancellationRequested(()=>{xe.dispose(),we(ge)});fe.then(we,Fe).finally(()=>xe.dispose())})}e.raceCancellation=R;function y(fe,Y){return new Promise((ge,we)=>{const Fe=Y.onCancellationRequested(()=>{Fe.dispose(),we(new k.CancellationError)});fe.then(ge,we).finally(()=>Fe.dispose())})}e.raceCancellationError=y;async function f(fe){let Y=-1;const ge=fe.map((Fe,xe)=>Fe.then(Xe=>(Y=xe,Xe))),we=await Promise.race(ge);return fe.forEach((Fe,xe)=>{xe!==Y&&Fe.cancel()}),we}e.raceCancellablePromises=f;function v(fe,Y,ge){let we;const Fe=setTimeout(()=>{we?.(void 0),ge?.()},Y);return Promise.race([fe.finally(()=>clearTimeout(Fe)),new Promise(xe=>we=xe)])}e.raceTimeout=v;function h(fe){return new Promise((Y,ge)=>{const we=fe();S(we)?we.then(Y,ge):Y(we)})}e.asPromise=h;class i{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(Y){if(this.activePromise){if(this.queuedPromiseFactory=Y,!this.queuedPromise){const ge=()=>{this.queuedPromise=null;const we=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,we};this.queuedPromise=new Promise(we=>{this.activePromise.then(ge,ge).then(we)})}return new Promise((ge,we)=>{this.queuedPromise.then(ge,we)})}return this.activePromise=Y(),new Promise((ge,we)=>{this.activePromise.then(Fe=>{this.activePromise=null,ge(Fe)},Fe=>{this.activePromise=null,we(Fe)})})}}e.Throttler=i;class o{constructor(){this.current=Promise.resolve(null)}queue(Y){return this.current=this.current.then(()=>Y(),()=>Y())}}e.Sequencer=o;class u{constructor(){this.promiseMap=new Map}queue(Y,ge){const Fe=(this.promiseMap.get(Y)??Promise.resolve()).catch(()=>{}).then(ge).finally(()=>{this.promiseMap.get(Y)===Fe&&this.promiseMap.delete(Y)});return this.promiseMap.set(Y,Fe),Fe}}e.SequencerByKey=u;const b=(fe,Y)=>{let ge=!0;const we=setTimeout(()=>{ge=!1,Y()},fe);return{isTriggered:()=>ge,dispose:()=>{clearTimeout(we),ge=!1}}},E=fe=>{let Y=!0;return queueMicrotask(()=>{Y&&(Y=!1,fe())}),{isTriggered:()=>Y,dispose:()=>{Y=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class g{constructor(Y){this.defaultDelay=Y,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(Y,ge=this.defaultDelay){this.task=Y,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((Fe,xe)=>{this.doResolve=Fe,this.doReject=xe}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Fe=this.task;return this.task=null,Fe()}}));const we=()=>{this.deferred=null,this.doResolve?.(null)};return this.deferred=ge===e.MicrotaskDelay?E(we):b(ge,we),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new k.CancellationError),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=g;class w{constructor(Y){this.delayer=new g(Y),this.throttler=new i}trigger(Y,ge){return this.delayer.trigger(()=>this.throttler.queue(Y),ge)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=w;class s{constructor(){this._isOpen=!1,this._promise=new Promise((Y,ge)=>{this._completePromise=Y})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=s;class r extends s{constructor(Y){super(),this._timeout=setTimeout(()=>this.open(),Y)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=r;function a(fe,Y){return Y?new Promise((ge,we)=>{const Fe=setTimeout(()=>{xe.dispose(),ge()},fe),xe=Y.onCancellationRequested(()=>{clearTimeout(Fe),xe.dispose(),we(new k.CancellationError)})}):C(ge=>a(fe,ge))}e.timeout=a;function d(fe,Y=0){const ge=setTimeout(fe,Y);return(0,M.toDisposable)(()=>clearTimeout(ge))}e.disposableTimeout=d;function l(fe){const Y=[];let ge=0;const we=fe.length;function Fe(){return ge<we?fe[ge++]():null}function xe(Xe){Xe!=null&&Y.push(Xe);const ke=Fe();return ke?ke.then(xe):Promise.resolve(Y)}return Promise.resolve(null).then(xe)}e.sequence=l;function c(fe,Y=we=>!!we,ge=null){let we=0;const Fe=fe.length,xe=()=>{if(we>=Fe)return Promise.resolve(ge);const Xe=fe[we++];return Promise.resolve(Xe()).then(ye=>Y(ye)?Promise.resolve(ye):xe())};return xe()}e.first=c;function t(fe,Y=we=>!!we,ge=null){if(fe.length===0)return Promise.resolve(ge);let we=fe.length;const Fe=()=>{we=-1;for(const xe of fe)xe.cancel?.()};return new Promise((xe,Xe)=>{for(const ke of fe)ke.then(ye=>{--we>=0&&Y(ye)?(Fe(),xe(ye)):we===0&&xe(ge)}).catch(ye=>{--we>=0&&(Fe(),Xe(ye))})})}e.firstParallel=t;class m{constructor(Y){this._size=0,this.maxDegreeOfParalellism=Y,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new _.Emitter}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(Y){return this._size++,new Promise((ge,we)=>{this.outstandingPromises.push({factory:Y,c:ge,e:we}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const Y=this.outstandingPromises.shift();this.runningPromises++;const ge=Y.factory();ge.then(Y.c,Y.e),ge.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onDrained.fire()}dispose(){this._onDrained.dispose()}}e.Limiter=m;class p extends m{constructor(){super(1)}}e.Queue=p;class P{constructor(){this.queues=new Map,this.drainers=new Set}async whenDrained(){if(this.isDrained())return;const Y=new G;return this.drainers.add(Y),Y.p}isDrained(){for(const[,Y]of this.queues)if(Y.size>0)return!1;return!0}queueFor(Y,ge=I.extUri){const we=ge.getComparisonKey(Y);let Fe=this.queues.get(we);return Fe||(Fe=new p,_.Event.once(Fe.onDrained)(()=>{Fe?.dispose(),this.queues.delete(we),this.onDidQueueDrain()}),this.queues.set(we,Fe)),Fe}onDidQueueDrain(){!this.isDrained()||this.releaseDrainers()}releaseDrainers(){for(const Y of this.drainers)Y.complete();this.drainers.clear()}dispose(){for(const[,Y]of this.queues)Y.dispose();this.queues.clear(),this.releaseDrainers()}}e.ResourceQueue=P;class L{constructor(Y,ge){this._token=-1,typeof Y=="function"&&typeof ge=="number"&&this.setIfNotSet(Y,ge)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(Y,ge){this.cancel(),this._token=setTimeout(()=>{this._token=-1,Y()},ge)}setIfNotSet(Y,ge){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,Y()},ge))}}e.TimeoutTimer=L;class V{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(Y,ge){this.cancel(),this._token=setInterval(()=>{Y()},ge)}}e.IntervalTimer=V;class H{constructor(Y,ge){this.timeoutToken=-1,this.runner=Y,this.timeout=ge,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(Y=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,Y)}get delay(){return this.timeout}set delay(Y){this.timeout=Y}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}e.RunOnceScheduler=H;class W{constructor(Y,ge){ge%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${ge}ms is not a multiple of 1000ms.`),this.runner=Y,this.timeout=ge,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(Y=this.timeout){Y%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${Y}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(Y/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner?.())}}e.ProcessTimeRunOnceScheduler=W;class T extends H{constructor(Y,ge){super(Y,ge),this.units=[]}work(Y){this.units.push(Y),this.isScheduled()||this.schedule()}doRun(){const Y=this.units;this.units=[],this.runner?.(Y)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=T;class F extends M.Disposable{constructor(Y,ge){super(),this.options=Y,this.handler=ge,this.pendingWork=[],this.throttler=this._register(new M.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(Y){if(this.disposed)return!1;if(typeof this.options.maxBufferedWork=="number"){if(this.throttler.value){if(this.pending+Y.length>this.options.maxBufferedWork)return!1}else if(this.pending+Y.length-this.options.maxWorkChunkSize>this.options.maxBufferedWork)return!1}return this.pendingWork.push(...Y),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.options.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new H(()=>{this.throttler.clear(),this.doWork()},this.options.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=F,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=fe=>{(0,A.setTimeout0)(()=>{if(Y)return;const ge=Date.now()+15;fe(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,ge-Date.now())}}))});let Y=!1;return{dispose(){Y||(Y=!0)}}}:e.runWhenIdle=(fe,Y)=>{const ge=requestIdleCallback(fe,typeof Y=="number"?{timeout:Y}:void 0);let we=!1;return{dispose(){we||(we=!0,cancelIdleCallback(ge))}}}}();class O{constructor(Y){this._didRun=!1,this._executor=()=>{try{this._value=Y()}catch(ge){this._error=ge}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=O;async function B(fe,Y,ge){let we;for(let Fe=0;Fe<ge;Fe++)try{return await fe()}catch(xe){we=xe,await a(Y)}throw we}e.retry=B;class z{hasPending(Y){return this._pending?typeof Y=="number"?this._pending.taskId===Y:!!this._pending:!1}get pending(){return this._pending?.promise}cancelPending(){this._pending?.cancel()}setPending(Y,ge,we){return this._pending={taskId:Y,cancel:()=>we?.(),promise:ge},ge.then(()=>this.donePending(Y),()=>this.donePending(Y)),ge}donePending(Y){this._pending&&Y===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const Y=this._next;this._next=void 0,Y.run().then(Y.promiseResolve,Y.promiseReject)}}setNext(Y){if(this._next)this._next.run=Y;else{let ge,we;const Fe=new Promise((xe,Xe)=>{ge=xe,we=Xe});this._next={run:Y,promise:Fe,promiseResolve:ge,promiseReject:we}}return this._next.promise}hasNext(){return!!this._next}async join(){return this._next?.promise??this._pending?.promise}}e.TaskSequentializer=z;class j{constructor(Y,ge=()=>Date.now()){this.interval=Y,this.nowFn=ge,this.lastIncrementTime=0,this.value=0}increment(){const Y=this.nowFn();return Y-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=Y,this.value=0),this.value++,this.value}}e.IntervalCounter=j;class G{get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((Y,ge)=>{this.completeCallback=Y,this.errorCallback=ge})}complete(Y){return new Promise(ge=>{this.completeCallback(Y),this.resolved=!0,ge()})}error(Y){return new Promise(ge=>{this.errorCallback(Y),this.rejected=!0,ge()})}cancel(){new Promise(Y=>{this.errorCallback(new k.CancellationError),this.rejected=!0,Y()})}}e.DeferredPromise=G;var Z;(function(fe){async function Y(we){let Fe;const xe=await Promise.all(we.map(Xe=>Xe.then(ke=>ke,ke=>{Fe||(Fe=ke)})));if(typeof Fe<"u")throw Fe;return xe}fe.settled=Y;function ge(we){return new Promise(async(Fe,xe)=>{try{await we(Fe,xe)}catch(Xe){xe(Xe)}})}fe.withAsyncBody=ge})(Z=e.Promises||(e.Promises={}));var he;(function(fe){fe[fe.Initial=0]="Initial",fe[fe.DoneOK=1]="DoneOK",fe[fe.DoneError=2]="DoneError"})(he||(he={}));class oe{static fromArray(Y){return new oe(ge=>{ge.emitMany(Y)})}static fromPromise(Y){return new oe(async ge=>{ge.emitMany(await Y)})}static fromPromises(Y){return new oe(async ge=>{await Promise.all(Y.map(async we=>ge.emitOne(await we)))})}static merge(Y){return new oe(async ge=>{await Promise.all(Y.map(async we=>{for await(const Fe of we)ge.emitOne(Fe)}))})}constructor(Y){this._state=0,this._results=[],this._error=null,this._onStateChanged=new _.Emitter,queueMicrotask(async()=>{const ge={emitOne:we=>this.emitOne(we),emitMany:we=>this.emitMany(we),reject:we=>this.reject(we)};try{await Promise.resolve(Y(ge)),this.resolve()}catch(we){this.reject(we)}finally{ge.emitOne=void 0,ge.emitMany=void 0,ge.reject=void 0}})}[Symbol.asyncIterator](){let Y=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(Y<this._results.length)return{done:!1,value:this._results[Y++]};if(this._state===1)return{done:!0,value:void 0};await _.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(Y,ge){return new oe(async we=>{for await(const Fe of Y)we.emitOne(ge(Fe))})}map(Y){return oe.map(this,Y)}static filter(Y,ge){return new oe(async we=>{for await(const Fe of Y)ge(Fe)&&we.emitOne(Fe)})}filter(Y){return oe.filter(this,Y)}static coalesce(Y){return oe.filter(Y,ge=>!!ge)}coalesce(){return oe.coalesce(this)}static async toPromise(Y){const ge=[];for await(const we of Y)ge.push(we);return ge}toPromise(){return oe.toPromise(this)}emitOne(Y){this._state===0&&(this._results.push(Y),this._onStateChanged.fire())}emitMany(Y){this._state===0&&(this._results=this._results.concat(Y),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(Y){this._state===0&&(this._state=2,this._error=Y,this._onStateChanged.fire())}}e.AsyncIterableObject=oe,oe.EMPTY=oe.fromArray([]);class ce extends oe{constructor(Y,ge){super(ge),this._source=Y}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=ce;function le(fe){const Y=new n.CancellationTokenSource,ge=fe(Y.token);return new ce(Y,async we=>{const Fe=Y.token.onCancellationRequested(()=>{Fe.dispose(),Y.dispose(),we.reject(new k.CancellationError)});try{for await(const xe of ge){if(Y.token.isCancellationRequested)return;we.emitOne(xe)}Fe.dispose(),Y.dispose()}catch(xe){Fe.dispose(),Y.dispose(),we.reject(xe)}})}e.createCancelableAsyncIterable=le}),define(De[120],Ie([1,0,15,19]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.comparePaths=e.compareFileExtensionsUnicode=e.compareFileExtensionsLower=e.compareFileExtensionsUpper=e.compareFileExtensionsDefault=e.compareFileExtensions=e.noIntlCompareFileNames=e.compareFileNamesUnicode=e.compareFileNamesLower=e.compareFileNamesUpper=e.compareFileNamesDefault=e.compareFileNames=void 0;const _=new n.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}}),M=new n.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new n.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function A(p,P,L=!1){const V=p||"",H=P||"",W=_.value.collator.compare(V,H);return _.value.collatorIsNumeric&&W===0&&V!==H?V<H?-1:1:W}e.compareFileNames=A;function S(p,P){const L=M.value.collator;return p=p||"",P=P||"",w(L,p,P)}e.compareFileNamesDefault=S;function C(p,P){const L=M.value.collator;return p=p||"",P=P||"",d(p,P)||w(L,p,P)}e.compareFileNamesUpper=C;function R(p,P){const L=M.value.collator;return p=p||"",P=P||"",a(p,P)||w(L,p,P)}e.compareFileNamesLower=R;function y(p,P){return p=p||"",P=P||"",p===P?0:p<P?-1:1}e.compareFileNamesUnicode=y;function f(p,P,L=!1){L||(p=p&&p.toLowerCase(),P=P&&P.toLowerCase());const[V,H]=E(p),[W,T]=E(P);return V!==W?V<W?-1:1:H===T?0:H<T?-1:1}e.noIntlCompareFileNames=f;function v(p,P){const[L,V]=E(p),[H,W]=E(P);let T=_.value.collator.compare(V,W);if(T===0){if(_.value.collatorIsNumeric&&V!==W)return V<W?-1:1;if(T=_.value.collator.compare(L,H),_.value.collatorIsNumeric&&T===0&&L!==H)return L<H?-1:1}return T}e.compareFileExtensions=v;function h(p,P){p=p||"",P=P||"";const L=g(p),V=g(P),H=M.value.collator,W=I.value.collator;return w(W,L,V)||w(H,p,P)}e.compareFileExtensionsDefault=h;function i(p,P){p=p||"",P=P||"";const L=g(p),V=g(P),H=M.value.collator,W=I.value.collator;return w(W,L,V)||d(p,P)||w(H,p,P)}e.compareFileExtensionsUpper=i;function o(p,P){p=p||"",P=P||"";const L=g(p),V=g(P),H=M.value.collator,W=I.value.collator;return w(W,L,V)||a(p,P)||w(H,p,P)}e.compareFileExtensionsLower=o;function u(p,P){p=p||"",P=P||"";const L=g(p).toLowerCase(),V=g(P).toLowerCase();return L!==V?L<V?-1:1:p!==P?p<P?-1:1:0}e.compareFileExtensionsUnicode=u;const b=/^(.*?)(\.([^.]*))?$/;function E(p,P=!1){const L=p?b.exec(p):[];let V=[L&&L[1]||"",L&&L[3]||""];return P&&(!V[0]&&V[1]||V[0]&&V[0].charAt(0)===".")&&(V=[V[0]+"."+V[1],""]),V}function g(p){const P=p?b.exec(p):[];return P&&P[1]&&P[1].charAt(0)!=="."&&P[3]||""}function w(p,P,L){const V=p.compare(P,L);return V!==0?V:P.length!==L.length?P.length<L.length?-1:1:0}function s(p){const P=p.charAt(0);return P.toLocaleUpperCase()!==P}function r(p){const P=p.charAt(0);return P.toLocaleLowerCase()!==P}function a(p,P){return s(p)&&r(P)?-1:r(p)&&s(P)?1:0}function d(p,P){return r(p)&&s(P)?-1:s(p)&&r(P)?1:0}function l(p,P,L=!1){return L||(p=p&&p.toLowerCase(),P=P&&P.toLowerCase()),p===P?0:p<P?-1:1}function c(p,P,L=!1){const V=p.split(k.sep),H=P.split(k.sep),W=V.length-1,T=H.length-1;let F,O;for(let B=0;;B++){if(F=W===B,O=T===B,F&&O)return A(V[B],H[B],L);if(F)return-1;if(O)return 1;const z=l(V[B],H[B],L);if(z!==0)return z}}e.comparePaths=c;function t(p,P,L){const V=p.toLowerCase(),H=P.toLowerCase(),W=m(p,P,L);if(W)return W;const T=V.endsWith(L),F=H.endsWith(L);if(T!==F)return T?-1:1;const O=A(V,H);return O!==0?O:V.localeCompare(H)}e.compareAnything=t;function m(p,P,L){const V=p.toLowerCase(),H=P.toLowerCase(),W=V.startsWith(L),T=H.startsWith(L);if(W!==T)return W?-1:1;if(W&&T){if(V.length<H.length)return-1;if(V.length>H.length)return 1}return 0}e.compareByPrefix=m}),define(De[35],Ie([1,0,16,15,39,28,19,21,10]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternsEquals=e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=e.getEmptyExpression=void 0;function C(){return Object.create(null)}e.getEmptyExpression=C,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const R="[/\\\\]",y="[^/\\\\]",f=/\//g;function v(G,Z){switch(G){case 0:return"";case 1:return`${y}*?`;default:return`(?:${R}|${y}+${R}${Z?`|${R}${y}+`:""})*?`}}function h(G,Z){if(!G)return[];const he=[];let oe=!1,ce=!1,le="";for(const fe of G){switch(fe){case Z:if(!oe&&!ce){he.push(le),le="";continue}break;case"{":oe=!0;break;case"}":oe=!1;break;case"[":ce=!0;break;case"]":ce=!1;break}le+=fe}return le&&he.push(le),he}e.splitGlobAware=h;function i(G){if(!G)return"";let Z="";const he=h(G,e.GLOB_SPLIT);if(he.every(oe=>oe===e.GLOBSTAR))Z=".*";else{let oe=!1;he.forEach((ce,le)=>{if(ce===e.GLOBSTAR){if(oe)return;Z+=v(2,le===he.length-1)}else{let fe=!1,Y="",ge=!1,we="";for(const Fe of ce){if(Fe!=="}"&&fe){Y+=Fe;continue}if(ge&&(Fe!=="]"||!we)){let xe;Fe==="-"?xe=Fe:(Fe==="^"||Fe==="!")&&!we?xe="^":Fe===e.GLOB_SPLIT?xe="":xe=(0,S.escapeRegExpCharacters)(Fe),we+=xe;continue}switch(Fe){case"{":fe=!0;continue;case"[":ge=!0;continue;case"}":{Z+=`(?:${h(Y,",").map(ke=>i(ke)).join("|")})`,fe=!1,Y="";break}case"]":{Z+="["+we+"]",ge=!1,we="";break}case"?":Z+=y;continue;case"*":Z+=v(1);continue;default:Z+=(0,S.escapeRegExpCharacters)(Fe)}}le<he.length-1&&(he[le+1]!==e.GLOBSTAR||le+2<he.length)&&(Z+=R)}oe=ce===e.GLOBSTAR})}return Z}const o=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,b=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,E=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,g=/^\*\*((\/[\w\.-]+)+)\/?$/,w=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,s=new M.LRUCache(1e4),r=function(){return!1},a=function(){return null};function d(G,Z){if(!G)return a;let he;typeof G!="string"?he=G.pattern:he=G,he=he.trim();const oe=`${he}_${!!Z.trimForExclusions}`;let ce=s.get(oe);if(ce)return l(ce,G);let le;return o.test(he)?ce=t(he.substr(4),he):(le=u.exec(c(he,Z)))?ce=m(le[1],he):(Z.trimForExclusions?E:b).test(he)?ce=p(he,Z):(le=g.exec(c(he,Z)))?ce=P(le[1].substr(1),he,!0):(le=w.exec(c(he,Z)))?ce=P(le[1],he,!1):ce=L(he),s.set(oe,ce),l(ce,G)}function l(G,Z){if(typeof Z=="string")return G;const he=function(oe,ce){return(0,_.isEqualOrParent)(oe,Z.base,!A.isLinux)?G((0,S.ltrim)(oe.substr(Z.base.length),I.sep),ce):null};return he.allBasenames=G.allBasenames,he.allPaths=G.allPaths,he.basenames=G.basenames,he.patterns=G.patterns,he}function c(G,Z){return Z.trimForExclusions&&G.endsWith("/**")?G.substr(0,G.length-2):G}function t(G,Z){return function(he,oe){return typeof he=="string"&&he.endsWith(G)?Z:null}}function m(G,Z){const he=`/${G}`,oe=`\\${G}`,ce=function(fe,Y){return typeof fe!="string"?null:Y?Y===G?Z:null:fe===G||fe.endsWith(he)||fe.endsWith(oe)?Z:null},le=[G];return ce.basenames=le,ce.patterns=[Z],ce.allBasenames=le,ce}function p(G,Z){const he=z(G.slice(1,-1).split(",").map(Y=>d(Y,Z)).filter(Y=>Y!==a),G),oe=he.length;if(!oe)return a;if(oe===1)return he[0];const ce=function(Y,ge){for(let we=0,Fe=he.length;we<Fe;we++)if(he[we](Y,ge))return G;return null},le=he.find(Y=>!!Y.allBasenames);le&&(ce.allBasenames=le.allBasenames);const fe=he.reduce((Y,ge)=>ge.allPaths?Y.concat(ge.allPaths):Y,[]);return fe.length&&(ce.allPaths=fe),ce}function P(G,Z,he){const oe=I.sep===I.posix.sep,ce=oe?G:G.replace(f,I.sep),le=I.sep+ce,fe=I.posix.sep+G;let Y;return he?Y=function(ge,we){return typeof ge=="string"&&(ge===ce||ge.endsWith(le)||!oe&&(ge===G||ge.endsWith(fe)))?Z:null}:Y=function(ge,we){return typeof ge=="string"&&(ge===ce||!oe&&ge===G)?Z:null},Y.allPaths=[(he?"*/":"./")+G],Y}function L(G){try{const Z=new RegExp(`^${i(G)}$`);return function(he){return Z.lastIndex=0,typeof he=="string"&&Z.test(he)?G:null}}catch{return a}}function V(G,Z,he){return!G||typeof Z!="string"?!1:H(G)(Z,void 0,he)}e.match=V;function H(G,Z={}){if(!G)return r;if(typeof G=="string"||W(G)){const he=d(G,Z);if(he===a)return r;const oe=function(ce,le){return!!he(ce,le)};return he.allBasenames&&(oe.allBasenames=he.allBasenames),he.allPaths&&(oe.allPaths=he.allPaths),oe}return O(G,Z)}e.parse=H;function W(G){const Z=G;return Z?typeof Z.base=="string"&&typeof Z.pattern=="string":!1}e.isRelativePattern=W;function T(G){return G.allBasenames||[]}e.getBasenameTerms=T;function F(G){return G.allPaths||[]}e.getPathTerms=F;function O(G,Z){const he=z(Object.getOwnPropertyNames(G).map(Y=>B(Y,G[Y],Z)).filter(Y=>Y!==a)),oe=he.length;if(!oe)return a;if(!he.some(Y=>!!Y.requiresSiblings)){if(oe===1)return he[0];const Y=function(Fe,xe){let Xe;for(let ke=0,ye=he.length;ke<ye;ke++){const Ce=he[ke](Fe,xe);if(typeof Ce=="string")return Ce;(0,k.isThenable)(Ce)&&(Xe||(Xe=[]),Xe.push(Ce))}return Xe?(async()=>{for(const ke of Xe){const ye=await ke;if(typeof ye=="string")return ye}return null})():null},ge=he.find(Fe=>!!Fe.allBasenames);ge&&(Y.allBasenames=ge.allBasenames);const we=he.reduce((Fe,xe)=>xe.allPaths?Fe.concat(xe.allPaths):Fe,[]);return we.length&&(Y.allPaths=we),Y}const ce=function(Y,ge,we){let Fe,xe;for(let Xe=0,ke=he.length;Xe<ke;Xe++){const ye=he[Xe];ye.requiresSiblings&&we&&(ge||(ge=(0,I.basename)(Y)),Fe||(Fe=ge.substr(0,ge.length-(0,I.extname)(Y).length)));const Ce=ye(Y,ge,Fe,we);if(typeof Ce=="string")return Ce;(0,k.isThenable)(Ce)&&(xe||(xe=[]),xe.push(Ce))}return xe?(async()=>{for(const Xe of xe){const ke=await Xe;if(typeof ke=="string")return ke}return null})():null},le=he.find(Y=>!!Y.allBasenames);le&&(ce.allBasenames=le.allBasenames);const fe=he.reduce((Y,ge)=>ge.allPaths?Y.concat(ge.allPaths):Y,[]);return fe.length&&(ce.allPaths=fe),ce}function B(G,Z,he){if(Z===!1)return a;const oe=d(G,he);if(oe===a)return a;if(typeof Z=="boolean")return oe;if(Z){const ce=Z.when;if(typeof ce=="string"){const le=(fe,Y,ge,we)=>{if(!we||!oe(fe,Y))return null;const Fe=ce.replace("$(basename)",ge),xe=we(Fe);return(0,k.isThenable)(xe)?xe.then(Xe=>Xe?G:null):xe?G:null};return le.requiresSiblings=!0,le}}return oe}function z(G,Z){const he=G.filter(Y=>!!Y.basenames);if(he.length<2)return G;const oe=he.reduce((Y,ge)=>{const we=ge.basenames;return we?Y.concat(we):Y},[]);let ce;if(Z){ce=[];for(let Y=0,ge=oe.length;Y<ge;Y++)ce.push(Z)}else ce=he.reduce((Y,ge)=>{const we=ge.patterns;return we?Y.concat(we):Y},[]);const le=function(Y,ge){if(typeof Y!="string")return null;if(!ge){let Fe;for(Fe=Y.length;Fe>0;Fe--){const xe=Y.charCodeAt(Fe-1);if(xe===47||xe===92)break}ge=Y.substr(Fe)}const we=oe.indexOf(ge);return we!==-1?ce[we]:null};le.basenames=oe,le.patterns=ce,le.allBasenames=oe;const fe=G.filter(Y=>!Y.basenames);return fe.push(le),fe}function j(G,Z){return(0,n.equals)(G,Z,(he,oe)=>typeof he=="string"&&typeof oe=="string"?he===oe:typeof he!="string"&&typeof oe!="string"?he.base===oe.base&&he.pattern===oe.pattern:!1)}e.patternsEquals=j}),define(De[81],Ie([1,0,11,118,22,10,2]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=e.MarkdownStringTextNewlineStyle=void 0;var A;(function(o){o[o.Paragraph=0]="Paragraph",o[o.Break=1]="Break"})(A=e.MarkdownStringTextNewlineStyle||(e.MarkdownStringTextNewlineStyle={}));class S{constructor(u="",b=!1){if(this.value=u,typeof this.value!="string")throw(0,n.illegalArgument)("value");typeof b=="boolean"?(this.isTrusted=b,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=b.isTrusted??void 0,this.supportThemeIcons=b.supportThemeIcons??!1,this.supportHtml=b.supportHtml??!1)}appendText(u,b=0){return this.value+=f(this.supportThemeIcons?(0,k.escapeIcons)(u):u).replace(/([ \t]+)/g,(E,g)=>"&nbsp;".repeat(g.length)).replace(/\>/gm,"\\>").replace(/\n/g,b===1?`\\
`:`

`),this}appendMarkdown(u){return this.value+=u,this}appendCodeblock(u,b){return this.value+="\n```",this.value+=u,this.value+=`
`,this.value+=b,this.value+="\n```\n",this}appendLink(u,b,E){return this.value+="[",this.value+=this._escape(b,"]"),this.value+="](",this.value+=this._escape(String(u),")"),E&&(this.value+=` "${this._escape(this._escape(E,'"'),")")}"`),this.value+=")",this}_escape(u,b){const E=new RegExp((0,M.escapeRegExpCharacters)(b),"g");return u.replace(E,(g,w)=>u.charAt(w-1)!=="\\"?`\\${g}`:g)}}e.MarkdownString=S;function C(o){return R(o)?!o.value:Array.isArray(o)?o.every(C):!0}e.isEmptyMarkdownString=C;function R(o){return o instanceof S?!0:o&&typeof o=="object"?typeof o.value=="string"&&(typeof o.isTrusted=="boolean"||o.isTrusted===void 0)&&(typeof o.supportThemeIcons=="boolean"||o.supportThemeIcons===void 0):!1}e.isMarkdownString=R;function y(o,u){return o===u?!0:!o||!u?!1:o.value===u.value&&o.isTrusted===u.isTrusted&&o.supportThemeIcons===u.supportThemeIcons&&o.supportHtml===u.supportHtml&&(o.baseUri===u.baseUri||!!o.baseUri&&!!u.baseUri&&(0,_.isEqual)(I.URI.from(o.baseUri),I.URI.from(u.baseUri)))}e.markdownStringEqual=y;function f(o){return o.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=f;function v(o){return o.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=v;function h(o){return o&&o.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=h;function i(o){const u=[],b=o.split("|").map(g=>g.trim());o=b[0];const E=b[1];if(E){const g=/height=(\d+)/.exec(E),w=/width=(\d+)/.exec(E),s=g?g[1]:"",r=w?w[1]:"",a=isFinite(parseInt(r)),d=isFinite(parseInt(s));a&&u.push(`width="${r}"`),d&&u.push(`height="${s}"`)}return{href:o,dimensions:u}}e.parseHrefAndDimensions=i}),define(De[82],Ie([1,0,16,39,19,21,22,10]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getPathLabel=void 0;function S(a,d){const{os:l,tildify:c,relative:t}=d;if(t){const P=C(a,t,l);if(typeof P=="string")return P}let m=a.fsPath;if(l===1&&!M.isWindows?m=m.replace(/\//g,"\\"):l!==1&&M.isWindows&&(m=m.replace(/\\/g,"/")),l!==1&&c?.userHome){const P=c.userHome.fsPath;let L;a.scheme!==c.userHome.scheme&&a.path.startsWith(_.posix.sep)?L=c.userHome.with({path:a.path}).fsPath:L=a.fsPath,m=f(L,P,l)}return(l===1?_.win32:_.posix).normalize(R(m,l===1))}e.getPathLabel=S;function C(a,d,l){const c=l===1?_.win32:_.posix,t=l===3?I.extUri:I.extUriIgnorePathCase,m=d.getWorkspace(),p=(0,n.firstOrDefault)(m.folders);if(!p)return;a.scheme!==p.uri.scheme&&a.path.startsWith(_.posix.sep)&&(a=p.uri.with({path:a.path}));const P=d.getWorkspaceFolder(a);if(!P)return;let L;if(t.isEqual(P.uri,a)?L="":L=t.relativePath(P.uri,a)??"",L&&(L=c.normalize(L)),m.folders.length>1&&!d.noPrefix){const V=P.name?P.name:t.basenameOrAuthority(P.uri);L=L?`${V} \u2022 ${L}`:V}return L}function R(a,d=M.isWindows){return(0,k.hasDriveLetter)(a,d)?a.charAt(0).toUpperCase()+a.slice(1):a}e.normalizeDriveLetter=R;let y=Object.create(null);function f(a,d,l=M.OS){if(l===1||!a||!d)return a;let c=y.original===d?y.normalized:void 0;c||(c=d,M.isWindows&&(c=(0,k.toSlashes)(c)),c=`${(0,A.rtrim)(c,_.posix.sep)}${_.posix.sep}`,y={original:d,normalized:c});let t=a;return M.isWindows&&(t=(0,k.toSlashes)(t)),(l===3?t.startsWith(c):(0,A.startsWithIgnoreCase)(t,c))?`~/${t.substr(c.length)}`:a}e.tildify=f;function v(a,d){return a.replace(/^~($|\/|\\)/,`${d}$1`)}e.untildify=v;const h="\u2026",i="\\\\",o="~";function u(a,d=_.sep){const l=new Array(a.length);let c=!1;for(let t=0;t<a.length;t++){const m=a[t];if(m===""){l[t]=`.${d}`;continue}if(!m){l[t]=m;continue}c=!0;let p="",P=m;P.indexOf(i)===0?(p=P.substr(0,P.indexOf(i)+i.length),P=P.substr(P.indexOf(i)+i.length)):P.indexOf(d)===0?(p=P.substr(0,P.indexOf(d)+d.length),P=P.substr(P.indexOf(d)+d.length)):P.indexOf(o)===0&&(p=P.substr(0,P.indexOf(o)+o.length),P=P.substr(P.indexOf(o)+o.length));const L=P.split(d);for(let V=1;c&&V<=L.length;V++)for(let H=L.length-V;c&&H>=0;H--){c=!1;let W=L.slice(H,H+V).join(d);for(let T=0;!c&&T<a.length;T++)if(T!==t&&a[T]&&a[T].indexOf(W)>-1){const F=H+V===L.length,O=H>0&&a[T].indexOf(d)>-1?d+W:W,B=a[T].endsWith(O);c=!F||B}if(!c){let T="";(L[0].endsWith(":")||p!=="")&&(H===1&&(H=0,V++,W=L[0]+d+W),H>0&&(T=L[0]+d),T=p+T),H>0&&(T=T+h+d),T=T+W,H+V<L.length&&(T=T+d+h),l[t]=T}}c&&(l[t]=m)}return l}e.shorten=u;var b;(function(a){a[a.TEXT=0]="TEXT",a[a.VARIABLE=1]="VARIABLE",a[a.SEPARATOR=2]="SEPARATOR"})(b||(b={}));function E(a,d=Object.create(null)){const l=[];let c=!1,t="";for(const m of a)if(m==="$"||c&&m==="{")t&&l.push({value:t,type:b.TEXT}),t="",c=!0;else if(m==="}"&&c){const p=d[t];if(typeof p=="string")p.length&&l.push({value:p,type:b.VARIABLE});else if(p){const P=l[l.length-1];(!P||P.type!==b.SEPARATOR)&&l.push({value:p.label,type:b.SEPARATOR})}t="",c=!1}else t+=m;return t&&!c&&l.push({value:t,type:b.TEXT}),l.filter((m,p)=>{if(m.type===b.SEPARATOR){const P=l[p-1],L=l[p+1];return[P,L].every(V=>V&&(V.type===b.VARIABLE||V.type===b.TEXT)&&V.value.length>0)}return!0}).map(m=>m.value).join("")}e.template=E;function g(a,d){return M.isMacintosh||d?a.replace(/\(&&\w\)|&&/g,"").replace(/&/g,M.isMacintosh?"&":"&&"):a.replace(/&&|&/g,l=>l==="&"?"&&":"&")}e.mnemonicMenuLabel=g;function w(a,d){return M.isMacintosh||d?a.replace(/\(&&\w\)|&&/g,""):M.isWindows?a.replace(/&&|&/g,l=>l==="&"?"&&":"&"):a.replace(/&&/g,"_")}e.mnemonicButtonLabel=w;function s(a){return a.replace(/&/g,"&&")}e.unmnemonicLabel=s;function r(a){const d=a.indexOf("/")!==-1?_.posix:_.win32,l=d.basename(a),c=d.dirname(a);return l.length?{name:l,parentPath:c}:{name:c,parentPath:""}}e.splitName=r}),define(De[121],Ie([1,0,2]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndReviveIncomingURIs=e.transformIncomingURIs=e.transformOutgoingURIs=e.DefaultURITransformer=e.URITransformer=void 0;function k(R){return R.toJSON()}class _{constructor(y){this._uriTransformer=y}transformIncoming(y){const f=this._uriTransformer.transformIncoming(y);return f===y?y:k(n.URI.from(f))}transformOutgoing(y){const f=this._uriTransformer.transformOutgoing(y);return f===y?y:k(n.URI.from(f))}transformOutgoingURI(y){const f=this._uriTransformer.transformOutgoing(y);return f===y?y:n.URI.from(f)}transformOutgoingScheme(y){return this._uriTransformer.transformOutgoingScheme(y)}}e.URITransformer=_,e.DefaultURITransformer=new class{transformIncoming(R){return R}transformOutgoing(R){return R}transformOutgoingURI(R){return R}transformOutgoingScheme(R){return R}};function M(R,y,f){if(!R||f>200)return null;if(typeof R=="object"){if(R instanceof n.URI)return y.transformOutgoing(R);for(const v in R)if(Object.hasOwnProperty.call(R,v)){const h=M(R[v],y,f+1);h!==null&&(R[v]=h)}}return null}function I(R,y){const f=M(R,y,0);return f===null?R:f}e.transformOutgoingURIs=I;function A(R,y,f,v){if(!R||v>200)return null;if(typeof R=="object"){if(R.$mid===1)return f?n.URI.revive(y.transformIncoming(R)):y.transformIncoming(R);for(const h in R)if(Object.hasOwnProperty.call(R,h)){const i=A(R[h],y,f,v+1);i!==null&&(R[h]=i)}}return null}function S(R,y){const f=A(R,y,!1,0);return f===null?R:f}e.transformIncomingURIs=S;function C(R,y){const f=A(R,y,!0,0);return f===null?R:f}e.transformAndReviveIncomingURIs=C}),define(De[122],Ie([1,0,35,19]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function _(M,I,A,S,C,R){if(Array.isArray(M)){let y=0;for(const f of M){const v=_(f,I,A,S,C,R);if(v===10)return v;v>y&&(y=v)}return y}else{if(typeof M=="string")return S?M==="*"?5:M===A?10:0:0;if(M){const{language:y,pattern:f,scheme:v,hasAccessToAllModels:h,notebookType:i}=M;if(!S&&!h)return 0;i&&C&&(I=C);let o=0;if(v)if(v===I.scheme)o=10;else if(v==="*")o=5;else return 0;if(y)if(y===A)o=10;else if(y==="*")o=Math.max(o,5);else return 0;if(i)if(i===R)o=10;else if(i==="*"&&R!==void 0)o=Math.max(o,5);else return 0;if(f){let u;if(typeof f=="string"?u=f:u={...f,base:(0,k.normalize)(f.base)},u===I.fsPath||(0,n.match)(u,I.fsPath))o=10;else return 0}return o}else return 0}}e.score=_}),define(De[83],Ie([1,0,24,21]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSemanticTokensDto=e.encodeSemanticTokensDto=void 0;var _;(function(y){y[y.Full=1]="Full",y[y.Delta=2]="Delta"})(_||(_={}));function M(y){for(let f=0,v=y.length;f<v;f+=4){const h=y[f+0],i=y[f+1],o=y[f+2],u=y[f+3];y[f+0]=u,y[f+1]=o,y[f+2]=i,y[f+3]=h}}function I(y){const f=new Uint8Array(y.buffer,y.byteOffset,y.length*4);return k.isLittleEndian()||M(f),n.VSBuffer.wrap(f)}function A(y){const f=y.buffer;if(k.isLittleEndian()||M(f),f.byteOffset%4===0)return new Uint32Array(f.buffer,f.byteOffset,f.length/4);{const v=new Uint8Array(f.byteLength);return v.set(f),new Uint32Array(v.buffer,v.byteOffset,v.length/4)}}function S(y){const f=new Uint32Array(C(y));let v=0;if(f[v++]=y.id,y.type==="full")f[v++]=1,f[v++]=y.data.length,f.set(y.data,v),v+=y.data.length;else{f[v++]=2,f[v++]=y.deltas.length;for(const h of y.deltas)f[v++]=h.start,f[v++]=h.deleteCount,h.data?(f[v++]=h.data.length,f.set(h.data,v),v+=h.data.length):f[v++]=0}return I(f)}e.encodeSemanticTokensDto=S;function C(y){let f=0;if(f+=1+1,y.type==="full")f+=1+y.data.length;else{f+=1,f+=(1+1+1)*y.deltas.length;for(const v of y.deltas)v.data&&(f+=v.data.length)}return f}function R(y){const f=A(y);let v=0;const h=f[v++];if(f[v++]===1){const b=f[v++],E=f.subarray(v,v+b);return v+=b,{id:h,type:"full",data:E}}const o=f[v++],u=[];for(let b=0;b<o;b++){const E=f[v++],g=f[v++],w=f[v++];let s;w>0&&(s=f.subarray(v,v+w),v+=w),u[b]={start:E,deleteCount:g,data:s}}return{id:h,type:"delta",deltas:u}}e.decodeSemanticTokensDto=R}),define(De[123],Ie([17,18]),function(te,e){return te.create("vs/editor/common/config/editorOptions",e)}),define(De[124],Ie([1,0,123,21,125,16,23,112]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontVariations=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var S;(function(Q){Q[Q.None=0]="None",Q[Q.Keep=1]="Keep",Q[Q.Brackets=2]="Brackets",Q[Q.Advanced=3]="Advanced",Q[Q.Full=4]="Full"})(S=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(X){this._values=X}hasChanged(X){return this._values[X]}}e.ConfigurationChangedEvent=C;class R{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=R;class y{constructor(X,pe,Le,Ue){this.id=X,this.name=pe,this.defaultValue=Le,this.schema=Ue}applyUpdate(X,pe){return v(X,pe)}compute(X,pe,Le){return Le}}class f{constructor(X,pe){this.newValue=X,this.didChange=pe}}e.ApplyUpdateResult=f;function v(Q,X){if(typeof Q!="object"||typeof X!="object"||!Q||!X)return new f(X,Q!==X);if(Array.isArray(Q)||Array.isArray(X)){const Le=Array.isArray(Q)&&Array.isArray(X)&&M.equals(Q,X);return new f(X,!Le)}let pe=!1;for(const Le in X)if(X.hasOwnProperty(Le)){const Ue=v(Q[Le],X[Le]);Ue.didChange&&(Q[Le]=Ue.newValue,pe=!0)}return new f(Q,pe)}class h{constructor(X){this.schema=void 0,this.id=X,this.name="_never_",this.defaultValue=void 0}applyUpdate(X,pe){return v(X,pe)}validate(X){return this.defaultValue}}class i{constructor(X,pe,Le,Ue){this.id=X,this.name=pe,this.defaultValue=Le,this.schema=Ue}applyUpdate(X,pe){return v(X,pe)}validate(X){return typeof X>"u"?this.defaultValue:X}compute(X,pe,Le){return Le}}function o(Q,X){return typeof Q>"u"?X:Q==="false"?!1:Boolean(Q)}e.boolean=o;class u extends i{constructor(X,pe,Le,Ue=void 0){typeof Ue<"u"&&(Ue.type="boolean",Ue.default=Le),super(X,pe,Le,Ue)}validate(X){return o(X,this.defaultValue)}}function b(Q,X,pe,Le){if(typeof Q>"u")return X;let Ue=parseInt(Q,10);return isNaN(Ue)?X:(Ue=Math.max(pe,Ue),Ue=Math.min(Le,Ue),Ue|0)}e.clampedInt=b;class E extends i{static clampedInt(X,pe,Le,Ue){return b(X,pe,Le,Ue)}constructor(X,pe,Le,Ue,He,Je=void 0){typeof Je<"u"&&(Je.type="integer",Je.default=Le,Je.minimum=Ue,Je.maximum=He),super(X,pe,Le,Je),this.minimum=Ue,this.maximum=He}validate(X){return E.clampedInt(X,this.defaultValue,this.minimum,this.maximum)}}class g extends i{static clamp(X,pe,Le){return X<pe?pe:X>Le?Le:X}static float(X,pe){if(typeof X=="number")return X;if(typeof X>"u")return pe;const Le=parseFloat(X);return isNaN(Le)?pe:Le}constructor(X,pe,Le,Ue,He){typeof He<"u"&&(He.type="number",He.default=Le),super(X,pe,Le,He),this.validationFn=Ue}validate(X){return this.validationFn(g.float(X,this.defaultValue))}}class w extends i{static string(X,pe){return typeof X!="string"?pe:X}constructor(X,pe,Le,Ue=void 0){typeof Ue<"u"&&(Ue.type="string",Ue.default=Le),super(X,pe,Le,Ue)}validate(X){return w.string(X,this.defaultValue)}}function s(Q,X,pe){return typeof Q!="string"||pe.indexOf(Q)===-1?X:Q}e.stringSet=s;class r extends i{constructor(X,pe,Le,Ue,He=void 0){typeof He<"u"&&(He.type="string",He.enum=Ue,He.default=Le),super(X,pe,Le,He),this._allowedValues=Ue}validate(X){return s(X,this.defaultValue,this._allowedValues)}}class a extends y{constructor(X,pe,Le,Ue,He,Je,nt=void 0){typeof nt<"u"&&(nt.type="string",nt.enum=He,nt.default=Ue),super(X,pe,Le,nt),this._allowedValues=He,this._convert=Je}validate(X){return typeof X!="string"?this.defaultValue:this._allowedValues.indexOf(X)===-1?this.defaultValue:this._convert(X)}}function d(Q){switch(Q){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class l extends y{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[n.localize(0,null),n.localize(1,null),n.localize(2,null)],default:"auto",tags:["accessibility"],description:n.localize(3,null)})}validate(X){switch(X){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(X,pe,Le){return Le===0?X.accessibilitySupport:Le}}class c extends y{constructor(){const X={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",X,{"editor.comments.insertSpace":{type:"boolean",default:X.insertSpace,description:n.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:X.ignoreEmptyLines,description:n.localize(5,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{insertSpace:o(pe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:o(pe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var t;(function(Q){Q[Q.Hidden=0]="Hidden",Q[Q.Blink=1]="Blink",Q[Q.Smooth=2]="Smooth",Q[Q.Phase=3]="Phase",Q[Q.Expand=4]="Expand",Q[Q.Solid=5]="Solid"})(t=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function m(Q){switch(Q){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var p;(function(Q){Q[Q.Line=1]="Line",Q[Q.Block=2]="Block",Q[Q.Underline=3]="Underline",Q[Q.LineThin=4]="LineThin",Q[Q.BlockOutline=5]="BlockOutline",Q[Q.UnderlineThin=6]="UnderlineThin"})(p=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function P(Q){switch(Q){case p.Line:return"line";case p.Block:return"block";case p.Underline:return"underline";case p.LineThin:return"line-thin";case p.BlockOutline:return"block-outline";case p.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=P;function L(Q){switch(Q){case"line":return p.Line;case"block":return p.Block;case"underline":return p.Underline;case"line-thin":return p.LineThin;case"block-outline":return p.BlockOutline;case"underline-thin":return p.UnderlineThin}}class V extends h{constructor(){super(133)}compute(X,pe,Le){const Ue=["monaco-editor"];return pe.get(34)&&Ue.push(pe.get(34)),X.extraEditorClassName&&Ue.push(X.extraEditorClassName),pe.get(68)==="default"?Ue.push("mouse-default"):pe.get(68)==="copy"&&Ue.push("mouse-copy"),pe.get(103)&&Ue.push("showUnused"),pe.get(131)&&Ue.push("showDeprecated"),Ue.join(" ")}}class H extends u{constructor(){super(33,"emptySelectionClipboard",!0,{description:n.localize(6,null)})}compute(X,pe,Le){return Le&&X.emptySelectionClipboard}}class W extends y{constructor(){const X={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(36,"find",X,{"editor.find.cursorMoveOnType":{type:"boolean",default:X.cursorMoveOnType,description:n.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:X.seedSearchStringFromSelection,enumDescriptions:[n.localize(8,null),n.localize(9,null),n.localize(10,null)],description:n.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:X.autoFindInSelection,enumDescriptions:[n.localize(12,null),n.localize(13,null),n.localize(14,null)],description:n.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:X.globalFindClipboard,description:n.localize(16,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:X.addExtraSpaceOnTop,description:n.localize(17,null)},"editor.find.loop":{type:"boolean",default:X.loop,description:n.localize(18,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{cursorMoveOnType:o(pe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof X.seedSearchStringFromSelection=="boolean"?X.seedSearchStringFromSelection?"always":"never":s(pe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof X.autoFindInSelection=="boolean"?X.autoFindInSelection?"always":"never":s(pe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:o(pe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:o(pe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:o(pe.loop,this.defaultValue.loop)}}}class T extends y{constructor(){super(46,"fontLigatures",T.OFF,{anyOf:[{type:"boolean",description:n.localize(19,null)},{type:"string",description:n.localize(20,null)}],description:n.localize(21,null),default:!1})}validate(X){return typeof X>"u"?this.defaultValue:typeof X=="string"?X==="false"?T.OFF:X==="true"?T.ON:X:Boolean(X)?T.ON:T.OFF}}e.EditorFontLigatures=T,T.OFF='"liga" off, "calt" off',T.ON='"liga" on, "calt" on';class F extends y{constructor(){super(49,"fontVariations",F.OFF,{anyOf:[{type:"boolean",description:n.localize(22,null)},{type:"string",description:n.localize(23,null)}],description:n.localize(24,null),default:!1})}validate(X){return typeof X>"u"?this.defaultValue:typeof X=="string"?X==="false"?F.OFF:X==="true"?F.TRANSLATE:X:Boolean(X)?F.TRANSLATE:F.OFF}compute(X,pe,Le){return X.fontInfo.fontVariationSettings}}e.EditorFontVariations=F,F.OFF="normal",F.TRANSLATE="translate";class O extends h{constructor(){super(45)}compute(X,pe,Le){return X.fontInfo}}class B extends i{constructor(){super(47,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:n.localize(25,null)})}validate(X){const pe=g.float(X,this.defaultValue);return pe===0?e.EDITOR_FONT_DEFAULTS.fontSize:g.clamp(pe,6,100)}compute(X,pe,Le){return X.fontInfo.fontSize}}class z extends y{constructor(){super(48,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:z.MINIMUM_VALUE,maximum:z.MAXIMUM_VALUE,errorMessage:n.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:z.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:n.localize(27,null)})}validate(X){return X==="normal"||X==="bold"?X:String(E.clampedInt(X,e.EDITOR_FONT_DEFAULTS.fontWeight,z.MINIMUM_VALUE,z.MAXIMUM_VALUE))}}z.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],z.MINIMUM_VALUE=1,z.MAXIMUM_VALUE=1e3;class j extends y{constructor(){const X={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},pe={type:"string",enum:["peek","gotoAndPeek","goto"],default:X.multiple,enumDescriptions:[n.localize(28,null),n.localize(29,null),n.localize(30,null)]},Le=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",X,{"editor.gotoLocation.multiple":{deprecationMessage:n.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:n.localize(32,null),...pe},"editor.gotoLocation.multipleTypeDefinitions":{description:n.localize(33,null),...pe},"editor.gotoLocation.multipleDeclarations":{description:n.localize(34,null),...pe},"editor.gotoLocation.multipleImplementations":{description:n.localize(35,null),...pe},"editor.gotoLocation.multipleReferences":{description:n.localize(36,null),...pe},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:X.alternativeDefinitionCommand,enum:Le,description:n.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:X.alternativeTypeDefinitionCommand,enum:Le,description:n.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:X.alternativeDeclarationCommand,enum:Le,description:n.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:X.alternativeImplementationCommand,enum:Le,description:n.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:X.alternativeReferenceCommand,enum:Le,description:n.localize(41,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{multiple:s(pe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:pe.multipleDefinitions??s(pe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:pe.multipleTypeDefinitions??s(pe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:pe.multipleDeclarations??s(pe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:pe.multipleImplementations??s(pe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:pe.multipleReferences??s(pe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(pe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(pe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(pe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(pe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(pe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class G extends y{constructor(){const X={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",X,{"editor.hover.enabled":{type:"boolean",default:X.enabled,description:n.localize(42,null)},"editor.hover.delay":{type:"number",default:X.delay,minimum:0,maximum:1e4,description:n.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:X.sticky,description:n.localize(44,null)},"editor.hover.above":{type:"boolean",default:X.above,description:n.localize(45,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),delay:E.clampedInt(pe.delay,this.defaultValue.delay,0,1e4),sticky:o(pe.sticky,this.defaultValue.sticky),above:o(pe.above,this.defaultValue.above)}}}var Z;(function(Q){Q[Q.None=0]="None",Q[Q.Text=1]="Text",Q[Q.Blocks=2]="Blocks"})(Z=e.RenderMinimap||(e.RenderMinimap={}));class he extends h{constructor(){super(136)}compute(X,pe,Le){return he.computeLayout(pe,{memory:X.memory,outerWidth:X.outerWidth,outerHeight:X.outerHeight,isDominatedByLongLines:X.isDominatedByLongLines,lineHeight:X.fontInfo.lineHeight,viewLineCount:X.viewLineCount,lineNumbersDigitCount:X.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:X.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:X.fontInfo.maxDigitWidth,pixelRatio:X.pixelRatio})}static computeContainedMinimapLineCount(X){const pe=X.height/X.lineHeight,Le=X.scrollBeyondLastLine?pe-1:0,Ue=(X.viewLineCount+Le)/(X.pixelRatio*X.height),He=Math.floor(X.viewLineCount/Ue);return{typicalViewportLineCount:pe,extraLinesBeyondLastLine:Le,desiredRatio:Ue,minimapLineCount:He}}static _computeMinimapLayout(X,pe){const Le=X.outerWidth,Ue=X.outerHeight,He=X.pixelRatio;if(!X.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(He*Ue),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ue};const Je=pe.stableMinimapLayoutInput,nt=Je&&X.outerHeight===Je.outerHeight&&X.lineHeight===Je.lineHeight&&X.typicalHalfwidthCharacterWidth===Je.typicalHalfwidthCharacterWidth&&X.pixelRatio===Je.pixelRatio&&X.scrollBeyondLastLine===Je.scrollBeyondLastLine&&X.minimap.enabled===Je.minimap.enabled&&X.minimap.side===Je.minimap.side&&X.minimap.size===Je.minimap.size&&X.minimap.showSlider===Je.minimap.showSlider&&X.minimap.renderCharacters===Je.minimap.renderCharacters&&X.minimap.maxColumn===Je.minimap.maxColumn&&X.minimap.scale===Je.minimap.scale&&X.verticalScrollbarWidth===Je.verticalScrollbarWidth&&X.isViewportWrapping===Je.isViewportWrapping,vt=X.lineHeight,wt=X.typicalHalfwidthCharacterWidth,kt=X.scrollBeyondLastLine,ut=X.minimap.renderCharacters;let at=He>=2?Math.round(X.minimap.scale*2):X.minimap.scale;const Nt=X.minimap.maxColumn,Ot=X.minimap.size,Ft=X.minimap.side,ft=X.verticalScrollbarWidth,It=X.viewLineCount,Ut=X.remainingWidth,Lt=X.isViewportWrapping,qe=ut?2:3;let At=Math.floor(He*Ue);const Mt=At/He;let $t=!1,mt=!1,Pt=qe*at,_e=at/He,Te=1;if(Ot==="fill"||Ot==="fit"){const{typicalViewportLineCount:Ze,extraLinesBeyondLastLine:Dt,desiredRatio:Et,minimapLineCount:Ct}=he.computeContainedMinimapLineCount({viewLineCount:It,scrollBeyondLastLine:kt,height:Ue,lineHeight:vt,pixelRatio:He});if(It/Ct>1)$t=!0,mt=!0,at=1,Pt=1,_e=at/He;else{let pt=!1,St=at+1;if(Ot==="fit"){const Bt=Math.ceil((It+Dt)*Pt);Lt&&nt&&Ut<=pe.stableFitRemainingWidth?(pt=!0,St=pe.stableFitMaxMinimapScale):pt=Bt>At}if(Ot==="fill"||pt){$t=!0;const Bt=at;Pt=Math.min(vt*He,Math.max(1,Math.floor(1/Et))),Lt&&nt&&Ut<=pe.stableFitRemainingWidth&&(St=pe.stableFitMaxMinimapScale),at=Math.min(St,Math.max(1,Math.floor(Pt/qe))),at>Bt&&(Te=Math.min(2,at/Bt)),_e=at/He/Te,At=Math.ceil(Math.max(Ze,It+Dt)*Pt),Lt?(pe.stableMinimapLayoutInput=X,pe.stableFitRemainingWidth=Ut,pe.stableFitMaxMinimapScale=at):(pe.stableMinimapLayoutInput=null,pe.stableFitRemainingWidth=0)}}}const me=Math.floor(Nt*_e),K=Math.min(me,Math.max(0,Math.floor((Ut-ft-2)*_e/(wt+_e)))+e.MINIMAP_GUTTER_WIDTH);let Pe=Math.floor(He*K);const Me=Pe/He;Pe=Math.floor(Pe*Te);const Ge=ut?1:2,ze=Ft==="left"?0:Le-K-ft;return{renderMinimap:Ge,minimapLeft:ze,minimapWidth:K,minimapHeightIsEditorHeight:$t,minimapIsSampling:mt,minimapScale:at,minimapLineHeight:Pt,minimapCanvasInnerWidth:Pe,minimapCanvasInnerHeight:At,minimapCanvasOuterWidth:Me,minimapCanvasOuterHeight:Mt}}static computeLayout(X,pe){const Le=pe.outerWidth|0,Ue=pe.outerHeight|0,He=pe.lineHeight|0,Je=pe.lineNumbersDigitCount|0,nt=pe.typicalHalfwidthCharacterWidth,vt=pe.maxDigitWidth,wt=pe.pixelRatio,kt=pe.viewLineCount,ut=X.get(128),at=ut==="inherit"?X.get(127):ut,Nt=at==="inherit"?X.get(123):at,Ot=X.get(126),Ft=pe.isDominatedByLongLines,ft=X.get(52),It=X.get(62).renderType!==0,Ut=X.get(63),Lt=X.get(97),qe=X.get(67),At=X.get(95),Mt=At.verticalScrollbarSize,$t=At.verticalHasArrows,mt=At.arrowSize,Pt=At.horizontalScrollbarSize,_e=X.get(38),Te=X.get(102)!=="never";let me=X.get(60);_e&&Te&&(me+=16);let K=0;if(It){const bt=Math.max(Je,Ut);K=Math.round(bt*vt)}let Pe=0;ft&&(Pe=He);let Me=0,Ge=Me+Pe,ze=Ge+K,Ze=ze+me;const Dt=Le-Pe-K-me;let Et=!1,Ct=!1,gt=-1;at==="inherit"&&Ft?(Et=!0,Ct=!0):Nt==="on"||Nt==="bounded"?Ct=!0:Nt==="wordWrapColumn"&&(gt=Ot);const pt=he._computeMinimapLayout({outerWidth:Le,outerHeight:Ue,lineHeight:He,typicalHalfwidthCharacterWidth:nt,pixelRatio:wt,scrollBeyondLastLine:Lt,minimap:qe,verticalScrollbarWidth:Mt,viewLineCount:kt,remainingWidth:Dt,isViewportWrapping:Ct},pe.memory||new R);pt.renderMinimap!==0&&pt.minimapLeft===0&&(Me+=pt.minimapWidth,Ge+=pt.minimapWidth,ze+=pt.minimapWidth,Ze+=pt.minimapWidth);const St=Dt-pt.minimapWidth,Bt=Math.max(1,Math.floor((St-Mt-2)/nt)),Gt=$t?mt:0;return Ct&&(gt=Math.max(1,Bt),Nt==="bounded"&&(gt=Math.min(gt,Ot))),{width:Le,height:Ue,glyphMarginLeft:Me,glyphMarginWidth:Pe,lineNumbersLeft:Ge,lineNumbersWidth:K,decorationsLeft:ze,decorationsWidth:me,contentLeft:Ze,contentWidth:St,minimap:pt,viewportColumn:Bt,isWordWrapMinified:Et,isViewportWrapping:Ct,wrappingColumn:gt,verticalScrollbarWidth:Mt,horizontalScrollbarHeight:Pt,overviewRuler:{top:Gt,width:Mt,height:Ue-2*Gt,right:0}}}}e.EditorLayoutInfoComputer=he;class oe extends y{constructor(){super(130,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[n.localize(46,null),n.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:n.localize(48,null)}})}validate(X){return s(X,"simple",["simple","advanced"])}compute(X,pe,Le){return pe.get(2)===2?"advanced":Le}}class ce extends y{constructor(){const X={enabled:!0};super(59,"lightbulb",X,{"editor.lightbulb.enabled":{type:"boolean",default:X.enabled,description:n.localize(49,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:o(X.enabled,this.defaultValue.enabled)}}}class le extends y{constructor(){const X={enabled:!1,maxLineCount:5};super(107,"stickyScroll",X,{"editor.stickyScroll.enabled":{type:"boolean",default:X.enabled,description:n.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:X.maxLineCount,minimum:1,maximum:10,description:n.localize(51,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),maxLineCount:E.clampedInt(pe.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class fe extends y{constructor(){const X={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(132,"inlayHints",X,{"editor.inlayHints.enabled":{type:"string",default:X.enabled,description:n.localize(52,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[n.localize(53,null),n.localize(54,null,k.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),n.localize(55,null,k.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),n.localize(56,null)]},"editor.inlayHints.fontSize":{type:"number",default:X.fontSize,markdownDescription:n.localize(57,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:X.fontFamily,markdownDescription:n.localize(58,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:X.padding,description:n.localize(59,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return typeof pe.enabled=="boolean"&&(pe.enabled=pe.enabled?"on":"off"),{enabled:s(pe.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:E.clampedInt(pe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(pe.fontFamily,this.defaultValue.fontFamily),padding:o(pe.padding,this.defaultValue.padding)}}}class Y extends y{constructor(){super(60,"lineDecorationsWidth",10)}validate(X){return typeof X=="string"&&/^\d+(\.\d+)?ch$/.test(X)?-parseFloat(X.substring(0,X.length-2)):E.clampedInt(X,this.defaultValue,0,1e3)}compute(X,pe,Le){return Le<0?E.clampedInt(-Le*X.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Le}}class ge extends g{constructor(){super(61,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,X=>g.clamp(X,0,150),{markdownDescription:n.localize(60,null)})}compute(X,pe,Le){return X.fontInfo.lineHeight}}class we extends y{constructor(){const X={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",X,{"editor.minimap.enabled":{type:"boolean",default:X.enabled,description:n.localize(61,null)},"editor.minimap.autohide":{type:"boolean",default:X.autohide,description:n.localize(62,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[n.localize(63,null),n.localize(64,null),n.localize(65,null)],default:X.size,description:n.localize(66,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:X.side,description:n.localize(67,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:X.showSlider,description:n.localize(68,null)},"editor.minimap.scale":{type:"number",default:X.scale,minimum:1,maximum:3,enum:[1,2,3],description:n.localize(69,null)},"editor.minimap.renderCharacters":{type:"boolean",default:X.renderCharacters,description:n.localize(70,null)},"editor.minimap.maxColumn":{type:"number",default:X.maxColumn,description:n.localize(71,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),autohide:o(pe.autohide,this.defaultValue.autohide),size:s(pe.size,this.defaultValue.size,["proportional","fill","fit"]),side:s(pe.side,this.defaultValue.side,["right","left"]),showSlider:s(pe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:o(pe.renderCharacters,this.defaultValue.renderCharacters),scale:E.clampedInt(pe.scale,1,1,3),maxColumn:E.clampedInt(pe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Fe(Q){return Q==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class xe extends y{constructor(){super(78,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:n.localize(72,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:n.localize(73,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{top:E.clampedInt(pe.top,0,0,1e3),bottom:E.clampedInt(pe.bottom,0,0,1e3)}}}class Xe extends y{constructor(){const X={enabled:!0,cycle:!1};super(79,"parameterHints",X,{"editor.parameterHints.enabled":{type:"boolean",default:X.enabled,description:n.localize(74,null)},"editor.parameterHints.cycle":{type:"boolean",default:X.cycle,description:n.localize(75,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),cycle:o(pe.cycle,this.defaultValue.cycle)}}}class ke extends h{constructor(){super(134)}compute(X,pe,Le){return X.pixelRatio}}class ye extends y{constructor(){const X={other:"on",comments:"off",strings:"off"},pe=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[n.localize(76,null),n.localize(77,null),n.localize(78,null)]}];super(82,"quickSuggestions",X,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:pe,default:X.strings,description:n.localize(79,null)},comments:{anyOf:pe,default:X.comments,description:n.localize(80,null)},other:{anyOf:pe,default:X.other,description:n.localize(81,null)}},default:X,markdownDescription:n.localize(82,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=X}validate(X){if(typeof X=="boolean"){const wt=X?"on":"off";return{comments:wt,strings:wt,other:wt}}if(!X||typeof X!="object")return this.defaultValue;const{other:pe,comments:Le,strings:Ue}=X,He=["on","inline","off"];let Je,nt,vt;return typeof pe=="boolean"?Je=pe?"on":"off":Je=s(pe,this.defaultValue.other,He),typeof Le=="boolean"?nt=Le?"on":"off":nt=s(Le,this.defaultValue.comments,He),typeof Ue=="boolean"?vt=Ue?"on":"off":vt=s(Ue,this.defaultValue.strings,He),{other:Je,comments:nt,strings:vt}}}var Ce;(function(Q){Q[Q.Off=0]="Off",Q[Q.On=1]="On",Q[Q.Relative=2]="Relative",Q[Q.Interval=3]="Interval",Q[Q.Custom=4]="Custom"})(Ce=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class re extends y{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[n.localize(83,null),n.localize(84,null),n.localize(85,null),n.localize(86,null)],default:"on",description:n.localize(87,null)})}validate(X){let pe=this.defaultValue.renderType,Le=this.defaultValue.renderFn;return typeof X<"u"&&(typeof X=="function"?(pe=4,Le=X):X==="interval"?pe=3:X==="relative"?pe=2:X==="on"?pe=1:pe=0),{renderType:pe,renderFn:Le}}}function ae(Q){const X=Q.get(90);return X==="editable"?Q.get(84):X!=="on"}e.filterValidationDecorations=ae;class J extends y{constructor(){const X=[],pe={type:"number",description:n.localize(88,null)};super(94,"rulers",X,{type:"array",items:{anyOf:[pe,{type:["object"],properties:{column:pe,color:{type:"string",description:n.localize(89,null),format:"color-hex"}}}]},default:X,description:n.localize(90,null)})}validate(X){if(Array.isArray(X)){const pe=[];for(const Le of X)if(typeof Le=="number")pe.push({column:E.clampedInt(Le,0,0,1e4),color:null});else if(Le&&typeof Le=="object"){const Ue=Le;pe.push({column:E.clampedInt(Ue.column,0,0,1e4),color:Ue.color})}return pe.sort((Le,Ue)=>Le.column-Ue.column),pe}return this.defaultValue}}function D(Q,X){if(typeof Q!="string")return X;switch(Q){case"hidden":return 2;case"visible":return 3;default:return 1}}class N extends y{constructor(){const X={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(95,"scrollbar",X,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.localize(91,null),n.localize(92,null),n.localize(93,null)],default:"auto",description:n.localize(94,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.localize(95,null),n.localize(96,null),n.localize(97,null)],default:"auto",description:n.localize(98,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:X.verticalScrollbarSize,description:n.localize(99,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:X.horizontalScrollbarSize,description:n.localize(100,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:X.scrollByPage,description:n.localize(101,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X,Le=E.clampedInt(pe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ue=E.clampedInt(pe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:E.clampedInt(pe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:D(pe.vertical,this.defaultValue.vertical),horizontal:D(pe.horizontal,this.defaultValue.horizontal),useShadows:o(pe.useShadows,this.defaultValue.useShadows),verticalHasArrows:o(pe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:o(pe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:o(pe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:o(pe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Le,horizontalSliderSize:E.clampedInt(pe.horizontalSliderSize,Le,0,1e3),verticalScrollbarSize:Ue,verticalSliderSize:E.clampedInt(pe.verticalSliderSize,Ue,0,1e3),scrollByPage:o(pe.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class $ extends y{constructor(){const X={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(117,"unicodeHighlight",X,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:X.nonBasicASCII,description:n.localize(102,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:X.invisibleCharacters,description:n.localize(103,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:X.ambiguousCharacters,description:n.localize(104,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:X.includeComments,description:n.localize(105,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:X.includeStrings,description:n.localize(106,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:X.allowedCharacters,description:n.localize(107,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:X.allowedLocales,description:n.localize(108,null)}})}applyUpdate(X,pe){let Le=!1;pe.allowedCharacters&&X&&(I.equals(X.allowedCharacters,pe.allowedCharacters)||(X={...X,allowedCharacters:pe.allowedCharacters},Le=!0)),pe.allowedLocales&&X&&(I.equals(X.allowedLocales,pe.allowedLocales)||(X={...X,allowedLocales:pe.allowedLocales},Le=!0));const Ue=super.applyUpdate(X,pe);return Le?new f(Ue.newValue,!0):Ue}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{nonBasicASCII:Se(pe.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:o(pe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:o(pe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Se(pe.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:Se(pe.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(X.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(X.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(X,pe){if(typeof X!="object"||!X)return pe;const Le={};for(const[Ue,He]of Object.entries(X))He===!0&&(Le[Ue]=!0);return Le}}class q extends y{constructor(){const X={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",X,{"editor.inlineSuggest.enabled":{type:"boolean",default:X.enabled,description:n.localize(109,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),mode:s(pe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class ee extends y{constructor(){const X={enabled:A.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:A.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",X,{"editor.bracketPairColorization.enabled":{type:"boolean",default:X.enabled,markdownDescription:n.localize(110,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:X.independentColorPoolPerBracketType,description:n.localize(111,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{enabled:o(pe.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:o(pe.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class ue extends y{constructor(){const X={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",X,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[n.localize(112,null),n.localize(113,null),n.localize(114,null)],default:X.bracketPairs,description:n.localize(115,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[n.localize(116,null),n.localize(117,null),n.localize(118,null)],default:X.bracketPairsHorizontal,description:n.localize(119,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:X.highlightActiveBracketPair,description:n.localize(120,null)},"editor.guides.indentation":{type:"boolean",default:X.indentation,description:n.localize(121,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[n.localize(122,null),n.localize(123,null),n.localize(124,null)],default:X.highlightActiveIndentation,description:n.localize(125,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{bracketPairs:Se(pe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Se(pe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:o(pe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:o(pe.indentation,this.defaultValue.indentation),highlightActiveIndentation:Se(pe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Se(Q,X,pe){const Le=pe.indexOf(Q);return Le===-1?X:pe[Le]}class se extends y{constructor(){const X={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,selectQuickSuggestions:!0,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(110,"suggest",X,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[n.localize(126,null),n.localize(127,null)],default:X.insertMode,description:n.localize(128,null)},"editor.suggest.filterGraceful":{type:"boolean",default:X.filterGraceful,description:n.localize(129,null)},"editor.suggest.localityBonus":{type:"boolean",default:X.localityBonus,description:n.localize(130,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:X.shareSuggestSelections,markdownDescription:n.localize(131,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:X.snippetsPreventQuickSuggestions,description:n.localize(132,null)},"editor.suggest.showIcons":{type:"boolean",default:X.showIcons,description:n.localize(133,null)},"editor.suggest.showStatusBar":{type:"boolean",default:X.showStatusBar,description:n.localize(134,null)},"editor.suggest.preview":{type:"boolean",default:X.preview,description:n.localize(135,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:X.showInlineDetails,description:n.localize(136,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:n.localize(137,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:n.localize(138,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:n.localize(139,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:n.localize(140,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:n.localize(141,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:n.localize(142,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:n.localize(143,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:n.localize(144,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:n.localize(145,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:n.localize(146,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:n.localize(147,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:n.localize(148,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:n.localize(149,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:n.localize(150,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:n.localize(151,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:n.localize(152,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:n.localize(153,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:n.localize(154,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:n.localize(155,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:n.localize(156,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:n.localize(157,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:n.localize(158,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:n.localize(159,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:n.localize(160,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:n.localize(161,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:n.localize(162,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:n.localize(163,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:n.localize(164,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:n.localize(165,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:n.localize(166,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:n.localize(167,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:n.localize(168,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const pe=X;return{insertMode:s(pe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:o(pe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:o(pe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:o(pe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:o(pe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectQuickSuggestions:o(pe.selectQuickSuggestions,this.defaultValue.selectQuickSuggestions),showIcons:o(pe.showIcons,this.defaultValue.showIcons),showStatusBar:o(pe.showStatusBar,this.defaultValue.showStatusBar),preview:o(pe.preview,this.defaultValue.preview),previewMode:s(pe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:o(pe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:o(pe.showMethods,this.defaultValue.showMethods),showFunctions:o(pe.showFunctions,this.defaultValue.showFunctions),showConstructors:o(pe.showConstructors,this.defaultValue.showConstructors),showDeprecated:o(pe.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:o(pe.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:o(pe.showFields,this.defaultValue.showFields),showVariables:o(pe.showVariables,this.defaultValue.showVariables),showClasses:o(pe.showClasses,this.defaultValue.showClasses),showStructs:o(pe.showStructs,this.defaultValue.showStructs),showInterfaces:o(pe.showInterfaces,this.defaultValue.showInterfaces),showModules:o(pe.showModules,this.defaultValue.showModules),showProperties:o(pe.showProperties,this.defaultValue.showProperties),showEvents:o(pe.showEvents,this.defaultValue.showEvents),showOperators:o(pe.showOperators,this.defaultValue.showOperators),showUnits:o(pe.showUnits,this.defaultValue.showUnits),showValues:o(pe.showValues,this.defaultValue.showValues),showConstants:o(pe.showConstants,this.defaultValue.showConstants),showEnums:o(pe.showEnums,this.defaultValue.showEnums),showEnumMembers:o(pe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:o(pe.showKeywords,this.defaultValue.showKeywords),showWords:o(pe.showWords,this.defaultValue.showWords),showColors:o(pe.showColors,this.defaultValue.showColors),showFiles:o(pe.showFiles,this.defaultValue.showFiles),showReferences:o(pe.showReferences,this.defaultValue.showReferences),showFolders:o(pe.showFolders,this.defaultValue.showFolders),showTypeParameters:o(pe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:o(pe.showSnippets,this.defaultValue.showSnippets),showUsers:o(pe.showUsers,this.defaultValue.showUsers),showIssues:o(pe.showIssues,this.defaultValue.showIssues)}}}class ve extends y{constructor(){super(105,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:n.localize(169,null),default:!0,type:"boolean"}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:o(X.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ee extends h{constructor(){super(135)}compute(X,pe,Le){return pe.get(84)?!0:X.tabFocusMode}}var Be;(function(Q){Q[Q.None=0]="None",Q[Q.Same=1]="Same",Q[Q.Indent=2]="Indent",Q[Q.DeepIndent=3]="DeepIndent"})(Be=e.WrappingIndent||(e.WrappingIndent={}));class $e extends y{constructor(){super(129,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[n.localize(170,null),n.localize(171,null),n.localize(172,null),n.localize(173,null)],description:n.localize(174,null),default:"same"}})}validate(X){switch(X){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(X,pe,Le){return pe.get(2)===2?0:Le}}class tt extends h{constructor(){super(137)}compute(X,pe,Le){const Ue=pe.get(136);return{isDominatedByLongLines:X.isDominatedByLongLines,isWordWrapMinified:Ue.isWordWrapMinified,isViewportWrapping:Ue.isViewportWrapping,wrappingColumn:Ue.wrappingColumn}}}class Ke extends y{constructor(){const X={enabled:!0};super(32,"dropIntoEditor",X,{"editor.dropIntoEditor.enabled":{type:"boolean",default:X.enabled,markdownDescription:n.localize(175,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:o(X.enabled,this.defaultValue.enabled)}}}const et="Consolas, 'Courier New', monospace",it="Menlo, Monaco, 'Courier New', monospace",dt="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?it:k.isLinux?dt:et,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function Oe(Q){return e.editorOptionsRegistry[Q.id]=Q,Q}var st;(function(Q){Q[Q.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",Q[Q.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",Q[Q.accessibilitySupport=2]="accessibilitySupport",Q[Q.accessibilityPageSize=3]="accessibilityPageSize",Q[Q.ariaLabel=4]="ariaLabel",Q[Q.autoClosingBrackets=5]="autoClosingBrackets",Q[Q.autoClosingDelete=6]="autoClosingDelete",Q[Q.autoClosingOvertype=7]="autoClosingOvertype",Q[Q.autoClosingQuotes=8]="autoClosingQuotes",Q[Q.autoIndent=9]="autoIndent",Q[Q.automaticLayout=10]="automaticLayout",Q[Q.autoSurround=11]="autoSurround",Q[Q.bracketPairColorization=12]="bracketPairColorization",Q[Q.guides=13]="guides",Q[Q.codeLens=14]="codeLens",Q[Q.codeLensFontFamily=15]="codeLensFontFamily",Q[Q.codeLensFontSize=16]="codeLensFontSize",Q[Q.colorDecorators=17]="colorDecorators",Q[Q.columnSelection=18]="columnSelection",Q[Q.comments=19]="comments",Q[Q.contextmenu=20]="contextmenu",Q[Q.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",Q[Q.cursorBlinking=22]="cursorBlinking",Q[Q.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",Q[Q.cursorStyle=24]="cursorStyle",Q[Q.cursorSurroundingLines=25]="cursorSurroundingLines",Q[Q.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",Q[Q.cursorWidth=27]="cursorWidth",Q[Q.disableLayerHinting=28]="disableLayerHinting",Q[Q.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",Q[Q.domReadOnly=30]="domReadOnly",Q[Q.dragAndDrop=31]="dragAndDrop",Q[Q.dropIntoEditor=32]="dropIntoEditor",Q[Q.emptySelectionClipboard=33]="emptySelectionClipboard",Q[Q.extraEditorClassName=34]="extraEditorClassName",Q[Q.fastScrollSensitivity=35]="fastScrollSensitivity",Q[Q.find=36]="find",Q[Q.fixedOverflowWidgets=37]="fixedOverflowWidgets",Q[Q.folding=38]="folding",Q[Q.foldingStrategy=39]="foldingStrategy",Q[Q.foldingHighlight=40]="foldingHighlight",Q[Q.foldingImportsByDefault=41]="foldingImportsByDefault",Q[Q.foldingMaximumRegions=42]="foldingMaximumRegions",Q[Q.unfoldOnClickAfterEndOfLine=43]="unfoldOnClickAfterEndOfLine",Q[Q.fontFamily=44]="fontFamily",Q[Q.fontInfo=45]="fontInfo",Q[Q.fontLigatures=46]="fontLigatures",Q[Q.fontSize=47]="fontSize",Q[Q.fontWeight=48]="fontWeight",Q[Q.fontVariations=49]="fontVariations",Q[Q.formatOnPaste=50]="formatOnPaste",Q[Q.formatOnType=51]="formatOnType",Q[Q.glyphMargin=52]="glyphMargin",Q[Q.gotoLocation=53]="gotoLocation",Q[Q.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",Q[Q.hover=55]="hover",Q[Q.inDiffEditor=56]="inDiffEditor",Q[Q.inlineSuggest=57]="inlineSuggest",Q[Q.letterSpacing=58]="letterSpacing",Q[Q.lightbulb=59]="lightbulb",Q[Q.lineDecorationsWidth=60]="lineDecorationsWidth",Q[Q.lineHeight=61]="lineHeight",Q[Q.lineNumbers=62]="lineNumbers",Q[Q.lineNumbersMinChars=63]="lineNumbersMinChars",Q[Q.linkedEditing=64]="linkedEditing",Q[Q.links=65]="links",Q[Q.matchBrackets=66]="matchBrackets",Q[Q.minimap=67]="minimap",Q[Q.mouseStyle=68]="mouseStyle",Q[Q.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",Q[Q.mouseWheelZoom=70]="mouseWheelZoom",Q[Q.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",Q[Q.multiCursorModifier=72]="multiCursorModifier",Q[Q.multiCursorPaste=73]="multiCursorPaste",Q[Q.multiCursorLimit=74]="multiCursorLimit",Q[Q.occurrencesHighlight=75]="occurrencesHighlight",Q[Q.overviewRulerBorder=76]="overviewRulerBorder",Q[Q.overviewRulerLanes=77]="overviewRulerLanes",Q[Q.padding=78]="padding",Q[Q.parameterHints=79]="parameterHints",Q[Q.peekWidgetDefaultFocus=80]="peekWidgetDefaultFocus",Q[Q.definitionLinkOpensInPeek=81]="definitionLinkOpensInPeek",Q[Q.quickSuggestions=82]="quickSuggestions",Q[Q.quickSuggestionsDelay=83]="quickSuggestionsDelay",Q[Q.readOnly=84]="readOnly",Q[Q.renameOnType=85]="renameOnType",Q[Q.renderControlCharacters=86]="renderControlCharacters",Q[Q.renderFinalNewline=87]="renderFinalNewline",Q[Q.renderLineHighlight=88]="renderLineHighlight",Q[Q.renderLineHighlightOnlyWhenFocus=89]="renderLineHighlightOnlyWhenFocus",Q[Q.renderValidationDecorations=90]="renderValidationDecorations",Q[Q.renderWhitespace=91]="renderWhitespace",Q[Q.revealHorizontalRightPadding=92]="revealHorizontalRightPadding",Q[Q.roundedSelection=93]="roundedSelection",Q[Q.rulers=94]="rulers",Q[Q.scrollbar=95]="scrollbar",Q[Q.scrollBeyondLastColumn=96]="scrollBeyondLastColumn",Q[Q.scrollBeyondLastLine=97]="scrollBeyondLastLine",Q[Q.scrollPredominantAxis=98]="scrollPredominantAxis",Q[Q.selectionClipboard=99]="selectionClipboard",Q[Q.selectionHighlight=100]="selectionHighlight",Q[Q.selectOnLineNumbers=101]="selectOnLineNumbers",Q[Q.showFoldingControls=102]="showFoldingControls",Q[Q.showUnused=103]="showUnused",Q[Q.snippetSuggestions=104]="snippetSuggestions",Q[Q.smartSelect=105]="smartSelect",Q[Q.smoothScrolling=106]="smoothScrolling",Q[Q.stickyScroll=107]="stickyScroll",Q[Q.stickyTabStops=108]="stickyTabStops",Q[Q.stopRenderingLineAfter=109]="stopRenderingLineAfter",Q[Q.suggest=110]="suggest",Q[Q.suggestFontSize=111]="suggestFontSize",Q[Q.suggestLineHeight=112]="suggestLineHeight",Q[Q.suggestOnTriggerCharacters=113]="suggestOnTriggerCharacters",Q[Q.suggestSelection=114]="suggestSelection",Q[Q.tabCompletion=115]="tabCompletion",Q[Q.tabIndex=116]="tabIndex",Q[Q.unicodeHighlighting=117]="unicodeHighlighting",Q[Q.unusualLineTerminators=118]="unusualLineTerminators",Q[Q.useShadowDOM=119]="useShadowDOM",Q[Q.useTabStops=120]="useTabStops",Q[Q.wordBreak=121]="wordBreak",Q[Q.wordSeparators=122]="wordSeparators",Q[Q.wordWrap=123]="wordWrap",Q[Q.wordWrapBreakAfterCharacters=124]="wordWrapBreakAfterCharacters",Q[Q.wordWrapBreakBeforeCharacters=125]="wordWrapBreakBeforeCharacters",Q[Q.wordWrapColumn=126]="wordWrapColumn",Q[Q.wordWrapOverride1=127]="wordWrapOverride1",Q[Q.wordWrapOverride2=128]="wordWrapOverride2",Q[Q.wrappingIndent=129]="wrappingIndent",Q[Q.wrappingStrategy=130]="wrappingStrategy",Q[Q.showDeprecated=131]="showDeprecated",Q[Q.inlayHints=132]="inlayHints",Q[Q.editorClassName=133]="editorClassName",Q[Q.pixelRatio=134]="pixelRatio",Q[Q.tabFocusMode=135]="tabFocusMode",Q[Q.layoutInfo=136]="layoutInfo",Q[Q.wrappingInfo=137]="wrappingInfo"})(st=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Oe(new u(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:n.localize(176,null)})),acceptSuggestionOnEnter:Oe(new r(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",n.localize(177,null),""],markdownDescription:n.localize(178,null)})),accessibilitySupport:Oe(new l),accessibilityPageSize:Oe(new E(3,"accessibilityPageSize",10,1,1073741824,{description:n.localize(179,null),tags:["accessibility"]})),ariaLabel:Oe(new w(4,"ariaLabel",n.localize(180,null))),autoClosingBrackets:Oe(new r(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.localize(181,null),n.localize(182,null),""],description:n.localize(183,null)})),autoClosingDelete:Oe(new r(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",n.localize(184,null),""],description:n.localize(185,null)})),autoClosingOvertype:Oe(new r(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",n.localize(186,null),""],description:n.localize(187,null)})),autoClosingQuotes:Oe(new r(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.localize(188,null),n.localize(189,null),""],description:n.localize(190,null)})),autoIndent:Oe(new a(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],d,{enumDescriptions:[n.localize(191,null),n.localize(192,null),n.localize(193,null),n.localize(194,null),n.localize(195,null)],description:n.localize(196,null)})),automaticLayout:Oe(new u(10,"automaticLayout",!1)),autoSurround:Oe(new r(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[n.localize(197,null),n.localize(198,null),n.localize(199,null),""],description:n.localize(200,null)})),bracketPairColorization:Oe(new ee),bracketPairGuides:Oe(new ue),stickyTabStops:Oe(new u(108,"stickyTabStops",!1,{description:n.localize(201,null)})),codeLens:Oe(new u(14,"codeLens",!0,{description:n.localize(202,null)})),codeLensFontFamily:Oe(new w(15,"codeLensFontFamily","",{description:n.localize(203,null)})),codeLensFontSize:Oe(new E(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:n.localize(204,null)})),colorDecorators:Oe(new u(17,"colorDecorators",!0,{description:n.localize(205,null)})),columnSelection:Oe(new u(18,"columnSelection",!1,{description:n.localize(206,null)})),comments:Oe(new c),contextmenu:Oe(new u(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Oe(new u(21,"copyWithSyntaxHighlighting",!0,{description:n.localize(207,null)})),cursorBlinking:Oe(new a(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],m,{description:n.localize(208,null)})),cursorSmoothCaretAnimation:Oe(new u(23,"cursorSmoothCaretAnimation",!1,{description:n.localize(209,null)})),cursorStyle:Oe(new a(24,"cursorStyle",p.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],L,{description:n.localize(210,null)})),cursorSurroundingLines:Oe(new E(25,"cursorSurroundingLines",0,0,1073741824,{description:n.localize(211,null)})),cursorSurroundingLinesStyle:Oe(new r(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[n.localize(212,null),n.localize(213,null)],description:n.localize(214,null)})),cursorWidth:Oe(new E(27,"cursorWidth",0,0,1073741824,{markdownDescription:n.localize(215,null)})),disableLayerHinting:Oe(new u(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Oe(new u(29,"disableMonospaceOptimizations",!1)),domReadOnly:Oe(new u(30,"domReadOnly",!1)),dragAndDrop:Oe(new u(31,"dragAndDrop",!0,{description:n.localize(216,null)})),emptySelectionClipboard:Oe(new H),dropIntoEditor:Oe(new Ke),stickyScroll:Oe(new le),extraEditorClassName:Oe(new w(34,"extraEditorClassName","")),fastScrollSensitivity:Oe(new g(35,"fastScrollSensitivity",5,Q=>Q<=0?5:Q,{markdownDescription:n.localize(217,null)})),find:Oe(new W),fixedOverflowWidgets:Oe(new u(37,"fixedOverflowWidgets",!1)),folding:Oe(new u(38,"folding",!0,{description:n.localize(218,null)})),foldingStrategy:Oe(new r(39,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[n.localize(219,null),n.localize(220,null)],description:n.localize(221,null)})),foldingHighlight:Oe(new u(40,"foldingHighlight",!0,{description:n.localize(222,null)})),foldingImportsByDefault:Oe(new u(41,"foldingImportsByDefault",!1,{description:n.localize(223,null)})),foldingMaximumRegions:Oe(new E(42,"foldingMaximumRegions",5e3,10,65e3,{description:n.localize(224,null)})),unfoldOnClickAfterEndOfLine:Oe(new u(43,"unfoldOnClickAfterEndOfLine",!1,{description:n.localize(225,null)})),fontFamily:Oe(new w(44,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:n.localize(226,null)})),fontInfo:Oe(new O),fontLigatures2:Oe(new T),fontSize:Oe(new B),fontWeight:Oe(new z),fontVariations:Oe(new F),formatOnPaste:Oe(new u(50,"formatOnPaste",!1,{description:n.localize(227,null)})),formatOnType:Oe(new u(51,"formatOnType",!1,{description:n.localize(228,null)})),glyphMargin:Oe(new u(52,"glyphMargin",!0,{description:n.localize(229,null)})),gotoLocation:Oe(new j),hideCursorInOverviewRuler:Oe(new u(54,"hideCursorInOverviewRuler",!1,{description:n.localize(230,null)})),hover:Oe(new G),inDiffEditor:Oe(new u(56,"inDiffEditor",!1)),letterSpacing:Oe(new g(58,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Q=>g.clamp(Q,-5,20),{description:n.localize(231,null)})),lightbulb:Oe(new ce),lineDecorationsWidth:Oe(new Y),lineHeight:Oe(new ge),lineNumbers:Oe(new re),lineNumbersMinChars:Oe(new E(63,"lineNumbersMinChars",5,1,300)),linkedEditing:Oe(new u(64,"linkedEditing",!1,{description:n.localize(232,null)})),links:Oe(new u(65,"links",!0,{description:n.localize(233,null)})),matchBrackets:Oe(new r(66,"matchBrackets","always",["always","near","never"],{description:n.localize(234,null)})),minimap:Oe(new we),mouseStyle:Oe(new r(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Oe(new g(69,"mouseWheelScrollSensitivity",1,Q=>Q===0?1:Q,{markdownDescription:n.localize(235,null)})),mouseWheelZoom:Oe(new u(70,"mouseWheelZoom",!1,{markdownDescription:n.localize(236,null)})),multiCursorMergeOverlapping:Oe(new u(71,"multiCursorMergeOverlapping",!0,{description:n.localize(237,null)})),multiCursorModifier:Oe(new a(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Fe,{markdownEnumDescriptions:[n.localize(238,null),n.localize(239,null)],markdownDescription:n.localize(240,null)})),multiCursorPaste:Oe(new r(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[n.localize(241,null),n.localize(242,null)],markdownDescription:n.localize(243,null)})),multiCursorLimit:Oe(new E(74,"multiCursorLimit",1e4,1,1e5,{markdownDescription:n.localize(244,null)})),occurrencesHighlight:Oe(new u(75,"occurrencesHighlight",!0,{description:n.localize(245,null)})),overviewRulerBorder:Oe(new u(76,"overviewRulerBorder",!0,{description:n.localize(246,null)})),overviewRulerLanes:Oe(new E(77,"overviewRulerLanes",3,0,3)),padding:Oe(new xe),parameterHints:Oe(new Xe),peekWidgetDefaultFocus:Oe(new r(80,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[n.localize(247,null),n.localize(248,null)],description:n.localize(249,null)})),definitionLinkOpensInPeek:Oe(new u(81,"definitionLinkOpensInPeek",!1,{description:n.localize(250,null)})),quickSuggestions:Oe(new ye),quickSuggestionsDelay:Oe(new E(83,"quickSuggestionsDelay",10,0,1073741824,{description:n.localize(251,null)})),readOnly:Oe(new u(84,"readOnly",!1)),renameOnType:Oe(new u(85,"renameOnType",!1,{description:n.localize(252,null),markdownDeprecationMessage:n.localize(253,null)})),renderControlCharacters:Oe(new u(86,"renderControlCharacters",!0,{description:n.localize(254,null),restricted:!0})),renderFinalNewline:Oe(new u(87,"renderFinalNewline",!0,{description:n.localize(255,null)})),renderLineHighlight:Oe(new r(88,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",n.localize(256,null)],description:n.localize(257,null)})),renderLineHighlightOnlyWhenFocus:Oe(new u(89,"renderLineHighlightOnlyWhenFocus",!1,{description:n.localize(258,null)})),renderValidationDecorations:Oe(new r(90,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Oe(new r(91,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",n.localize(259,null),n.localize(260,null),n.localize(261,null),""],description:n.localize(262,null)})),revealHorizontalRightPadding:Oe(new E(92,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Oe(new u(93,"roundedSelection",!0,{description:n.localize(263,null)})),rulers:Oe(new J),scrollbar:Oe(new N),scrollBeyondLastColumn:Oe(new E(96,"scrollBeyondLastColumn",4,0,1073741824,{description:n.localize(264,null)})),scrollBeyondLastLine:Oe(new u(97,"scrollBeyondLastLine",!0,{description:n.localize(265,null)})),scrollPredominantAxis:Oe(new u(98,"scrollPredominantAxis",!0,{description:n.localize(266,null)})),selectionClipboard:Oe(new u(99,"selectionClipboard",!0,{description:n.localize(267,null),included:k.isLinux})),selectionHighlight:Oe(new u(100,"selectionHighlight",!0,{description:n.localize(268,null)})),selectOnLineNumbers:Oe(new u(101,"selectOnLineNumbers",!0)),showFoldingControls:Oe(new r(102,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[n.localize(269,null),n.localize(270,null),n.localize(271,null)],description:n.localize(272,null)})),showUnused:Oe(new u(103,"showUnused",!0,{description:n.localize(273,null)})),showDeprecated:Oe(new u(131,"showDeprecated",!0,{description:n.localize(274,null)})),inlayHints:Oe(new fe),snippetSuggestions:Oe(new r(104,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[n.localize(275,null),n.localize(276,null),n.localize(277,null),n.localize(278,null)],description:n.localize(279,null)})),smartSelect:Oe(new ve),smoothScrolling:Oe(new u(106,"smoothScrolling",!1,{description:n.localize(280,null)})),stopRenderingLineAfter:Oe(new E(109,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Oe(new se),inlineSuggest:Oe(new q),suggestFontSize:Oe(new E(111,"suggestFontSize",0,0,1e3,{markdownDescription:n.localize(281,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:Oe(new E(112,"suggestLineHeight",0,0,1e3,{markdownDescription:n.localize(282,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Oe(new u(113,"suggestOnTriggerCharacters",!0,{description:n.localize(283,null)})),suggestSelection:Oe(new r(114,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[n.localize(284,null),n.localize(285,null),n.localize(286,null)],description:n.localize(287,null)})),tabCompletion:Oe(new r(115,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[n.localize(288,null),n.localize(289,null),n.localize(290,null)],description:n.localize(291,null)})),tabIndex:Oe(new E(116,"tabIndex",0,-1,1073741824)),unicodeHighlight:Oe(new $),unusualLineTerminators:Oe(new r(118,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[n.localize(292,null),n.localize(293,null),n.localize(294,null)],description:n.localize(295,null)})),useShadowDOM:Oe(new u(119,"useShadowDOM",!0)),useTabStops:Oe(new u(120,"useTabStops",!0,{description:n.localize(296,null)})),wordBreak:Oe(new r(121,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[n.localize(297,null),n.localize(298,null)],description:n.localize(299,null)})),wordSeparators:Oe(new w(122,"wordSeparators",_.USUAL_WORD_SEPARATORS,{description:n.localize(300,null)})),wordWrap:Oe(new r(123,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[n.localize(301,null),n.localize(302,null),n.localize(303,null),n.localize(304,null)],description:n.localize(305,null)})),wordWrapBreakAfterCharacters:Oe(new w(124,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Oe(new w(125,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Oe(new E(126,"wordWrapColumn",80,1,1073741824,{markdownDescription:n.localize(306,null)})),wordWrapOverride1:Oe(new r(127,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Oe(new r(128,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Oe(new V),pixelRatio:Oe(new ke),tabFocusMode:Oe(new Ee),layoutInfo:Oe(new he),wrappingInfo:Oe(new tt),wrappingIndent:Oe(new $e),wrappingStrategy:Oe(new oe)}}),define(De[126],Ie([17,18]),function(te,e){return te.create("vs/platform/configuration/common/configurationRegistry",e)}),define(De[127],Ie([17,18]),function(te,e){return te.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(De[128],Ie([17,18]),function(te,e){return te.create("vs/platform/extensions/common/extensionValidator",e)}),define(De[129],Ie([17,18]),function(te,e){return te.create("vs/platform/files/common/files",e)}),define(De[130],Ie([17,18]),function(te,e){return te.create("vs/platform/markers/common/markers",e)}),define(De[131],Ie([17,18]),function(te,e){return te.create("vs/platform/workspace/common/workspace",e)}),define(De[132],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(De[133],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostExtensionService",e)}),define(De[134],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostProgress",e)}),define(De[135],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostStatusBar",e)}),define(De[136],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostTerminalService",e)}),define(De[137],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostTreeViews",e)}),define(De[138],Ie([17,18]),function(te,e){return te.create("vs/workbench/api/common/extHostWorkspace",e)}),define(De[139],Ie([17,18]),function(te,e){return te.create("vs/workbench/common/editor",e)}),define(De[140],Ie([17,18]),function(te,e){return te.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(De[141],Ie([17,18]),function(te,e){return te.create("vs/workbench/contrib/debug/common/debug",e)}),define(De[142],Ie([17,18]),function(te,e){return te.create("vs/workbench/contrib/tasks/common/taskDefinitionRegistry",e)}),define(De[143],Ie([17,18]),function(te,e){return te.create("vs/workbench/contrib/tasks/common/tasks",e)}),define(De[144],Ie([17,18]),function(te,e){return te.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(De[145],Ie([17,18]),function(te,e){return te.create("vs/workbench/services/extensions/common/extensionsRegistry",e)}),define(De[146],Ie([17,18]),function(te,e){return te.create("vs/workbench/services/search/common/queryBuilder",e)}),define(De[147],Ie([1,0,11]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImplicitActivationEvents=e.ImplicitActivationEventsImpl=void 0;class k{constructor(){this._generators=new Map}register(M,I){this._generators.set(M,I)}updateManifest(M){if(!(typeof M.main>"u"&&typeof M.browser>"u")&&(M.activationEvents===void 0&&Object.assign(M,{activationEvents:[]}),!(!Array.isArray(M.activationEvents)||!M.contributes)))for(const I in M.contributes){const A=this._generators.get(I);if(!A)continue;const S=M.contributes[I],C=Array.isArray(S)?S:[S];try{A(C,M.activationEvents)}catch(R){(0,n.onUnexpectedError)(R)}}}}e.ImplicitActivationEventsImpl=k,e.ImplicitActivationEvents=new k}),define(De[148],Ie([1,0,22,29,128,248]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEngineValid=e.isValidExtensionVersion=e.validateExtensionManifest=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const I=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,A=/^-(\d{4})(\d{2})(\d{2})$/;function S(u){return u=u.trim(),u==="*"||I.test(u)}e.isValidVersionStr=S;function C(u){if(!S(u))return null;if(u=u.trim(),u==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const b=u.match(I);return b?{hasCaret:b[1]==="^",hasGreaterEquals:b[1]===">=",majorBase:b[2]==="x"?0:parseInt(b[2],10),majorMustEqual:b[2]!=="x",minorBase:b[4]==="x"?0:parseInt(b[4],10),minorMustEqual:b[4]!=="x",patchBase:b[6]==="x"?0:parseInt(b[6],10),patchMustEqual:b[6]!=="x",preRelease:b[8]||null}:null}e.parseVersion=C;function R(u){if(!u)return null;const b=u.majorBase,E=u.majorMustEqual,g=u.minorBase;let w=u.minorMustEqual;const s=u.patchBase;let r=u.patchMustEqual;u.hasCaret&&(b===0||(w=!1),r=!1);let a=0;if(u.preRelease){const d=A.exec(u.preRelease);if(d){const[,l,c,t]=d;a=Date.UTC(Number(l),Number(c)-1,Number(t))}}return{majorBase:b,majorMustEqual:E,minorBase:g,minorMustEqual:w,patchBase:s,patchMustEqual:r,isMinimum:u.hasGreaterEquals,notBefore:a}}e.normalizeVersion=R;function y(u,b,E){let g;typeof u=="string"?g=R(C(u)):g=u;let w;b instanceof Date?w=b.getTime():typeof b=="string"&&(w=new Date(b).getTime());let s;if(typeof E=="string"?s=R(C(E)):s=E,!g||!s)return!1;const r=g.majorBase,a=g.minorBase,d=g.patchBase;let l=s.majorBase,c=s.minorBase,t=s.patchBase;const m=s.notBefore;let p=s.majorMustEqual,P=s.minorMustEqual,L=s.patchMustEqual;return s.isMinimum?r>l?!0:r<l?!1:a>c?!0:a<c||w&&w<m?!1:d>=t:(r===1&&l===0&&(!p||!P||!L)&&(l=1,c=0,t=0,p=!0,P=!1,L=!1),r<l?!1:r>l?!p:a<c?!1:a>c?!P:d<t?!1:d>t?!L:!(w&&w<m))}e.isValidVersion=y;function f(u,b,E,g,w){const s=[];if(typeof g.publisher<"u"&&typeof g.publisher!="string")return s.push([k.default.Error,_.localize(0,null)]),s;if(typeof g.name!="string")return s.push([k.default.Error,_.localize(1,null,"name")]),s;if(typeof g.version!="string")return s.push([k.default.Error,_.localize(2,null,"version")]),s;if(!g.engines)return s.push([k.default.Error,_.localize(3,null,"engines")]),s;if(typeof g.engines.vscode!="string")return s.push([k.default.Error,_.localize(4,null,"engines.vscode")]),s;if(typeof g.extensionDependencies<"u"&&!o(g.extensionDependencies))return s.push([k.default.Error,_.localize(5,null,"extensionDependencies")]),s;if(typeof g.activationEvents<"u"){if(!o(g.activationEvents))return s.push([k.default.Error,_.localize(6,null,"activationEvents")]),s;if(typeof g.main>"u"&&typeof g.browser>"u")return s.push([k.default.Error,_.localize(7,null,"activationEvents","main")]),s}if(typeof g.extensionKind<"u"&&typeof g.main>"u"&&s.push([k.default.Warning,_.localize(8,null,"extensionKind")]),typeof g.main<"u"){if(typeof g.main!="string")return s.push([k.default.Error,_.localize(9,null,"main")]),s;{const d=(0,n.joinPath)(E,g.main);(0,n.isEqualOrParent)(d,E)||s.push([k.default.Warning,_.localize(10,null,d.path,E.path)])}if(typeof g.activationEvents>"u")return s.push([k.default.Error,_.localize(11,null,"activationEvents","main")]),s}if(typeof g.browser<"u"){if(typeof g.browser!="string")return s.push([k.default.Error,_.localize(12,null,"browser")]),s;{const d=(0,n.joinPath)(E,g.browser);(0,n.isEqualOrParent)(d,E)||s.push([k.default.Warning,_.localize(13,null,d.path,E.path)])}if(typeof g.activationEvents>"u")return s.push([k.default.Error,_.localize(14,null,"activationEvents","browser")]),s}if(!M.valid(g.version))return s.push([k.default.Error,_.localize(15,null)]),s;const r=[];if(!v(u,b,g,w,r))for(const d of r)s.push([k.default.Error,d]);return s}e.validateExtensionManifest=f;function v(u,b,E,g,w){return g||typeof E.main>"u"&&typeof E.browser>"u"?!0:i(u,b,E.engines.vscode,w)}e.isValidExtensionVersion=v;function h(u,b,E){return u==="*"||i(b,E,u)}e.isEngineValid=h;function i(u,b,E,g=[]){const w=R(C(E));if(!w)return g.push(_.localize(16,null,E)),!1;if(w.majorBase===0){if(!w.majorMustEqual||!w.minorMustEqual)return g.push(_.localize(17,null,E)),!1}else if(!w.majorMustEqual)return g.push(_.localize(18,null,E)),!1;return y(u,b,w)?!0:(g.push(_.localize(19,null,u,E)),!1)}function o(u){if(!Array.isArray(u))return!1;for(let b=0,E=u.length;b<E;b++)if(typeof u[b]!="string")return!1;return!0}}),define(De[84],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class n{constructor(_,M=[],I=!1){this.ctor=_,this.staticArguments=M,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=n}),define(De[62],Ie([1,0,84]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=e.InstantiationType=void 0;const k=[];var _;(function(A){A[A.Eager=0]="Eager",A[A.Delayed=1]="Delayed"})(_=e.InstantiationType||(e.InstantiationType={}));function M(A,S,C){S instanceof n.SyncDescriptor||(S=new n.SyncDescriptor(S,[],Boolean(C))),k.push([A,S])}e.registerSingleton=M;function I(){return k}e.getSingletonServiceDescriptors=I}),define(De[149],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class n{constructor(M,I){this.key=M,this.data=I,this.incoming=new Map,this.outgoing=new Map}}e.Node=n;class k{constructor(M){this._hashFn=M,this._nodes=new Map}roots(){const M=[];for(const I of this._nodes.values())I.outgoing.size===0&&M.push(I);return M}insertEdge(M,I){const A=this.lookupOrInsertNode(M),S=this.lookupOrInsertNode(I);A.outgoing.set(S.key,S),S.incoming.set(A.key,A)}removeNode(M){const I=this._hashFn(M);this._nodes.delete(I);for(const A of this._nodes.values())A.outgoing.delete(I),A.incoming.delete(I)}lookupOrInsertNode(M){const I=this._hashFn(M);let A=this._nodes.get(I);return A||(A=new n(I,M),this._nodes.set(I,A)),A}lookup(M){return this._nodes.get(this._hashFn(M))}isEmpty(){return this._nodes.size===0}toString(){const M=[];for(const[I,A]of this._nodes)M.push(`${I}
	(-> incoming)[${[...A.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...A.outgoing.keys()].join(",")}]
`);return M.join(`
`)}findCycleSlow(){for(const[M,I]of this._nodes){const A=new Set([M]),S=this._findCycle(I,A);if(S)return S}}_findCycle(M,I){for(const[A,S]of M.outgoing){if(I.has(A))return[...I,A].join(" -> ");I.add(A);const C=this._findCycle(S,I);if(C)return C;I.delete(A)}}}e.Graph=k}),define(De[3],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var n;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function A(S){return S[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=A})(n=e._util||(e._util={})),e.IInstantiationService=_("instantiationService");function k(I,A,S){A[n.DI_TARGET]===A?A[n.DI_DEPENDENCIES].push({id:I,index:S}):(A[n.DI_DEPENDENCIES]=[{id:I,index:S}],A[n.DI_TARGET]=A)}function _(I){if(n.serviceIds.has(I))return n.serviceIds.get(I);const A=function(S,C,R){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(A,S,R)};return A.toString=()=>I,n.serviceIds.set(I,A),A}e.createDecorator=_;function M(I){return I}e.refineServiceDecorator=M}),define(De[40],Ie([1,0,9,2,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getMigratedSettingValue=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.ConfigurationTargetToString=e.ConfigurationTarget=e.isConfigurationUpdateOverrides=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=(0,_.createDecorator)("configurationService");function M(u){return u&&typeof u=="object"&&(!u.overrideIdentifier||typeof u.overrideIdentifier=="string")&&(!u.resource||u.resource instanceof k.URI)}e.isConfigurationOverrides=M;function I(u){return u&&typeof u=="object"&&(!u.overrideIdentifiers||Array.isArray(u.overrideIdentifiers))&&!u.overrideIdentifier&&(!u.resource||u.resource instanceof k.URI)}e.isConfigurationUpdateOverrides=I;var A;(function(u){u[u.APPLICATION=1]="APPLICATION",u[u.USER=2]="USER",u[u.USER_LOCAL=3]="USER_LOCAL",u[u.USER_REMOTE=4]="USER_REMOTE",u[u.WORKSPACE=5]="WORKSPACE",u[u.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",u[u.DEFAULT=7]="DEFAULT",u[u.MEMORY=8]="MEMORY"})(A=e.ConfigurationTarget||(e.ConfigurationTarget={}));function S(u){switch(u){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}e.ConfigurationTargetToString=S;function C(u,b){const E=Object.create(null);for(const g in u)R(E,g,u[g],b);return E}e.toValuesTree=C;function R(u,b,E,g){const w=b.split("."),s=w.pop();let r=u;for(let a=0;a<w.length;a++){const d=w[a];let l=r[d];switch(typeof l){case"undefined":l=r[d]=Object.create(null);break;case"object":break;default:g(`Ignoring ${b} as ${w.slice(0,a+1).join(".")} is ${JSON.stringify(l)}`);return}r=l}if(typeof r=="object"&&r!==null)try{r[s]=E}catch{g(`Ignoring ${b} as ${w.join(".")} is ${JSON.stringify(r)}`)}else g(`Ignoring ${b} as ${w.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=R;function y(u,b){const E=b.split(".");f(u,E)}e.removeFromValueTree=y;function f(u,b){const E=b.shift();if(b.length===0){delete u[E];return}if(Object.keys(u).indexOf(E)!==-1){const g=u[E];typeof g=="object"&&!Array.isArray(g)&&(f(g,b),Object.keys(g).length===0&&delete u[E])}}function v(u,b,E){function g(r,a){let d=r;for(const l of a){if(typeof d!="object"||d===null)return;d=d[l]}return d}const w=b.split("."),s=g(u,w);return typeof s>"u"?E:s}e.getConfigurationValue=v;function h(u,b,E){Object.keys(b).forEach(g=>{g!=="__proto__"&&(g in u?n.isObject(u[g])&&n.isObject(b[g])?h(u[g],b[g],E):E&&(u[g]=b[g]):u[g]=b[g])})}e.merge=h;function i(u,b,E){const g=u.inspect(b),w=u.inspect(E);return typeof g.userValue<"u"||typeof g.workspaceValue<"u"||typeof g.workspaceFolderValue<"u"?g.value:typeof w.userValue<"u"||typeof w.workspaceValue<"u"||typeof w.workspaceFolderValue<"u"?w.value:g.defaultValue}e.getMigratedSettingValue=i;function o(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=o}),define(De[41],Ie([1,0,21,10,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.ContextKeyExprType=void 0;const M=new Map;M.set("false",!1),M.set("true",!0),M.set("isMac",n.isMacintosh),M.set("isLinux",n.isLinux),M.set("isWindows",n.isWindows),M.set("isWeb",n.isWeb),M.set("isMacNative",n.isMacintosh&&!n.isWeb),M.set("isEdge",n.isEdge),M.set("isFirefox",n.isFirefox),M.set("isChrome",n.isChrome),M.set("isSafari",n.isSafari);const I=Object.prototype.hasOwnProperty;var A;(function(W){W[W.False=0]="False",W[W.True=1]="True",W[W.Defined=2]="Defined",W[W.Not=3]="Not",W[W.Equals=4]="Equals",W[W.NotEquals=5]="NotEquals",W[W.And=6]="And",W[W.Regex=7]="Regex",W[W.NotRegex=8]="NotRegex",W[W.Or=9]="Or",W[W.In=10]="In",W[W.NotIn=11]="NotIn",W[W.Greater=12]="Greater",W[W.GreaterEquals=13]="GreaterEquals",W[W.Smaller=14]="Smaller",W[W.SmallerEquals=15]="SmallerEquals"})(A=e.ContextKeyExprType||(e.ContextKeyExprType={}));class S{static false(){return y.INSTANCE}static true(){return f.INSTANCE}static has(T){return v.create(T)}static equals(T,F){return h.create(T,F)}static notEquals(T,F){return u.create(T,F)}static regex(T,F){return a.create(T,F)}static in(T,F){return i.create(T,F)}static notIn(T,F){return o.create(T,F)}static not(T){return b.create(T)}static and(...T){return c.create(T,null,!0)}static or(...T){return t.create(T,null,!0)}static greater(T,F){return g.create(T,F)}static greaterEquals(T,F){return w.create(T,F)}static smaller(T,F){return s.create(T,F)}static smallerEquals(T,F){return r.create(T,F)}static deserialize(T,F=!1){if(!!T)return this._deserializeOrExpression(T,F)}static _deserializeOrExpression(T,F){const O=T.split("||");return t.create(O.map(B=>this._deserializeAndExpression(B,F)),null,!0)}static _deserializeAndExpression(T,F){const O=T.split("&&");return c.create(O.map(B=>this._deserializeOne(B,F)),null,!0)}static _deserializeOne(T,F){if(T=T.trim(),T.indexOf("!=")>=0){const O=T.split("!=");return u.create(O[0].trim(),this._deserializeValue(O[1],F))}if(T.indexOf("==")>=0){const O=T.split("==");return h.create(O[0].trim(),this._deserializeValue(O[1],F))}if(T.indexOf("=~")>=0){const O=T.split("=~");return a.create(O[0].trim(),this._deserializeRegexValue(O[1],F))}if(T.indexOf(" not in ")>=0){const O=T.split(" not in ");return o.create(O[0].trim(),this._deserializeValue(O[1],F))}if(T.indexOf(" in ")>=0){const O=T.split(" in ");return i.create(O[0].trim(),this._deserializeValue(O[1],F))}if(/^[^<=>]+>=[^<=>]+$/.test(T)){const O=T.split(">=");return w.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(T)){const O=T.split(">");return g.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(T)){const O=T.split("<=");return r.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(T)){const O=T.split("<");return s.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(T)?b.create(T.substr(1).trim()):v.create(T)}static _deserializeValue(T,F){if(T=T.trim(),T==="true")return!0;if(T==="false")return!1;const O=/^'([^']*)'$/.exec(T);return O?O[1].trim():T}static _deserializeRegexValue(T,F){if((0,k.isFalsyOrWhitespace)(T)){if(F)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const O=T.indexOf("/"),B=T.lastIndexOf("/");if(O===B||O<0){if(F)throw new Error(`bad regexp-value '${T}', missing /-enclosure`);return console.warn(`bad regexp-value '${T}', missing /-enclosure`),null}const z=T.slice(O+1,B),j=T[B+1]==="i"?"i":"";try{return new RegExp(z,j)}catch(G){if(F)throw new Error(`bad regexp-value '${T}', parse error: ${G}`);return console.warn(`bad regexp-value '${T}', parse error: ${G}`),null}}}e.ContextKeyExpr=S;function C(W,T){const F=W?W.substituteConstants():void 0,O=T?T.substituteConstants():void 0;return!F&&!O?!0:!F||!O?!1:F.equals(O)}e.expressionsAreEqualWithConstantSubstitution=C;function R(W,T){return W.cmp(T)}class y{constructor(){this.type=0}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!1}serialize(){return"false"}keys(){return[]}map(T){return this}negate(){return f.INSTANCE}}e.ContextKeyFalseExpr=y,y.INSTANCE=new y;class f{constructor(){this.type=1}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!0}serialize(){return"true"}keys(){return[]}map(T){return this}negate(){return y.INSTANCE}}e.ContextKeyTrueExpr=f,f.INSTANCE=new f;class v{static create(T,F=null){const O=M.get(T);return typeof O=="boolean"?O?f.INSTANCE:y.INSTANCE:new v(T,F)}constructor(T,F){this.key=T,this.negated=F,this.type=2}cmp(T){return T.type!==this.type?this.type-T.type:p(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=M.get(this.key);return typeof T=="boolean"?T?f.INSTANCE:y.INSTANCE:this}evaluate(T){return!!T.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(T){return T.mapDefined(this.key)}negate(){return this.negated||(this.negated=b.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=v;class h{static create(T,F,O=null){if(typeof F=="boolean")return F?v.create(T,O):b.create(T,O);const B=M.get(T);return typeof B=="boolean"?F===(B?"true":"false")?f.INSTANCE:y.INSTANCE:new h(T,F,O)}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=4}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=M.get(this.key);if(typeof T=="boolean"){const F=T?"true":"false";return this.value===F?f.INSTANCE:y.INSTANCE}return this}evaluate(T){return T.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(T){return T.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=h;class i{static create(T,F){return new i(T,F)}constructor(T,F){this.key=T,this.valueKey=F,this.type=10,this.negated=null}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.valueKey,T.key,T.valueKey)}equals(T){return T.type===this.type?this.key===T.key&&this.valueKey===T.valueKey:!1}substituteConstants(){return this}evaluate(T){const F=T.getValue(this.valueKey),O=T.getValue(this.key);return Array.isArray(F)?F.includes(O):typeof O=="string"&&typeof F=="object"&&F!==null?I.call(F,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(T){return T.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=o.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=i;class o{static create(T,F){return new o(T,F)}constructor(T,F){this.key=T,this.valueKey=F,this.type=11,this._negated=i.create(T,F)}cmp(T){return T.type!==this.type?this.type-T.type:this._negated.cmp(T._negated)}equals(T){return T.type===this.type?this._negated.equals(T._negated):!1}substituteConstants(){return this}evaluate(T){return!this._negated.evaluate(T)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(T){return T.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}}e.ContextKeyNotInExpr=o;class u{static create(T,F,O=null){if(typeof F=="boolean")return F?b.create(T,O):v.create(T,O);const B=M.get(T);return typeof B=="boolean"?F===(B?"true":"false")?y.INSTANCE:f.INSTANCE:new u(T,F,O)}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=5}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=M.get(this.key);if(typeof T=="boolean"){const F=T?"true":"false";return this.value===F?y.INSTANCE:f.INSTANCE}return this}evaluate(T){return T.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(T){return T.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=u;class b{static create(T,F=null){const O=M.get(T);return typeof O=="boolean"?O?y.INSTANCE:f.INSTANCE:new b(T,F)}constructor(T,F){this.key=T,this.negated=F,this.type=3}cmp(T){return T.type!==this.type?this.type-T.type:p(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=M.get(this.key);return typeof T=="boolean"?T?y.INSTANCE:f.INSTANCE:this}evaluate(T){return!T.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(T){return T.mapNot(this.key)}negate(){return this.negated||(this.negated=v.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=b;function E(W,T){if(typeof W=="string"){const F=parseFloat(W);isNaN(F)||(W=F)}return typeof W=="string"||typeof W=="number"?T(W):y.INSTANCE}class g{static create(T,F,O=null){return E(F,B=>new g(T,B,O))}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=12}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(T){return T.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=g;class w{static create(T,F,O=null){return E(F,B=>new w(T,B,O))}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=13}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(T){return T.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=s.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=w;class s{static create(T,F,O=null){return E(F,B=>new s(T,B,O))}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=14}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(T){return T.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=s;class r{static create(T,F,O=null){return E(F,B=>new r(T,B,O))}constructor(T,F,O){this.key=T,this.value=F,this.negated=O,this.type=15}cmp(T){return T.type!==this.type?this.type-T.type:P(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(T){return T.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=r;class a{static create(T,F){return new a(T,F)}constructor(T,F){this.key=T,this.regexp=F,this.type=7,this.negated=null}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.key<T.key)return-1;if(this.key>T.key)return 1;const F=this.regexp?this.regexp.source:"",O=T.regexp?T.regexp.source:"";return F<O?-1:F>O?1:0}equals(T){if(T.type===this.type){const F=this.regexp?this.regexp.source:"",O=T.regexp?T.regexp.source:"";return this.key===T.key&&F===O}return!1}substituteConstants(){return this}evaluate(T){const F=T.getValue(this.key);return this.regexp?this.regexp.test(F):!1}serialize(){const T=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${T}`}keys(){return[this.key]}map(T){return T.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyRegexExpr=a;class d{static create(T){return new d(T)}constructor(T){this._actual=T,this.type=8}cmp(T){return T.type!==this.type?this.type-T.type:this._actual.cmp(T._actual)}equals(T){return T.type===this.type?this._actual.equals(T._actual):!1}substituteConstants(){return this}evaluate(T){return!this._actual.evaluate(T)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(T){return new d(this._actual.map(T))}negate(){return this._actual}}e.ContextKeyNotRegexExpr=d;function l(W){let T=null;for(let F=0,O=W.length;F<O;F++){const B=W[F].substituteConstants();if(W[F]!==B&&T===null){T=[];for(let z=0;z<F;z++)T[z]=W[z]}T!==null&&(T[F]=B)}return T===null?W:T}class c{static create(T,F,O){return c._normalizeArr(T,F,O)}constructor(T,F){this.expr=T,this.negated=F,this.type=6}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let F=0,O=this.expr.length;F<O;F++){const B=R(this.expr[F],T.expr[F]);if(B!==0)return B}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let F=0,O=this.expr.length;F<O;F++)if(!this.expr[F].equals(T.expr[F]))return!1;return!0}return!1}substituteConstants(){const T=l(this.expr);return T===this.expr?this:c.create(T,this.negated,!1)}evaluate(T){for(let F=0,O=this.expr.length;F<O;F++)if(!this.expr[F].evaluate(T))return!1;return!0}static _normalizeArr(T,F,O){const B=[];let z=!1;for(const j of T)if(!!j){if(j.type===1){z=!0;continue}if(j.type===0)return y.INSTANCE;if(j.type===6){B.push(...j.expr);continue}B.push(j)}if(B.length===0&&z)return f.INSTANCE;if(B.length!==0){if(B.length===1)return B[0];B.sort(R);for(let j=1;j<B.length;j++)B[j-1].equals(B[j])&&(B.splice(j,1),j--);if(B.length===1)return B[0];for(;B.length>1;){const j=B[B.length-1];if(j.type!==9)break;B.pop();const G=B.pop(),Z=B.length===0,he=t.create(j.expr.map(oe=>c.create([oe,G],null,O)),null,Z);he&&(B.push(he),B.sort(R))}if(B.length===1)return B[0];if(O){for(let j=0;j<B.length;j++)for(let G=j+1;G<B.length;G++)if(B[j].negate().equals(B[G]))return y.INSTANCE;if(B.length===1)return B[0]}return new c(B,F)}}serialize(){return this.expr.map(T=>T.serialize()).join(" && ")}keys(){const T=[];for(const F of this.expr)T.push(...F.keys());return T}map(T){return new c(this.expr.map(F=>F.map(T)),null)}negate(){if(!this.negated){const T=[];for(const F of this.expr)T.push(F.negate());this.negated=t.create(T,this,!0)}return this.negated}}class t{static create(T,F,O){return t._normalizeArr(T,F,O)}constructor(T,F){this.expr=T,this.negated=F,this.type=9}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let F=0,O=this.expr.length;F<O;F++){const B=R(this.expr[F],T.expr[F]);if(B!==0)return B}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let F=0,O=this.expr.length;F<O;F++)if(!this.expr[F].equals(T.expr[F]))return!1;return!0}return!1}substituteConstants(){const T=l(this.expr);return T===this.expr?this:t.create(T,this.negated,!1)}evaluate(T){for(let F=0,O=this.expr.length;F<O;F++)if(this.expr[F].evaluate(T))return!0;return!1}static _normalizeArr(T,F,O){let B=[],z=!1;if(T){for(let j=0,G=T.length;j<G;j++){const Z=T[j];if(!!Z){if(Z.type===0){z=!0;continue}if(Z.type===1)return f.INSTANCE;if(Z.type===9){B=B.concat(Z.expr);continue}B.push(Z)}}if(B.length===0&&z)return y.INSTANCE;B.sort(R)}if(B.length!==0){if(B.length===1)return B[0];for(let j=1;j<B.length;j++)B[j-1].equals(B[j])&&(B.splice(j,1),j--);if(B.length===1)return B[0];if(O){for(let j=0;j<B.length;j++)for(let G=j+1;G<B.length;G++)if(B[j].negate().equals(B[G]))return f.INSTANCE;if(B.length===1)return B[0]}return new t(B,F)}}serialize(){return this.expr.map(T=>T.serialize()).join(" || ")}keys(){const T=[];for(const F of this.expr)T.push(...F.keys());return T}map(T){return new t(this.expr.map(F=>F.map(T)),null)}negate(){if(!this.negated){const T=[];for(const F of this.expr)T.push(F.negate());for(;T.length>1;){const F=T.shift(),O=T.shift(),B=[];for(const z of H(F))for(const j of H(O))B.push(c.create([z,j],null,!1));T.unshift(t.create(B,null,!1))}this.negated=t.create(T,this,!0)}return this.negated}}class m extends v{static all(){return m._info.values()}constructor(T,F,O){super(T,null),this._defaultValue=F,typeof O=="object"?m._info.push({...O,key:T}):O!==!0&&m._info.push({key:T,description:O,type:F!=null?typeof F:void 0})}bindTo(T){return T.createKey(this.key,this._defaultValue)}getValue(T){return T.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(T){return h.create(this.key,T)}notEqualsTo(T){return u.create(this.key,T)}}e.RawContextKey=m,m._info=[],e.IContextKeyService=(0,_.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function p(W,T){return W<T?-1:W>T?1:0}function P(W,T,F,O){return W<F?-1:W>F?1:T<O?-1:T>O?1:0}function L(W,T){if(W.type===0||T.type===1)return!0;if(W.type===9)return T.type===9?V(W.expr,T.expr):!1;if(T.type===9){for(const F of T.expr)if(L(W,F))return!0;return!1}if(W.type===6){if(T.type===6)return V(T.expr,W.expr);for(const F of W.expr)if(L(F,T))return!0;return!1}return W.equals(T)}e.implies=L;function V(W,T){let F=0,O=0;for(;F<W.length&&O<T.length;){const B=W[F].cmp(T[O]);if(B<0)return!1;B===0&&F++,O++}return F===W.length}function H(W){return W.type===9?W.expr:[W]}}),define(De[150],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INativeEnvironmentService=e.IEnvironmentService=void 0,e.IEnvironmentService=(0,n.createDecorator)("environmentService"),e.INativeEnvironmentService=(0,n.refineServiceDecorator)(e.IEnvironmentService)}),define(De[85],Ie([1,0,127,3]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreferencesLocalizedLabel=e.PreferencesLabel=e.ExtensionsLocalizedLabel=e.ExtensionsLabel=e.IExtensionTipsService=e.IGlobalExtensionEnablementService=e.ENABLED_EXTENSIONS_STORAGE_PATH=e.DISABLED_EXTENSIONS_STORAGE_PATH=e.IExtensionManagementService=e.ExtensionManagementError=e.ExtensionManagementErrorCode=e.IExtensionGalleryService=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.isIExtensionIdentifier=e.getFallbackTargetPlarforms=e.isTargetPlatformCompatible=e.isNotWebExtensionInWebTargetPlatform=e.getTargetPlatform=e.toTargetPlatform=e.TargetPlatformToString=e.WEB_EXTENSION_TAG=e.EXTENSION_IDENTIFIER_REGEX=e.EXTENSION_IDENTIFIER_PATTERN=void 0,e.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.EXTENSION_IDENTIFIER_REGEX=new RegExp(e.EXTENSION_IDENTIFIER_PATTERN),e.WEB_EXTENSION_TAG="__web_extension";function _(u){switch(u){case"win32-x64":return"Windows 64 bit";case"win32-ia32":return"Windows 32 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.TargetPlatformToString=_;function M(u){switch(u){case"win32-x64":return"win32-x64";case"win32-ia32":return"win32-ia32";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.toTargetPlatform=M;function I(u,b){switch(u){case 3:return b==="x64"?"win32-x64":b==="ia32"?"win32-ia32":b==="arm64"?"win32-arm64":"unknown";case 2:return b==="x64"?"linux-x64":b==="arm64"?"linux-arm64":b==="arm"?"linux-armhf":"unknown";case"alpine":return b==="x64"?"alpine-x64":b==="arm64"?"alpine-arm64":"unknown";case 1:return b==="x64"?"darwin-x64":b==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.getTargetPlatform=I;function A(u,b){return b==="web"&&!u.includes("web")}e.isNotWebExtensionInWebTargetPlatform=A;function S(u,b,E){return A(b,E)?!1:u==="undefined"||u==="universal"?!0:u==="unknown"?!1:u===E?!0:C(E).includes(u)}e.isTargetPlatformCompatible=S;function C(u){switch(u){case"win32-x64":return["win32-ia32"];case"win32-arm64":return["win32-ia32"]}return[]}e.getFallbackTargetPlarforms=C;function R(u){return u&&typeof u=="object"&&typeof u.id=="string"&&(!u.uuid||typeof u.uuid=="string")}e.isIExtensionIdentifier=R;var y;(function(u){u[u.NoneOrRelevance=0]="NoneOrRelevance",u[u.LastUpdatedDate=1]="LastUpdatedDate",u[u.Title=2]="Title",u[u.PublisherName=3]="PublisherName",u[u.InstallCount=4]="InstallCount",u[u.PublishedDate=10]="PublishedDate",u[u.AverageRating=6]="AverageRating",u[u.WeightedRating=12]="WeightedRating"})(y=e.SortBy||(e.SortBy={}));var f;(function(u){u[u.Default=0]="Default",u[u.Ascending=1]="Ascending",u[u.Descending=2]="Descending"})(f=e.SortOrder||(e.SortOrder={}));var v;(function(u){u.Install="install",u.Uninstall="uninstall"})(v=e.StatisticType||(e.StatisticType={}));var h;(function(u){u[u.None=1]="None",u[u.Install=2]="Install",u[u.Update=3]="Update",u[u.Migrate=4]="Migrate"})(h=e.InstallOperation||(e.InstallOperation={})),e.IExtensionGalleryService=(0,k.createDecorator)("extensionGalleryService");var i;(function(u){u.Unsupported="Unsupported",u.Deprecated="Deprecated",u.Malicious="Malicious",u.Incompatible="Incompatible",u.IncompatiblePreRelease="IncompatiblePreRelease",u.IncompatibleTargetPlatform="IncompatibleTargetPlatform",u.ReleaseVersionNotFound="ReleaseVersionNotFound",u.Invalid="Invalid",u.Download="Download",u.Extract="Extract",u.Delete="Delete",u.Rename="Rename",u.CorruptZip="CorruptZip",u.IncompleteZip="IncompleteZip",u.Internal="Internal",u.Signature="Signature"})(i=e.ExtensionManagementErrorCode||(e.ExtensionManagementErrorCode={}));class o extends Error{constructor(b,E){super(b),this.code=E,this.name=E}}e.ExtensionManagementError=o,e.IExtensionManagementService=(0,k.createDecorator)("extensionManagementService"),e.DISABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/disabled",e.ENABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/enabled",e.IGlobalExtensionEnablementService=(0,k.createDecorator)("IGlobalExtensionEnablementService"),e.IExtensionTipsService=(0,k.createDecorator)("IExtensionTipsService"),e.ExtensionsLabel=(0,n.localize)(0,null),e.ExtensionsLocalizedLabel={value:e.ExtensionsLabel,original:"Extensions"},e.PreferencesLabel=(0,n.localize)(1,null),e.PreferencesLocalizedLabel={value:e.PreferencesLabel,original:"Preferences"}}),define(De[36],Ie([1,0,46,19,10,9,2,129,3]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformLimits=e.Arch=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.NotModifiedSinceFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileAtomicReadCapability=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileCloneCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,S.createDecorator)("fileService");function C(z){return z.create===!0}e.isFileOpenForWriteOptions=C;var R;(function(z){z[z.Unknown=0]="Unknown",z[z.File=1]="File",z[z.Directory=2]="Directory",z[z.SymbolicLink=64]="SymbolicLink"})(R=e.FileType||(e.FileType={}));var y;(function(z){z[z.Readonly=1]="Readonly"})(y=e.FilePermission||(e.FilePermission={}));var f;(function(z){z[z.FileReadWrite=2]="FileReadWrite",z[z.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",z[z.FileReadStream=16]="FileReadStream",z[z.FileFolderCopy=8]="FileFolderCopy",z[z.PathCaseSensitive=1024]="PathCaseSensitive",z[z.Readonly=2048]="Readonly",z[z.Trash=4096]="Trash",z[z.FileWriteUnlock=8192]="FileWriteUnlock",z[z.FileAtomicRead=16384]="FileAtomicRead",z[z.FileClone=32768]="FileClone"})(f=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function v(z){return!!(z.capabilities&2)}e.hasReadWriteCapability=v;function h(z){return!!(z.capabilities&8)}e.hasFileFolderCopyCapability=h;function i(z){return!!(z.capabilities&32768)}e.hasFileCloneCapability=i;function o(z){return!!(z.capabilities&4)}e.hasOpenReadWriteCloseCapability=o;function u(z){return!!(z.capabilities&16)}e.hasFileReadStreamCapability=u;function b(z){return v(z)?!!(z.capabilities&16384):!1}e.hasFileAtomicReadCapability=b;var E;(function(z){z.FileExists="EntryExists",z.FileNotFound="EntryNotFound",z.FileNotADirectory="EntryNotADirectory",z.FileIsADirectory="EntryIsADirectory",z.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",z.FileTooLarge="EntryTooLarge",z.FileWriteLocked="EntryWriteLocked",z.NoPermissions="NoPermissions",z.Unavailable="Unavailable",z.Unknown="Unknown"})(E=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class g extends Error{constructor(j,G){super(j),this.code=G}}e.FileSystemProviderError=g;function w(z,j){const G=new g(z.toString(),j);return r(G,j),G}e.createFileSystemProviderError=w;function s(z){return z||w((0,A.localize)(0,null),E.Unknown)}e.ensureFileSystemProviderError=s;function r(z,j){return z.name=j?`${j} (FileSystemError)`:"FileSystemError",z}e.markAsFileSystemProviderError=r;function a(z){if(!z)return E.Unknown;if(z instanceof g)return z.code;const j=/^(.+) \(FileSystemError\)$/.exec(z.name);if(!j)return E.Unknown;switch(j[1]){case E.FileExists:return E.FileExists;case E.FileIsADirectory:return E.FileIsADirectory;case E.FileNotADirectory:return E.FileNotADirectory;case E.FileNotFound:return E.FileNotFound;case E.FileExceedsMemoryLimit:return E.FileExceedsMemoryLimit;case E.FileTooLarge:return E.FileTooLarge;case E.FileWriteLocked:return E.FileWriteLocked;case E.NoPermissions:return E.NoPermissions;case E.Unavailable:return E.Unavailable}return E.Unknown}e.toFileSystemProviderErrorCode=a;function d(z){if(z instanceof P)return z.fileOperationResult;switch(a(z)){case E.FileNotFound:return 1;case E.FileIsADirectory:return 0;case E.FileNotADirectory:return 10;case E.FileWriteLocked:return 5;case E.NoPermissions:return 6;case E.FileExists:return 4;case E.FileExceedsMemoryLimit:return 9;case E.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=d;var l;(function(z){z[z.CREATE=0]="CREATE",z[z.DELETE=1]="DELETE",z[z.MOVE=2]="MOVE",z[z.COPY=3]="COPY",z[z.WRITE=4]="WRITE"})(l=e.FileOperation||(e.FileOperation={}));class c{constructor(j,G,Z){this.resource=j,this.operation=G,this.target=Z}isOperation(j){return this.operation===j}}e.FileOperationEvent=c;var t;(function(z){z[z.UPDATED=0]="UPDATED",z[z.ADDED=1]="ADDED",z[z.DELETED=2]="DELETED"})(t=e.FileChangeType||(e.FileChangeType={}));class m{constructor(j,G){this.added=void 0,this.updated=void 0,this.deleted=void 0,this.rawChanges=[],this.rawAdded=[],this.rawUpdated=[],this.rawDeleted=[],this.rawChanges=j;const Z=new Map;for(const he of j){const oe=Z.get(he.type);switch(oe?oe.push([he.resource,he]):Z.set(he.type,[[he.resource,he]]),he.type){case 1:this.rawAdded.push(he.resource);break;case 0:this.rawUpdated.push(he.resource);break;case 2:this.rawDeleted.push(he.resource);break}}for(const[he,oe]of Z)switch(he){case 1:this.added=n.TernarySearchTree.forUris(()=>G),this.added.fill(oe);break;case 0:this.updated=n.TernarySearchTree.forUris(()=>G),this.updated.fill(oe);break;case 2:this.deleted=n.TernarySearchTree.forUris(()=>G),this.deleted.fill(oe);break}}contains(j,...G){return this.doContains(j,{includeChildren:!1},...G)}affects(j,...G){return this.doContains(j,{includeChildren:!0},...G)}doContains(j,G,...Z){if(!j)return!1;const he=Z.length>0;return!!((!he||Z.includes(1))&&(this.added?.get(j)||G.includeChildren&&this.added?.findSuperstr(j))||(!he||Z.includes(0))&&(this.updated?.get(j)||G.includeChildren&&this.updated?.findSuperstr(j))||(!he||Z.includes(2))&&(this.deleted?.findSubstr(j)||G.includeChildren&&this.deleted?.findSuperstr(j)))}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}}e.FileChangesEvent=m;function p(z,j,G){return!z||!j||z===j||j.length>z.length?!1:(j.charAt(j.length-1)!==k.sep&&(j+=k.sep),G?(0,_.startsWithIgnoreCase)(z,j):z.indexOf(j)===0)}e.isParent=p;class P extends Error{constructor(j,G,Z){super(j),this.fileOperationResult=G,this.options=Z}}e.FileOperationError=P;class L extends P{constructor(j,G,Z){super(j,2,Z),this.stat=G}}e.NotModifiedSinceFileOperationError=L;var V;(function(z){z[z.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",z[z.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",z[z.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",z[z.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",z[z.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",z[z.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",z[z.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",z[z.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",z[z.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",z[z.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",z[z.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",z[z.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(V=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var H;(function(z){z[z.FILE=0]="FILE",z[z.FOLDER=1]="FOLDER",z[z.ROOT_FOLDER=2]="ROOT_FOLDER"})(H=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function W(z){if(!(typeof z.size!="number"||typeof z.mtime!="number"))return z.mtime.toString(29)+z.size.toString(31)}e.etag=W;async function T(z,j){if(!j.hasProvider(I.URI.from({scheme:z.scheme})))return new Promise(G=>{const Z=j.onDidChangeFileSystemProviderRegistrations(he=>{he.scheme===z.scheme&&he.added&&(Z.dispose(),G())})})}e.whenProviderRegistered=T,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class F{static formatSize(j){return(0,M.isNumber)(j)||(j=0),j<F.KB?(0,A.localize)(1,null,j.toFixed(0)):j<F.MB?(0,A.localize)(2,null,(j/F.KB).toFixed(2)):j<F.GB?(0,A.localize)(3,null,(j/F.MB).toFixed(2)):j<F.TB?(0,A.localize)(4,null,(j/F.GB).toFixed(2)):(0,A.localize)(5,null,(j/F.TB).toFixed(2))}}e.ByteSize=F,F.KB=1024,F.MB=F.KB*F.KB,F.GB=F.MB*F.KB,F.TB=F.GB*F.KB;var O;(function(z){z[z.IA32=0]="IA32",z[z.OTHER=1]="OTHER"})(O=e.Arch||(e.Arch={}));function B(z){return{maxFileSize:z===0?300*F.MB:16*F.GB,maxHeapSize:z===0?700*F.MB:2*700*F.MB}}e.getPlatformLimits=B}),define(De[63],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class n{constructor(..._){this._entries=new Map;for(const[M,I]of _)this.set(M,I)}set(_,M){const I=this._entries.get(_);return this._entries.set(_,M),I}has(_){return this._entries.has(_)}get(_){return this._entries.get(_)}}e.ServiceCollection=n}),define(De[151],Ie([1,0,15,11,7,84,149,3,63,152]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const R=!1;class y extends Error{constructor(o){super("cyclic dependency between services"),this.message=o.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${o.toString()}`}}class f{constructor(o=new S.ServiceCollection,u=!1,b,E=R){this._services=o,this._strict=u,this._parent=b,this._enableTracing=E,this._activeInstantiations=new Set,this._services.set(A.IInstantiationService,this),this._globalGraph=E?b?._globalGraph??new I.Graph(g=>g):void 0}createChild(o){return new f(o,this._strict,this,this._enableTracing)}invokeFunction(o,...u){const b=h.traceInvocation(this._enableTracing,o);let E=!1;try{return o({get:w=>{if(E)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const s=this._getOrCreateServiceInstance(w,b);if(!s)throw new Error(`[invokeFunction] unknown service '${w}'`);return s}},...u)}finally{E=!0,b.stop()}}createInstance(o,...u){let b,E;return o instanceof M.SyncDescriptor?(b=h.traceCreation(this._enableTracing,o.ctor),E=this._createInstance(o.ctor,o.staticArguments.concat(u),b)):(b=h.traceCreation(this._enableTracing,o),E=this._createInstance(o,u,b)),b.stop(),E}_createInstance(o,u=[],b){const E=A._util.getServiceDependencies(o).sort((s,r)=>s.index-r.index),g=[];for(const s of E){const r=this._getOrCreateServiceInstance(s.id,b);r||this._throwIfStrict(`[createInstance] ${o.name} depends on UNKNOWN service ${s.id}.`,!1),g.push(r)}const w=E.length>0?E[0].index:u.length;if(u.length!==w){console.trace(`[createInstance] First service dependency of ${o.name} at position ${w+1} conflicts with ${u.length} static arguments`);const s=w-u.length;s>0?u=u.concat(new Array(s)):u=u.slice(0,w)}return Reflect.construct(o,u.concat(g))}_setServiceInstance(o,u){if(this._services.get(o)instanceof M.SyncDescriptor)this._services.set(o,u);else if(this._parent)this._parent._setServiceInstance(o,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(o){const u=this._services.get(o);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(o):u}_getOrCreateServiceInstance(o,u){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(o));const b=this._getServiceInstanceOrDescriptor(o);return b instanceof M.SyncDescriptor?this._safeCreateAndCacheServiceInstance(o,b,u.branch(o,!0)):(u.branch(o,!1),b)}_safeCreateAndCacheServiceInstance(o,u,b){if(this._activeInstantiations.has(o))throw new Error(`illegal state - RECURSIVELY instantiating service '${o}'`);this._activeInstantiations.add(o);try{return this._createAndCacheServiceInstance(o,u,b)}finally{this._activeInstantiations.delete(o)}}_createAndCacheServiceInstance(o,u,b){const E=new I.Graph(s=>s.id.toString());let g=0;const w=[{id:o,desc:u,_trace:b}];for(;w.length;){const s=w.pop();if(E.lookupOrInsertNode(s),g++>1e3)throw new y(E);for(const r of A._util.getServiceDependencies(s.desc.ctor)){const a=this._getServiceInstanceOrDescriptor(r.id);if(a||this._throwIfStrict(`[createInstance] ${o} depends on ${r.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(s.id),String(r.id)),a instanceof M.SyncDescriptor){const d={id:r.id,desc:a,_trace:s._trace.branch(r.id,!0)};E.insertEdge(s,d),w.push(d)}}}for(;;){const s=E.roots();if(s.length===0){if(!E.isEmpty())throw new y(E);break}for(const{data:r}of s){if(this._getServiceInstanceOrDescriptor(r.id)instanceof M.SyncDescriptor){const d=this._createServiceInstanceWithOwner(r.id,r.desc.ctor,r.desc.staticArguments,r.desc.supportsDelayedInstantiation,r._trace);this._setServiceInstance(r.id,d)}E.removeNode(r)}}return this._getServiceInstanceOrDescriptor(o)}_createServiceInstanceWithOwner(o,u,b=[],E,g){if(this._services.get(o)instanceof M.SyncDescriptor)return this._createServiceInstance(o,u,b,E,g);if(this._parent)return this._parent._createServiceInstanceWithOwner(o,u,b,E,g);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(o,u,b=[],E,g){if(E){const w=new f(void 0,this._strict,this,this._enableTracing);w._globalGraphImplicitDependency=String(o);const s=new Map,r=new n.IdleValue(()=>{const a=w._createInstance(u,b,g);for(const[d,l]of s){const c=a[d];if(typeof c=="function")for(const t of l)c.apply(a,t)}return s.clear(),a});return new Proxy(Object.create(null),{get(a,d){if(!r.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let t=s.get(d);return t||(t=new C.LinkedList,s.set(d,t)),(p,P,L)=>{const V=t.push([p,P,L]);return(0,_.toDisposable)(V)}}if(d in a)return a[d];const l=r.value;let c=l[d];return typeof c!="function"||(c=c.bind(l),a[d]=c),c},set(a,d,l){return r.value[d]=l,!0},getPrototypeOf(a){return u.prototype}})}else return this._createInstance(u,b,g)}_throwIfStrict(o,u){if(u&&console.warn(o),this._strict)throw new Error(o)}}e.InstantiationService=f;var v;(function(i){i[i.Creation=0]="Creation",i[i.Invocation=1]="Invocation",i[i.Branch=2]="Branch"})(v||(v={}));class h{static traceInvocation(o,u){return o?new h(1,u.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):h._None}static traceCreation(o,u){return o?new h(0,u.name):h._None}constructor(o,u){this.type=o,this.name=u,this._start=Date.now(),this._dep=[]}branch(o,u){const b=new h(2,o.toString());return this._dep.push([o,u,b]),b}stop(){const o=Date.now()-this._start;h._totals+=o;let u=!1;function b(g,w){const s=[],r=new Array(g+1).join("	");for(const[a,d,l]of w._dep)if(d&&l){u=!0,s.push(`${r}CREATES -> ${a}`);const c=b(g+1,l);c&&s.push(c)}else s.push(`${r}uses -> ${a}`);return s.join(`
`)}const E=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${b(1,this)}`,`DONE, took ${o.toFixed(2)}ms (grand total ${h._totals.toFixed(2)}ms)`];(o>2||u)&&h.all.add(E.join(`
`))}}e.Trace=h,h.all=new Set,h._None=new class extends h{constructor(){super(-1,null)}stop(){}branch(){return this}},h._totals=0}),define(De[12],Ie([1,0,45,5,7,28,21,2,3]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLogLevel=e.LogLevelToString=e.getLogLevel=e.NullLoggerService=e.NullLogService=e.NullLogger=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.format=e.log=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,S.createDecorator)("logService"),e.ILoggerService=(0,S.createDecorator)("loggerService");function C(){return new Date().toISOString()}var R;(function(c){c[c.Off=0]="Off",c[c.Trace=1]="Trace",c[c.Debug=2]="Debug",c[c.Info=3]="Info",c[c.Warning=4]="Warning",c[c.Error=5]="Error"})(R=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=R.Info;function y(c,t,m){switch(t){case R.Trace:c.trace(m);break;case R.Debug:c.debug(m);break;case R.Info:c.info(m);break;case R.Warning:c.warn(m);break;case R.Error:c.error(m);break;case R.Off:break;default:throw new Error(`Invalid log level ${t}`)}}e.log=y;function f(c){let t="";for(let m=0;m<c.length;m++){let p=c[m];if(typeof p=="object")try{p=JSON.stringify(p)}catch{}t+=(m>0?" ":"")+p}return t}e.format=f;class v extends _.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new k.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(t){this.level!==t&&(this.level=t,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(t){return this.level!==R.Off&&this.level<=t}}e.AbstractLogger=v;class h extends v{constructor(t){super(),this.logAlways=t}checkLogLevel(t){return this.logAlways||super.checkLogLevel(t)}trace(t,...m){this.checkLogLevel(R.Trace)&&this.log(R.Trace,f([t,...m]))}debug(t,...m){this.checkLogLevel(R.Debug)&&this.log(R.Debug,f([t,...m]))}info(t,...m){this.checkLogLevel(R.Info)&&this.log(R.Info,f([t,...m]))}warn(t,...m){this.checkLogLevel(R.Warning)&&this.log(R.Warning,f([t,...m]))}error(t,...m){if(this.checkLogLevel(R.Error))if(t instanceof Error){const p=Array.prototype.slice.call(arguments);p[0]=t.stack,this.log(R.Error,f(p))}else this.log(R.Error,f([t,...m]))}flush(){}}e.AbstractMessageLogger=h;class i extends v{constructor(t=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(t),this.useColors=!I.isWindows}trace(t,...m){this.checkLogLevel(R.Trace)&&(this.useColors?console.log(`\x1B[90m[main ${C()}]\x1B[0m`,t,...m):console.log(`[main ${C()}]`,t,...m))}debug(t,...m){this.checkLogLevel(R.Debug)&&(this.useColors?console.log(`\x1B[90m[main ${C()}]\x1B[0m`,t,...m):console.log(`[main ${C()}]`,t,...m))}info(t,...m){this.checkLogLevel(R.Info)&&(this.useColors?console.log(`\x1B[90m[main ${C()}]\x1B[0m`,t,...m):console.log(`[main ${C()}]`,t,...m))}warn(t,...m){this.checkLogLevel(R.Warning)&&(this.useColors?console.warn(`\x1B[93m[main ${C()}]\x1B[0m`,t,...m):console.warn(`[main ${C()}]`,t,...m))}error(t,...m){this.checkLogLevel(R.Error)&&(this.useColors?console.error(`\x1B[91m[main ${C()}]\x1B[0m`,t,...m):console.error(`[main ${C()}]`,t,...m))}dispose(){}flush(){}}e.ConsoleMainLogger=i;class o extends v{constructor(t=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(t)}trace(t,...m){this.checkLogLevel(R.Trace)&&console.log("%cTRACE","color: #888",t,...m)}debug(t,...m){this.checkLogLevel(R.Debug)&&console.log("%cDEBUG","background: #eee; color: #888",t,...m)}info(t,...m){this.checkLogLevel(R.Info)&&console.log("%c INFO","color: #33f",t,...m)}warn(t,...m){this.checkLogLevel(R.Warning)&&console.log("%c WARN","color: #993",t,...m)}error(t,...m){this.checkLogLevel(R.Error)&&console.log("%c  ERR","color: #f33",t,...m)}dispose(){}flush(){}}e.ConsoleLogger=o;class u extends v{constructor(t,m=e.DEFAULT_LOG_LEVEL){super(),this.adapter=t,this.setLevel(m)}trace(t,...m){this.checkLogLevel(R.Trace)&&this.adapter.log(R.Trace,[this.extractMessage(t),...m])}debug(t,...m){this.checkLogLevel(R.Debug)&&this.adapter.log(R.Debug,[this.extractMessage(t),...m])}info(t,...m){this.checkLogLevel(R.Info)&&this.adapter.log(R.Info,[this.extractMessage(t),...m])}warn(t,...m){this.checkLogLevel(R.Warning)&&this.adapter.log(R.Warning,[this.extractMessage(t),...m])}error(t,...m){this.checkLogLevel(R.Error)&&this.adapter.log(R.Error,[this.extractMessage(t),...m])}extractMessage(t){return typeof t=="string"?t:(0,n.toErrorMessage)(t,this.checkLogLevel(R.Trace))}dispose(){}flush(){}}e.AdapterLogger=u;class b extends v{constructor(t){super(),this.logServices=t,t.length&&this.setLevel(t[0].getLevel())}setLevel(t){for(const m of this.logServices)m.setLevel(t);super.setLevel(t)}trace(t,...m){for(const p of this.logServices)p.trace(t,...m)}debug(t,...m){for(const p of this.logServices)p.debug(t,...m)}info(t,...m){for(const p of this.logServices)p.info(t,...m)}warn(t,...m){for(const p of this.logServices)p.warn(t,...m)}error(t,...m){for(const p of this.logServices)p.error(t,...m)}flush(){for(const t of this.logServices)t.flush()}dispose(){for(const t of this.logServices)t.dispose()}}e.MultiplexLogService=b;class E extends _.Disposable{constructor(t){super(),this.logger=t,this._register(t)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...m){this.logger.trace(t,...m)}debug(t,...m){this.logger.debug(t,...m)}info(t,...m){this.logger.info(t,...m)}warn(t,...m){this.logger.warn(t,...m)}error(t,...m){this.logger.error(t,...m)}flush(){this.logger.flush()}}e.LogService=E;class g extends _.Disposable{constructor(t,m){super(),this.logLevel=t,this.loggerItems=new M.ResourceMap,this._register(m(p=>this.setLevel(p)))}getLoggers(){return[...this.loggerItems.values()].map(({logger:t})=>t)}getLogger(t){return this.loggerItems.get(t)?.logger}createLogger(t,m,p){let P=this.loggerItems.get(t)?.logger;return P||(p=m?.always?R.Trace:p,P=this.doCreateLogger(t,p??this.logLevel,m),this.loggerItems.set(t,{logger:P,logLevel:p})),P}setLevel(t,m){const p=A.URI.isUri(t)?t:void 0,P=p?m:t;if(p){const L=this.loggerItems.get(p);L&&L.logLevel!==P&&(L.logLevel=P,L.logger.setLevel(P))}else this.logLevel=P,this.loggerItems.forEach(({logLevel:L,logger:V})=>{L===void 0&&V.setLevel(this.logLevel)})}getLogLevel(t){return this.loggerItems.get(t)?.logLevel}dispose(){this.loggerItems.forEach(({logger:t})=>t.dispose()),this.loggerItems.clear(),super.dispose()}}e.AbstractLoggerService=g;class w{constructor(){this.onDidChangeLogLevel=new k.Emitter().event}setLevel(t){}getLevel(){return R.Info}trace(t,...m){}debug(t,...m){}info(t,...m){}warn(t,...m){}error(t,...m){}critical(t,...m){}dispose(){}flush(){}}e.NullLogger=w;class s extends w{}e.NullLogService=s;class r extends g{constructor(){super(R.Info,k.Event.None)}doCreateLogger(t,m,p){return new w}}e.NullLoggerService=r;function a(c){if(c.verbose)return R.Trace;if(typeof c.logLevel=="string"){const t=l(c.logLevel.toLowerCase());if(t!==void 0)return t}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=a;function d(c){switch(c){case R.Trace:return"trace";case R.Debug:return"debug";case R.Info:return"info";case R.Warning:return"warn";case R.Error:return"error";case R.Off:return"off"}}e.LogLevelToString=d;function l(c){switch(c){case"trace":return R.Trace;case"debug":return R.Debug;case"info":return R.Info;case"warn":return R.Warning;case"error":return R.Error;case"critical":return R.Error;case"off":return R.Off}}e.parseLogLevel=l}),define(De[86],Ie([1,0,29,130,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=e.MarkerTag=void 0;var M;(function(S){S[S.Unnecessary=1]="Unnecessary",S[S.Deprecated=2]="Deprecated"})(M=e.MarkerTag||(e.MarkerTag={}));var I;(function(S){S[S.Hint=1]="Hint",S[S.Info=2]="Info",S[S.Warning=4]="Warning",S[S.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(S){function C(h,i){return i-h}S.compare=C;const R=Object.create(null);R[S.Error]=(0,k.localize)(0,null),R[S.Warning]=(0,k.localize)(1,null),R[S.Info]=(0,k.localize)(2,null);function y(h){return R[h]||""}S.toString=y;function f(h){switch(h){case n.default.Error:return S.Error;case n.default.Warning:return S.Warning;case n.default.Info:return S.Info;case n.default.Ignore:return S.Hint}}S.fromSeverity=f;function v(h){switch(h){case S.Error:return n.default.Error;case S.Warning:return n.default.Warning;case S.Info:return n.default.Info;case S.Hint:return n.default.Ignore}}S.toSeverity=v}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var A;(function(S){const C="";function R(f){return y(f,!0)}S.makeKey=R;function y(f,v){const h=[C];return f.source?h.push(f.source.replace("\xA6","\\\xA6")):h.push(C),f.code?typeof f.code=="string"?h.push(f.code.replace("\xA6","\\\xA6")):h.push(f.code.value.replace("\xA6","\\\xA6")):h.push(C),f.severity!==void 0&&f.severity!==null?h.push(I.toString(f.severity)):h.push(C),f.message&&v?h.push(f.message.replace("\xA6","\\\xA6")):h.push(C),f.startLineNumber!==void 0&&f.startLineNumber!==null?h.push(f.startLineNumber.toString()):h.push(C),f.startColumn!==void 0&&f.startColumn!==null?h.push(f.startColumn.toString()):h.push(C),f.endLineNumber!==void 0&&f.endLineNumber!==null?h.push(f.endLineNumber.toString()):h.push(C),f.endColumn!==void 0&&f.endColumn!==null?h.push(f.endColumn.toString()):h.push(C),h.push(C),h.join("\xA6")}S.makeKeyOptionalMessage=y})(A=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,_.createDecorator)("markerService")}),define(De[153],Ie([1,0,5,29,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=k.default,e.INotificationService=(0,_.createDecorator)("notificationService");var M;(function(C){C[C.WORKSPACE=0]="WORKSPACE",C[C.PROFILE=1]="PROFILE",C[C.APPLICATION=2]="APPLICATION"})(M=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var I;(function(C){C[C.OFF=0]="OFF",C[C.SILENT=1]="SILENT",C[C.ERROR=2]="ERROR"})(I=e.NotificationsFilter||(e.NotificationsFilter={}));class A{constructor(){this.progress=new S,this.onDidClose=n.Event.None,this.onDidChangeVisibility=n.Event.None}updateSeverity(R){}updateMessage(R){}updateActions(R){}close(){}}e.NoOpNotification=A;class S{infinite(){}done(){}total(R){}worked(R){}}e.NoOpProgress=S}),define(De[87],Ie([1,0,10,2,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.withSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,_.createDecorator)("openerService");function M(C,R){return k.URI.isUri(C)?(0,n.equalsIgnoreCase)(C.scheme,R):(0,n.startsWithIgnoreCase)(C,R+":")}e.matchesScheme=M;function I(C,...R){return R.some(y=>M(C,y))}e.matchesSomeScheme=I;function A(C,R){return C.with({fragment:`${R.startLineNumber},${R.startColumn}${R.endLineNumber?`-${R.endLineNumber}${R.endColumn?`,${R.endColumn}`:""}`:""}`})}e.withSelection=A;function S(C){let R;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(C.fragment);return y&&(R={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},C=C.with({fragment:""})),{selection:R,uri:C}}e.extractSelection=S}),define(De[154],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.productSchemaId=e.IProductService=void 0,e.IProductService=(0,n.createDecorator)("productService"),e.productSchemaId="vscode://schemas/vscode-product"});var Ve=this&&this.__decorate||function(te,e,n,k){var _=arguments.length,M=_<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,n):k,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(te,e,n,k);else for(var A=te.length-1;A>=0;A--)(I=te[A])&&(M=(_<3?I(M):_>3?I(e,n,M):I(e,n))||M);return _>3&&M&&Object.defineProperty(e,n,M),M},We=this&&this.__param||function(te,e){return function(n,k){e(n,k,te)}};define(De[155],Ie([1,0,15,20,7,3]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.LongRunningOperation=e.UnmanagedProgress=e.Progress=e.emptyProgressRunner=e.ProgressLocation=e.IProgressService=void 0,e.IProgressService=(0,M.createDecorator)("progressService");var I;(function(R){R[R.Explorer=1]="Explorer",R[R.Scm=3]="Scm",R[R.Extensions=5]="Extensions",R[R.Window=10]="Window",R[R.Notification=15]="Notification",R[R.Dialog=20]="Dialog"})(I=e.ProgressLocation||(e.ProgressLocation={})),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class A{get value(){return this._value}constructor(y){this.callback=y}report(y){this._value=y,this.callback(this._value)}}e.Progress=A,A.None=Object.freeze({report(){}});let S=class extends _.Disposable{constructor(y,f){super(),this.deferred=new n.DeferredPromise,f.withProgress(y,v=>(this.reporter=v,this.lastStep&&v.report(this.lastStep),this.deferred.p)),this._register((0,_.toDisposable)(()=>this.deferred.complete()))}report(y){this.reporter?this.reporter.report(y):this.lastStep=y}};S=Ve([We(1,e.IProgressService)],S),e.UnmanagedProgress=S;class C extends _.Disposable{constructor(y){super(),this.progressIndicator=y,this.currentOperationId=0,this.currentOperationDisposables=this._register(new _.DisposableStore)}start(y){this.stop();const f=++this.currentOperationId,v=new k.CancellationTokenSource;return this.currentProgressTimeout=setTimeout(()=>{f===this.currentOperationId&&(this.currentProgressRunner=this.progressIndicator.show(!0))},y),this.currentOperationDisposables.add((0,_.toDisposable)(()=>clearTimeout(this.currentProgressTimeout))),this.currentOperationDisposables.add((0,_.toDisposable)(()=>v.cancel())),this.currentOperationDisposables.add((0,_.toDisposable)(()=>this.currentProgressRunner?this.currentProgressRunner.done():void 0)),{id:f,token:v.token,stop:()=>this.doStop(f),isCurrent:()=>this.currentOperationId===f}}stop(){this.doStop(this.currentOperationId)}doStop(y){this.currentOperationId===y&&this.currentOperationDisposables.clear()}}e.LongRunningOperation=C,e.IEditorProgressService=(0,M.createDecorator)("editorProgressService")}),define(De[30],Ie([1,0,47,9]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class _{constructor(){this.data=new Map}add(I,A){n.ok(k.isString(I)),n.ok(k.isObject(A)),n.ok(!this.data.has(I),"There is already an extension with this id"),this.data.set(I,A)}knows(I){return this.data.has(I)}as(I){return this.data.get(I)||null}}e.Registry=new _}),define(De[88],Ie([1,0,5,30]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function _(A){return A.length>0&&A.charAt(A.length-1)==="#"?A.substring(0,A.length-1):A}class M{constructor(){this._onDidChangeSchema=new n.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(S,C){this.schemasById[_(S)]=C,this._onDidChangeSchema.fire(S)}notifySchemaChanged(S){this._onDidChangeSchema.fire(S)}getSchemaContributions(){return{schemas:this.schemasById}}}const I=new M;k.Registry.add(e.Extensions.JSONContribution,I)}),define(De[89],Ie([1,0,16,5,9,126,40,88,30]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.keyFromOverrideIdentifiers=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.configurationDefaultsSchemaId=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.ConfigurationScope=e.Extensions=e.EditPresentationTypes=void 0;var C;(function(w){w.Multiline="multilineText",w.Singleline="singlelineText"})(C=e.EditPresentationTypes||(e.EditPresentationTypes={})),e.Extensions={Configuration:"base.contributions.configuration"};var R;(function(w){w[w.APPLICATION=1]="APPLICATION",w[w.MACHINE=2]="MACHINE",w[w.WINDOW=3]="WINDOW",w[w.RESOURCE=4]="RESOURCE",w[w.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",w[w.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(R=e.ConfigurationScope||(e.ConfigurationScope={})),e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage",e.configurationDefaultsSchemaId="vscode://schemas/settings/configurationDefaults";const y=S.Registry.as(A.Extensions.JSONContribution);class f{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new k.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:M.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},y.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,r=!0){this.registerConfigurations([s],r)}registerConfigurations(s,r=!0){const a=this.doRegisterConfigurations(s,r);y.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a})}deregisterConfigurations(s){const r=this.doDeregisterConfigurations(s);y.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}updateConfigurations({add:s,remove:r}){const a=[];a.push(...this.doDeregisterConfigurations(r)),a.push(...this.doRegisterConfigurations(s,!1)),y.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,n.distinct)(a)})}registerDefaultConfigurations(s){const r=[],a=[];for(const{overrides:d,source:l}of s)for(const c in d)if(r.push(c),e.OVERRIDE_PROPERTY_REGEX.test(c)){const t=this.configurationDefaultsOverrides.get(c),m=t?.valuesSources??new Map;if(l)for(const V of Object.keys(d[c]))m.set(V,l);const p={...t?.value||{},...d[c]};this.configurationDefaultsOverrides.set(c,{source:l,value:p,valuesSources:m});const P=(0,I.getLanguageTagSettingPlainKey)(c),L={type:"object",default:p,description:M.localize(1,null,P),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:p,source:_.isString(l)?void 0:l,defaultValueSource:l};a.push(...i(c)),this.configurationProperties[c]=L,this.defaultLanguageConfigurationOverridesNode.properties[c]=L}else{this.configurationDefaultsOverrides.set(c,{value:d[c],source:l});const t=this.configurationProperties[c];t&&(this.updatePropertyDefaultValue(c,t),this.updateSchema(c,t))}this.registerOverrideIdentifiers(a),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:!0})}deregisterDefaultConfigurations(s){const r=[];for(const{overrides:a,source:d}of s)for(const l in a){const c=this.configurationDefaultsOverrides.get(l),t=_.isString(d)?d:d?.id,m=_.isString(c?.source)?c?.source:c?.source?.id;if(t===m)if(r.push(l),this.configurationDefaultsOverrides.delete(l),e.OVERRIDE_PROPERTY_REGEX.test(l))delete this.configurationProperties[l],delete this.defaultLanguageConfigurationOverridesNode.properties[l];else{const p=this.configurationProperties[l];p&&(this.updatePropertyDefaultValue(l,p),this.updateSchema(l,p))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...s){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(s){for(const r of s)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,r){const a=[];return s.forEach(d=>{a.push(...this.validateAndRegisterProperties(d,r,d.extensionInfo,d.restrictedProperties)),this.configurationContributors.push(d),this.registerJSONConfiguration(d)}),a}doDeregisterConfigurations(s){const r=[],a=d=>{if(d.properties)for(const l in d.properties){r.push(l);const c=this.configurationProperties[l];c?.policy?.name&&this.policyConfigurations.delete(c.policy.name),delete this.configurationProperties[l],this.removeFromSchema(l,d.properties[l])}d.allOf?.forEach(l=>a(l))};for(const d of s){a(d);const l=this.configurationContributors.indexOf(d);l!==-1&&this.configurationContributors.splice(l,1)}return r}validateAndRegisterProperties(s,r=!0,a,d,l=3){l=_.isUndefinedOrNull(s.scope)?l:s.scope;const c=[],t=s.properties;if(t)for(const p in t){const P=t[p];if(r&&E(p,P)){delete t[p];continue}if(P.source=a,P.defaultDefaultValue=t[p].default,this.updatePropertyDefaultValue(p,P),e.OVERRIDE_PROPERTY_REGEX.test(p)?P.scope=void 0:(P.scope=_.isUndefinedOrNull(P.scope)?l:P.scope,P.restricted=_.isUndefinedOrNull(P.restricted)?!!d?.includes(p):P.restricted),t[p].hasOwnProperty("included")&&!t[p].included){this.excludedConfigurationProperties[p]=t[p],delete t[p];continue}else this.configurationProperties[p]=t[p],t[p].policy?.name&&this.policyConfigurations.set(t[p].policy.name,p);!t[p].deprecationMessage&&t[p].markdownDeprecationMessage&&(t[p].deprecationMessage=t[p].markdownDeprecationMessage),c.push(p)}const m=s.allOf;if(m)for(const p of m)c.push(...this.validateAndRegisterProperties(p,r,a,d,l));return c}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(s){const r=a=>{const d=a.properties;if(d)for(const c in d)this.updateSchema(c,d[c]);a.allOf?.forEach(r)};r(s)}updateSchema(s,r){switch(e.allSettings.properties[s]=r,r.scope){case 1:e.applicationSettings.properties[s]=r;break;case 2:e.machineSettings.properties[s]=r;break;case 6:e.machineOverridableSettings.properties[s]=r;break;case 3:e.windowSettings.properties[s]=r;break;case 4:e.resourceSettings.properties[s]=r;break;case 5:e.resourceSettings.properties[s]=r,this.resourceLanguageSettingsSchema.properties[s]=r;break}}removeFromSchema(s,r){switch(delete e.allSettings.properties[s],r.scope){case 1:delete e.applicationSettings.properties[s];break;case 2:delete e.machineSettings.properties[s];break;case 6:delete e.machineOverridableSettings.properties[s];break;case 3:delete e.windowSettings.properties[s];break;case 4:case 5:delete e.resourceSettings.properties[s],delete this.resourceLanguageSettingsSchema.properties[s];break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const r=`[${s}]`,a={type:"object",description:M.localize(2,null),errorMessage:M.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,a),e.allSettings.properties[r]=a,e.applicationSettings.properties[r]=a,e.machineSettings.properties[r]=a,e.machineOverridableSettings.properties[r]=a,e.windowSettings.properties[r]=a,e.resourceSettings.properties[r]=a}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:M.localize(4,null),errorMessage:M.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,r){const a=this.configurationDefaultsOverrides.get(s);let d=a?.value,l=a?.source;_.isUndefined(d)&&(d=r.defaultDefaultValue,l=void 0),_.isUndefined(d)&&(d=u(r.type)),r.default=d,r.defaultValueSource=l}}const v="\\[([^\\]]+)\\]",h=new RegExp(v,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${v})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(w){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(w)){let r=h.exec(w);for(;r?.length;){const a=r[1].trim();a&&s.push(a),r=h.exec(w)}}return(0,n.distinct)(s)}e.overrideIdentifiersFromKey=i;function o(w){return w.reduce((s,r)=>`${s}[${r}]`,"")}e.keyFromOverrideIdentifiers=o;function u(w){switch(Array.isArray(w)?w[0]:w){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=u;const b=new f;S.Registry.add(e.Extensions.Configuration,b);function E(w,s){return w.trim()?e.OVERRIDE_PROPERTY_REGEX.test(w)?M.localize(7,null,w):b.getConfigurationProperties()[w]!==void 0?M.localize(8,null,w):s.policy?.name&&b.getPolicyConfigurations().get(s.policy?.name)!==void 0?M.localize(9,null,w,s.policy?.name,b.getPolicyConfigurations().get(s.policy?.name)):null:M.localize(6,null)}e.validateProperty=E;function g(){const w=[],s=b.getConfigurationProperties();for(const r of Object.keys(s))w.push([r,s[r].scope]);return w.push(["launch",4]),w.push(["task",4]),w}e.getScopes=g}),define(De[156],Ie([1,0,16,5,107,7,28,23,9,2,40,89,30]),function(te,e,n,k,_,M,I,A,S,C,R,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.ConfigurationModel=void 0;class v{constructor(r={},a=[],d=[],l){this._contents=r,this._keys=a,this._overrides=d,this.raw=l,this.frozen=!1,this.overrideConfigurations=new Map}get rawConfiguration(){if(!this._rawConfiguration)if(this.raw?.length){const r=this.raw.map(a=>{if(a instanceof v)return a;const d=new h("");return d.parseRaw(a),d.configurationModel});this._rawConfiguration=r.reduce((a,d)=>d===a?d:a.merge(d),r[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}isFrozen(){return this.frozen}getValue(r){return r?(0,R.getConfigurationValue)(this.contents,r):this.contents}inspect(r,a){const d=this.rawConfiguration.getValue(r),l=a?this.rawConfiguration.getOverrideValue(r,a):void 0,c=a?this.rawConfiguration.override(a).getValue(r):d;return{value:d,override:l,merged:c}}getOverrideValue(r,a){const d=this.getContentsForOverrideIdentifer(a);return d?r?(0,R.getConfigurationValue)(d,r):d:void 0}getKeysForOverrideIdentifier(r){const a=[];for(const d of this.overrides)d.identifiers.includes(r)&&a.push(...d.keys);return n.distinct(a)}getAllOverrideIdentifiers(){const r=[];for(const a of this.overrides)r.push(...a.identifiers);return n.distinct(r)}override(r){let a=this.overrideConfigurations.get(r);return a||(a=this.createOverrideConfigurationModel(r),this.overrideConfigurations.set(r,a)),a}merge(...r){const a=A.deepClone(this.contents),d=A.deepClone(this.overrides),l=[...this.keys],c=this.raw?.length?[...this.raw]:[this];for(const t of r)if(c.push(...t.raw?.length?t.raw:[t]),!t.isEmpty()){this.mergeContents(a,t.contents);for(const m of t.overrides){const[p]=d.filter(P=>n.equals(P.identifiers,m.identifiers));p?(this.mergeContents(p.contents,m.contents),p.keys.push(...m.keys),p.keys=n.distinct(p.keys)):d.push(A.deepClone(m))}for(const m of t.keys)l.indexOf(m)===-1&&l.push(m)}return new v(a,l,d,c.every(t=>t instanceof v)?void 0:c)}freeze(){return this.frozen=!0,this}clone(){return new v(A.deepClone(this.contents),[...this.keys],A.deepClone(this.overrides))}createOverrideConfigurationModel(r){const a=this.getContentsForOverrideIdentifer(r);if(!a||typeof a!="object"||!Object.keys(a).length)return this;const d={};for(const l of n.distinct([...Object.keys(this.contents),...Object.keys(a)])){let c=this.contents[l];const t=a[l];t&&(typeof c=="object"&&typeof t=="object"?(c=A.deepClone(c),this.mergeContents(c,t)):c=t),d[l]=c}return new v(d,this.keys,this.overrides)}mergeContents(r,a){for(const d of Object.keys(a)){if(d in r&&S.isObject(r[d])&&S.isObject(a[d])){this.mergeContents(r[d],a[d]);continue}r[d]=A.deepClone(a[d])}}checkAndFreeze(r){return this.frozen&&!Object.isFrozen(r)?A.deepFreeze(r):r}getContentsForOverrideIdentifer(r){let a=null,d=null;const l=c=>{c&&(d?this.mergeContents(d,c):d=A.deepClone(c))};for(const c of this.overrides)n.equals(c.identifiers,[r])?a=c.contents:c.identifiers.includes(r)&&l(c.contents);return l(a),d}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(r,a){this.addKey(r),(0,R.addToValueTree)(this.contents,r,a,d=>{throw new Error(d)})}removeValue(r){this.removeKey(r)&&(0,R.removeFromValueTree)(this.contents,r)}addKey(r){let a=this.keys.length;for(let d=0;d<a;d++)r.indexOf(this.keys[d])===0&&(a=d);this.keys.splice(a,1,r)}removeKey(r){const a=this.keys.indexOf(r);return a!==-1?(this.keys.splice(a,1),!0):!1}}e.ConfigurationModel=v;class h{constructor(r){this._name=r,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}get configurationModel(){return this._configurationModel||new v}get restrictedConfigurations(){return this._restrictedConfigurations}get errors(){return this._parseErrors}parse(r,a){if(!S.isUndefinedOrNull(r)){const d=this.doParseContent(r);this.parseRaw(d,a)}}reparse(r){this._raw&&this.parseRaw(this._raw,r)}parseRaw(r,a){this._raw=r;const{contents:d,keys:l,overrides:c,restricted:t,hasExcludedProperties:m}=this.doParseRaw(r,a);this._configurationModel=new v(d,l,c,m?[r]:void 0),this._restrictedConfigurations=t||[]}doParseContent(r){let a={},d=null,l=[];const c=[],t=[];function m(P){Array.isArray(l)?l.push(P):d!==null&&(l[d]=P)}const p={onObjectBegin:()=>{const P={};m(P),c.push(l),l=P,d=null},onObjectProperty:P=>{d=P},onObjectEnd:()=>{l=c.pop()},onArrayBegin:()=>{const P=[];m(P),c.push(l),l=P,d=null},onArrayEnd:()=>{l=c.pop()},onLiteralValue:m,onError:(P,L,V)=>{t.push({error:P,offset:L,length:V})}};if(r)try{_.visit(r,p),a=l[0]||{}}catch(P){console.error(`Error while parsing settings file ${this._name}: ${P}`),this._parseErrors=[P]}return a}doParseRaw(r,a){const d=f.Registry.as(y.Extensions.Configuration).getConfigurationProperties(),l=this.filter(r,d,!0,a);r=l.raw;const c=(0,R.toValuesTree)(r,p=>console.error(`Conflict in settings file ${this._name}: ${p}`)),t=Object.keys(r),m=this.toOverrides(r,p=>console.error(`Conflict in settings file ${this._name}: ${p}`));return{contents:c,keys:t,overrides:m,restricted:l.restricted,hasExcludedProperties:l.hasExcludedProperties}}filter(r,a,d,l){let c=!1;if(!l?.scopes&&!l?.skipRestricted)return{raw:r,restricted:[],hasExcludedProperties:c};const t={},m=[];for(const p in r)if(y.OVERRIDE_PROPERTY_REGEX.test(p)&&d){const P=this.filter(r[p],a,!1,l);t[p]=P.raw,c=c||P.hasExcludedProperties,m.push(...P.restricted)}else{const P=a[p],L=P?typeof P.scope<"u"?P.scope:3:void 0;P?.restricted&&m.push(p),(L===void 0||l.scopes===void 0||l.scopes.includes(L))&&!(l.skipRestricted&&P?.restricted)?t[p]=r[p]:c=!0}return{raw:t,restricted:m,hasExcludedProperties:c}}toOverrides(r,a){const d=[];for(const l of Object.keys(r))if(y.OVERRIDE_PROPERTY_REGEX.test(l)){const c={};for(const t in r[l])c[t]=r[l][t];d.push({identifiers:(0,y.overrideIdentifiersFromKey)(l),keys:Object.keys(c),contents:(0,R.toValuesTree)(c,a)})}return d}}e.ConfigurationModelParser=h;class i extends M.Disposable{constructor(r,a,d,l){super(),this.userSettingsResource=r,this.scopes=a,this.fileService=l,this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new h(this.userSettingsResource.toString()),this.parseOptions={scopes:this.scopes},this._register(this.fileService.watch(d.dirname(this.userSettingsResource))),this._register(this.fileService.watch(this.userSettingsResource)),this._register(k.Event.any(k.Event.filter(this.fileService.onDidFilesChange,c=>c.contains(this.userSettingsResource)),k.Event.filter(this.fileService.onDidRunOperation,c=>(c.isOperation(0)||c.isOperation(3)||c.isOperation(1)||c.isOperation(4))&&d.isEqual(c.resource,r)))(()=>this._onDidChange.fire()))}async loadConfiguration(){try{const r=await this.fileService.readFile(this.userSettingsResource);return this.parser.parse(r.value.toString()||"{}",this.parseOptions),this.parser.configurationModel}catch{return new v}}reparse(){return this.parser.reparse(this.parseOptions),this.parser.configurationModel}getRestrictedSettings(){return this.parser.restrictedConfigurations}}e.UserSettings=i;class o{constructor(r,a,d,l,c,t,m,p,P,L,V,H,W){this.key=r,this.overrides=a,this.value=d,this.overrideIdentifiers=l,this.defaultConfiguration=c,this.policyConfiguration=t,this.applicationConfiguration=m,this.userConfiguration=p,this.localUserConfiguration=P,this.remoteUserConfiguration=L,this.workspaceConfiguration=V,this.folderConfigurationModel=H,this.memoryInspectValue=W}get defaultInspectValue(){return this._defaultInspectValue||(this._defaultInspectValue=this.defaultConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._defaultInspectValue}get defaultValue(){return this.defaultInspectValue.merged}get default(){return this.defaultInspectValue.value!==void 0||this.defaultInspectValue.override!==void 0?{value:this.defaultInspectValue.value,override:this.defaultInspectValue.override}:void 0}get policyInspectValue(){return this._policyInspectValue===void 0&&(this._policyInspectValue=this.policyConfiguration?this.policyConfiguration.inspect(this.key):null),this._policyInspectValue}get policyValue(){return this.policyInspectValue?.merged}get policy(){return this.policyInspectValue?.value!==void 0?{value:this.policyInspectValue.value}:void 0}get applicationInspectValue(){return this._applicationInspectValue===void 0&&(this._applicationInspectValue=this.applicationConfiguration?this.applicationConfiguration.inspect(this.key):null),this._applicationInspectValue}get applicationValue(){return this.applicationInspectValue?.merged}get application(){return this.applicationInspectValue?.value!==void 0||this.applicationInspectValue?.override!==void 0?{value:this.applicationInspectValue.value,override:this.applicationInspectValue.override}:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get userValue(){return this.userInspectValue.merged}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}get userLocalInspectValue(){return this._userLocalInspectValue||(this._userLocalInspectValue=this.localUserConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userLocalInspectValue}get userLocalValue(){return this.userLocalInspectValue.merged}get userLocal(){return this.userLocalInspectValue.value!==void 0||this.userLocalInspectValue.override!==void 0?{value:this.userLocalInspectValue.value,override:this.userLocalInspectValue.override}:void 0}get userRemoteInspectValue(){return this._userRemoteInspectValue||(this._userRemoteInspectValue=this.remoteUserConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userRemoteInspectValue}get userRemoteValue(){return this.userRemoteInspectValue.merged}get userRemote(){return this.userRemoteInspectValue.value!==void 0||this.userRemoteInspectValue.override!==void 0?{value:this.userRemoteInspectValue.value,override:this.userRemoteInspectValue.override}:void 0}get workspaceInspectValue(){return this._workspaceInspectValue===void 0&&(this._workspaceInspectValue=this.workspaceConfiguration?this.workspaceConfiguration.inspect(this.key,this.overrides.overrideIdentifier):null),this._workspaceInspectValue}get workspaceValue(){return this.workspaceInspectValue?.merged}get workspace(){return this.workspaceInspectValue?.value!==void 0||this.workspaceInspectValue?.override!==void 0?{value:this.workspaceInspectValue.value,override:this.workspaceInspectValue.override}:void 0}get workspaceFolderInspectValue(){return this._workspaceFolderInspectValue===void 0&&(this._workspaceFolderInspectValue=this.folderConfigurationModel?this.folderConfigurationModel.inspect(this.key,this.overrides.overrideIdentifier):null),this._workspaceFolderInspectValue}get workspaceFolderValue(){return this.workspaceFolderInspectValue?.merged}get workspaceFolder(){return this.workspaceFolderInspectValue?.value!==void 0||this.workspaceFolderInspectValue?.override!==void 0?{value:this.workspaceFolderInspectValue.value,override:this.workspaceFolderInspectValue.override}:void 0}get memoryValue(){return this.memoryInspectValue.merged}get memory(){return this.memoryInspectValue.value!==void 0||this.memoryInspectValue.override!==void 0?{value:this.memoryInspectValue.value,override:this.memoryInspectValue.override}:void 0}}class u{constructor(r,a,d,l,c=new v,t=new v,m=new I.ResourceMap,p=new v,P=new I.ResourceMap,L=!0){this._defaultConfiguration=r,this._policyConfiguration=a,this._applicationConfiguration=d,this._localUserConfiguration=l,this._remoteUserConfiguration=c,this._workspaceConfiguration=t,this._folderConfigurations=m,this._memoryConfiguration=p,this._memoryConfigurationByResource=P,this._freeze=L,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new I.ResourceMap,this._userConfiguration=null}getValue(r,a,d){return this.getConsolidatedConfigurationModel(r,a,d).getValue(r)}updateValue(r,a,d={}){let l;d.resource?(l=this._memoryConfigurationByResource.get(d.resource),l||(l=new v,this._memoryConfigurationByResource.set(d.resource,l))):l=this._memoryConfiguration,a===void 0?l.removeValue(r):l.setValue(r,a),d.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(r,a,d){const l=this.getConsolidatedConfigurationModel(r,a,d),c=n.distinct(l.overrides.map(p=>p.identifiers).flat()).filter(p=>l.getOverrideValue(r,p)!==void 0),t=this.getFolderConfigurationModelForResource(a.resource,d),m=a.resource?this._memoryConfigurationByResource.get(a.resource)||this._memoryConfiguration:this._memoryConfiguration;return new o(r,a,l.getValue(r),c.length?c:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze(),this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze(),this.userConfiguration.freeze(),this.localUserConfiguration.freeze(),this.remoteUserConfiguration.freeze(),d?this._workspaceConfiguration.freeze():void 0,t?t.freeze():void 0,m.inspect(r,a.overrideIdentifier))}keys(r){const a=this.getFolderConfigurationModelForResource(void 0,r);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:a?a.freeze().keys:[]}}updateDefaultConfiguration(r){this._defaultConfiguration=r,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updatePolicyConfiguration(r){this._policyConfiguration=r}updateApplicationConfiguration(r){this._applicationConfiguration=r,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(r){this._localUserConfiguration=r,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(r){this._remoteUserConfiguration=r,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(r){this._workspaceConfiguration=r,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(r,a){this._folderConfigurations.set(r,a),this._foldersConsolidatedConfigurations.delete(r)}deleteFolderConfiguration(r){this.folderConfigurations.delete(r),this._foldersConsolidatedConfigurations.delete(r)}compareAndUpdateDefaultConfiguration(r,a){const d=[];if(!a){const{added:l,updated:c,removed:t}=g(this._defaultConfiguration,r);a=[...l,...c,...t]}for(const l of a)for(const c of(0,y.overrideIdentifiersFromKey)(l)){const t=this._defaultConfiguration.getKeysForOverrideIdentifier(c),m=r.getKeysForOverrideIdentifier(c),p=[...m.filter(P=>t.indexOf(P)===-1),...t.filter(P=>m.indexOf(P)===-1),...t.filter(P=>!A.equals(this._defaultConfiguration.override(c).getValue(P),r.override(c).getValue(P)))];d.push([c,p])}return this.updateDefaultConfiguration(r),{keys:a,overrides:d}}compareAndUpdatePolicyConfiguration(r){const{added:a,updated:d,removed:l}=g(this._policyConfiguration,r),c=[...a,...d,...l];return c.length&&this.updatePolicyConfiguration(r),{keys:c,overrides:[]}}compareAndUpdateApplicationConfiguration(r){const{added:a,updated:d,removed:l,overrides:c}=g(this.applicationConfiguration,r),t=[...a,...d,...l];return t.length&&this.updateApplicationConfiguration(r),{keys:t,overrides:c}}compareAndUpdateLocalUserConfiguration(r){const{added:a,updated:d,removed:l,overrides:c}=g(this.localUserConfiguration,r),t=[...a,...d,...l];return t.length&&this.updateLocalUserConfiguration(r),{keys:t,overrides:c}}compareAndUpdateRemoteUserConfiguration(r){const{added:a,updated:d,removed:l,overrides:c}=g(this.remoteUserConfiguration,r),t=[...a,...d,...l];return t.length&&this.updateRemoteUserConfiguration(r),{keys:t,overrides:c}}compareAndUpdateWorkspaceConfiguration(r){const{added:a,updated:d,removed:l,overrides:c}=g(this.workspaceConfiguration,r),t=[...a,...d,...l];return t.length&&this.updateWorkspaceConfiguration(r),{keys:t,overrides:c}}compareAndUpdateFolderConfiguration(r,a){const d=this.folderConfigurations.get(r),{added:l,updated:c,removed:t,overrides:m}=g(d,a),p=[...l,...c,...t];return(p.length||!d)&&this.updateFolderConfiguration(r,a),{keys:p,overrides:m}}compareAndDeleteFolderConfiguration(r){const a=this.folderConfigurations.get(r);if(!a)throw new Error("Unknown folder");this.deleteFolderConfiguration(r);const{added:d,updated:l,removed:c,overrides:t}=g(a,void 0);return{keys:[...d,...l,...c],overrides:t}}get defaults(){return this._defaultConfiguration}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidatedConfigurationModel(r,a,d){let l=this.getConsolidatedConfigurationModelForResource(a,d);return a.overrideIdentifier&&(l=l.override(a.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(r)!==void 0&&(l=l.merge(this._policyConfiguration)),l}getConsolidatedConfigurationModelForResource({resource:r},a){let d=this.getWorkspaceConsolidatedConfiguration();if(a&&r){const l=a.getFolder(r);l&&(d=this.getFolderConsolidatedConfiguration(l.uri)||d);const c=this._memoryConfigurationByResource.get(r);c&&(d=d.merge(c))}return d}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(r){let a=this._foldersConsolidatedConfigurations.get(r);if(!a){const d=this.getWorkspaceConsolidatedConfiguration(),l=this._folderConfigurations.get(r);l?(a=d.merge(l),this._freeze&&(a=a.freeze()),this._foldersConsolidatedConfigurations.set(r,a)):a=d}return a}getFolderConfigurationModelForResource(r,a){if(a&&r){const d=a.getFolder(r);if(d)return this._folderConfigurations.get(d.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((r,a)=>{const{contents:d,overrides:l,keys:c}=this._folderConfigurations.get(a);return r.push([a,{contents:d,overrides:l,keys:c}]),r},[])}}allKeys(){const r=new Set;return this._defaultConfiguration.freeze().keys.forEach(a=>r.add(a)),this.userConfiguration.freeze().keys.forEach(a=>r.add(a)),this._workspaceConfiguration.freeze().keys.forEach(a=>r.add(a)),this._folderConfigurations.forEach(a=>a.freeze().keys.forEach(d=>r.add(d))),[...r.values()]}allOverrideIdentifiers(){const r=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach(a=>r.add(a)),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach(a=>r.add(a)),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach(a=>r.add(a)),this._folderConfigurations.forEach(a=>a.freeze().getAllOverrideIdentifiers().forEach(d=>r.add(d))),[...r.values()]}getAllKeysForOverrideIdentifier(r){const a=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(r).forEach(d=>a.add(d)),this.userConfiguration.getKeysForOverrideIdentifier(r).forEach(d=>a.add(d)),this._workspaceConfiguration.getKeysForOverrideIdentifier(r).forEach(d=>a.add(d)),this._folderConfigurations.forEach(d=>d.getKeysForOverrideIdentifier(r).forEach(l=>a.add(l))),[...a.values()]}static parse(r){const a=this.parseConfigurationModel(r.defaults),d=this.parseConfigurationModel(r.policy),l=this.parseConfigurationModel(r.application),c=this.parseConfigurationModel(r.user),t=this.parseConfigurationModel(r.workspace),m=r.folders.reduce((p,P)=>(p.set(C.URI.revive(P[0]),this.parseConfigurationModel(P[1])),p),new I.ResourceMap);return new u(a,d,l,c,new v,t,m,new v,new I.ResourceMap,!1)}static parseConfigurationModel(r){return new v(r.contents,r.keys,r.overrides).freeze()}}e.Configuration=u;function b(...s){if(s.length===0)return{keys:[],overrides:[]};if(s.length===1)return s[0];const r=new Set,a=new Map;for(const l of s)l.keys.forEach(c=>r.add(c)),l.overrides.forEach(([c,t])=>{const m=(0,I.getOrSet)(a,c,new Set);t.forEach(p=>m.add(p))});const d=[];return a.forEach((l,c)=>d.push([c,[...l.values()]])),{keys:[...r.values()],overrides:d}}e.mergeChanges=b;class E{constructor(r,a,d,l){this.change=r,this.previous=a,this.currentConfiguraiton=d,this.currentWorkspace=l,this._previousConfiguration=void 0;const c=new Set;r.keys.forEach(m=>c.add(m)),r.overrides.forEach(([,m])=>m.forEach(p=>c.add(p))),this.affectedKeys=[...c.values()];const t=new v;this.affectedKeys.forEach(m=>t.setValue(m,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(r,a){if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,r)){if(a){const d=this.previousConfiguration?this.previousConfiguration.getValue(r,a,this.previous?.workspace):void 0,l=this.currentConfiguraiton.getValue(r,a,this.currentWorkspace);return!A.equals(d,l)}return!0}return!1}doesAffectedKeysTreeContains(r,a){let d=(0,R.toValuesTree)({[a]:!0},()=>{}),l;for(;typeof d=="object"&&(l=Object.keys(d)[0]);){if(r=r[l],!r)return!1;d=d[l]}return!0}}e.ConfigurationChangeEvent=E;function g(s,r){const{added:a,removed:d,updated:l}=w(r?.rawConfiguration,s?.rawConfiguration),c=[],t=s?.getAllOverrideIdentifiers()||[],m=r?.getAllOverrideIdentifiers()||[];if(r){const p=m.filter(P=>!t.includes(P));for(const P of p)c.push([P,r.getKeysForOverrideIdentifier(P)])}if(s){const p=t.filter(P=>!m.includes(P));for(const P of p)c.push([P,s.getKeysForOverrideIdentifier(P)])}if(r&&s){for(const p of t)if(m.includes(p)){const P=w({contents:s.getOverrideValue(void 0,p)||{},keys:s.getKeysForOverrideIdentifier(p)},{contents:r.getOverrideValue(void 0,p)||{},keys:r.getKeysForOverrideIdentifier(p)});c.push([p,[...P.added,...P.removed,...P.updated]])}}return{added:a,removed:d,updated:l,overrides:c}}function w(s,r){const a=s?r?s.keys.filter(c=>r.keys.indexOf(c)===-1):[...s.keys]:[],d=r?s?r.keys.filter(c=>s.keys.indexOf(c)===-1):[...r.keys]:[],l=[];if(s&&r){for(const c of r.keys)if(s.keys.indexOf(c)!==-1){const t=(0,R.getConfigurationValue)(r.contents,c),m=(0,R.getConfigurationValue)(s.contents,c);A.equals(t,m)||l.push(c)}}return{added:a,removed:d,updated:l}}}),define(De[90],Ie([1,0,11,3]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAuthorityResolverError=e.RemoteAuthorityResolverErrorCode=e.IRemoteAuthorityResolverService=void 0,e.IRemoteAuthorityResolverService=(0,k.createDecorator)("remoteAuthorityResolverService");var _;(function(I){I.Unknown="Unknown",I.NotAvailable="NotAvailable",I.TemporarilyNotAvailable="TemporarilyNotAvailable",I.NoResolverFound="NoResolverFound"})(_=e.RemoteAuthorityResolverErrorCode||(e.RemoteAuthorityResolverErrorCode={}));class M extends n.ErrorNoTelemetry{static isNotAvailable(A){return A instanceof M&&A._code===_.NotAvailable}static isTemporarilyNotAvailable(A){return A instanceof M&&A._code===_.TemporarilyNotAvailable}static isNoResolverFound(A){return A instanceof M&&A._code===_.NoResolverFound}static isHandled(A){return A instanceof M&&A.isHandled}constructor(A,S=_.Unknown,C){super(A),this._message=A,this._code=S,this._detail=C,this.isHandled=S===_.NotAvailable&&C===!0,Object.setPrototypeOf(this,M.prototype)}}e.RemoteAuthorityResolverError=M}),define(De[48],Ie([1,0,13]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAuthorityWithOptionalPort=e.parseAuthorityWithPort=e.getRemoteServerRootPath=e.getRemoteName=e.getRemoteAuthority=void 0;function k(C){return C.scheme===n.Schemas.vscodeRemote?C.authority:void 0}e.getRemoteAuthority=k;function _(C){if(!C)return;const R=C.indexOf("+");return R<0?C:C.substr(0,R)}e.getRemoteName=_;function M(C){return`/${C.quality??"oss"}-${C.commit??"dev"}`}e.getRemoteServerRootPath=M;function I(C){const{host:R,port:y}=S(C);if(typeof y>"u")throw new Error("Remote authority doesn't contain a port!");return{host:R,port:y}}e.parseAuthorityWithPort=I;function A(C,R){let{host:y,port:f}=S(C);return typeof f>"u"&&(f=R),{host:y,port:f}}e.parseAuthorityWithOptionalPort=A;function S(C){const R=C.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(R)return{host:R[1],port:parseInt(R[2],10)};const y=C.match(/^(\[[0-9a-z:]+\])$/);if(y)return{host:y[1],port:void 0};const f=C.match(/(.*):(\d+)$/);return f?{host:f[1],port:parseInt(f[2],10)}:{host:C,port:void 0}}}),define(De[26],Ie([1,0,10,3,48]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isResolverExtension=e.isAuthenticationProviderExtension=e.isLanguagePackExtension=e.isApplicationScopedExtension=e.ExtensionIdentifier=e.TargetPlatform=e.ExtensionType=e.EXTENSION_CATEGORIES=e.isIExtensionIdentifier=e.getWorkspaceSupportTypeMessage=e.ALL_EXTENSION_KINDS=e.UNDEFINED_PUBLISHER=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin",e.UNDEFINED_PUBLISHER="undefined_publisher",e.ALL_EXTENSION_KINDS=["ui","workspace","web"];function M(h){if(typeof h=="object"&&h!==null&&h.supported!==!0)return h.description}e.getWorkspaceSupportTypeMessage=M;function I(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(!h.uuid||typeof h.uuid=="string")}e.isIExtensionIdentifier=I,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var A;(function(h){h[h.System=0]="System",h[h.User=1]="User"})(A=e.ExtensionType||(e.ExtensionType={}));var S;(function(h){h.WIN32_X64="win32-x64",h.WIN32_IA32="win32-ia32",h.WIN32_ARM64="win32-arm64",h.LINUX_X64="linux-x64",h.LINUX_ARM64="linux-arm64",h.LINUX_ARMHF="linux-armhf",h.ALPINE_X64="alpine-x64",h.ALPINE_ARM64="alpine-arm64",h.DARWIN_X64="darwin-x64",h.DARWIN_ARM64="darwin-arm64",h.WEB="web",h.UNIVERSAL="universal",h.UNKNOWN="unknown",h.UNDEFINED="undefined"})(S=e.TargetPlatform||(e.TargetPlatform={}));class C{constructor(i){this.value=i,this._lower=i.toLowerCase()}static equals(i,o){if(typeof i>"u"||i===null)return typeof o>"u"||o===null;if(typeof o>"u"||o===null)return!1;if(typeof i=="string"||typeof o=="string"){const u=typeof i=="string"?i:i.value,b=typeof o=="string"?o:o.value;return n.equalsIgnoreCase(u,b)}return i._lower===o._lower}static toKey(i){return typeof i=="string"?i.toLowerCase():i._lower}}e.ExtensionIdentifier=C;function R(h){return y(h)}e.isApplicationScopedExtension=R;function y(h){return h.contributes&&h.contributes.localizations?h.contributes.localizations.length>0:!1}e.isLanguagePackExtension=y;function f(h){return h.contributes&&h.contributes.authentication?h.contributes.authentication.length>0:!1}e.isAuthenticationProviderExtension=f;function v(h,i){if(i){const o=`onResolveRemoteAuthority:${(0,_.getRemoteName)(i)}`;return h.activationEvents?.indexOf(o)!==-1}return!1}e.isResolverExtension=v,e.IBuiltinExtensionsScannerService=(0,k.createDecorator)("IBuiltinExtensionsScannerService")}),define(De[157],Ie([1,0,10,85,26,21,2,11,49]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeTargetPlatform=e.isAlpineLinux=e.getExtensionDependencies=e.BetterMergeId=e.getGalleryExtensionTelemetryData=e.getLocalExtensionTelemetryData=e.groupByExtension=e.getGalleryExtensionId=e.adoptToGalleryExtensionId=e.getExtensionId=e.getIdAndVersion=e.ExtensionKey=e.areSameExtensions=void 0;function C(r,a){return r.uuid&&a.uuid?r.uuid===a.uuid:r.id===a.id?!0:(0,n.compareIgnoreCase)(r.id,a.id)===0}e.areSameExtensions=C;const R=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class y{static create(a){const d=a.manifest?a.manifest.version:a.version,l=a.manifest?a.targetPlatform:a.properties.targetPlatform;return new y(a.identifier,d,l)}static parse(a){const d=R.exec(a);return d&&d[1]&&d[2]?new y({id:d[1]},d[2],d[4]||void 0):null}constructor(a,d,l="undefined"){this.version=d,this.targetPlatform=l,this.id=a.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(a){return a instanceof y?C(this,a)&&this.version===a.version&&this.targetPlatform===a.targetPlatform:!1}}e.ExtensionKey=y;const f=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function v(r){const a=f.exec(r);return a&&a[1]?[i(a[1]),a[2]]:[i(r),void 0]}e.getIdAndVersion=v;function h(r,a){return`${r}.${a}`}e.getExtensionId=h;function i(r){return r.toLocaleLowerCase()}e.adoptToGalleryExtensionId=i;function o(r,a){return i(h(r,a))}e.getGalleryExtensionId=o;function u(r,a){const d=[],l=c=>{for(const t of d)if(t.some(m=>C(a(m),a(c))))return t;return null};for(const c of r){const t=l(c);t?t.push(c):d.push([c])}return d}e.groupByExtension=u;function b(r){return{id:r.identifier.id,name:r.manifest.name,galleryId:null,publisherId:r.publisherId,publisherName:r.manifest.publisher,publisherDisplayName:r.publisherDisplayName,dependencies:r.manifest.extensionDependencies&&r.manifest.extensionDependencies.length>0}}e.getLocalExtensionTelemetryData=b;function E(r){return{id:r.identifier.id,name:r.name,galleryId:r.identifier.uuid,publisherId:r.publisherId,publisherName:r.publisher,publisherDisplayName:r.publisherDisplayName,isPreReleaseVersion:r.properties.isPreReleaseVersion,dependencies:!!(r.properties.dependencies&&r.properties.dependencies.length>0),isSigned:r.isSigned,...r.telemetryData}}e.getGalleryExtensionTelemetryData=E,e.BetterMergeId=new _.ExtensionIdentifier("pprice.better-merge");function g(r,a){const d=[],l=a.manifest.extensionDependencies?.slice(0)??[];for(;l.length;){const c=l.shift();if(c&&d.every(t=>!C(t.identifier,{id:c}))){const t=r.filter(m=>C(m.identifier,{id:c}));t.length===1&&(d.push(t[0]),l.push(...t[0].manifest.extensionDependencies?.slice(0)??[]))}}return d}e.getExtensionDependencies=g;async function w(r,a){if(!M.isLinux)return!1;let d;try{d=(await r.readFile(I.URI.file("/etc/os-release"))).value.toString()}catch{try{d=(await r.readFile(I.URI.file("/usr/lib/os-release"))).value.toString()}catch(c){a.debug("Error while getting the os-release file.",(0,A.getErrorMessage)(c))}}return!!d&&(d.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}e.isAlpineLinux=w;async function s(r,a){const d=await w(r,a),l=(0,k.getTargetPlatform)(d?"alpine":M.platform,S.arch);return a.debug("ComputeTargetPlatform:",l),l}e.computeTargetPlatform=s}),define(De[158],Ie([1,0,21,49,2,34]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMicrosoftInternalDomain=e.resolveCommonProperties=void 0;function I(C){if(n.platform===2&&/^penguin(\.|$)/i.test(C))return"chromebook"}async function A(C,R,y,f,v,h,i,o,u,b){const E=Object.create(null);E["common.machineId"]=i,E.sessionID=(0,M.generateUuid)()+Date.now(),E.commitHash=v,E.version=h,E["common.platformVersion"]=(R||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),E["common.platform"]=(0,n.PlatformToString)(n.platform),E["common.nodePlatform"]=k.platform,E["common.nodeArch"]=f,E["common.product"]=b||"desktop",o&&(E["common.msftInternal"]=o);let g=0;const w=Date.now();Object.defineProperties(E,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-w,enumerable:!0},"common.sequence":{get:()=>g++,enumerable:!0}}),n.isLinuxSnap&&(E["common.snap"]="true");const s=I(y);s&&(E["common.platformDetail"]=s);try{const r=await C.readFile(_.URI.file(u));E["common.source"]=r.value.toString().slice(0,30)}catch{}return E}e.resolveCommonProperties=A;function S(C){const R=k.env.USERDNSDOMAIN;if(!R)return!1;const y=R.toLowerCase();return C.some(f=>y===f)}e.verifyMicrosoftInternalDomain=S}),define(De[159],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.TELEMETRY_OLD_SETTING_ID=e.TELEMETRY_SETTING_ID=e.TELEMETRY_SECTION_ID=e.machineIdKey=e.lastSessionDateStorageKey=e.firstSessionDateStorageKey=e.currentSessionDateStorageKey=e.ICustomEndpointTelemetryService=e.ITelemetryService=void 0,e.ITelemetryService=(0,n.createDecorator)("telemetryService"),e.ICustomEndpointTelemetryService=(0,n.createDecorator)("customEndpointTelemetryService"),e.currentSessionDateStorageKey="telemetry.currentSessionDate",e.firstSessionDateStorageKey="telemetry.firstSessionDate",e.lastSessionDateStorageKey="telemetry.lastSessionDate",e.machineIdKey="telemetry.machineId",e.TELEMETRY_SECTION_ID="telemetry",e.TELEMETRY_SETTING_ID="telemetry.telemetryLevel",e.TELEMETRY_OLD_SETTING_ID="telemetry.enableTelemetry";var k;(function(M){M[M.NONE=0]="NONE",M[M.CRASH=1]="CRASH",M[M.ERROR=2]="ERROR",M[M.USAGE=3]="USAGE"})(k=e.TelemetryLevel||(e.TelemetryLevel={}));var _;(function(M){M.OFF="off",M.CRASH="crash",M.ERROR="error",M.ON="all"})(_=e.TelemetryConfiguration||(e.TelemetryConfiguration={}))}),define(De[91],Ie([1,0,23,9,40,48,158,159]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanData=e.getPiiPathsFromEnvironment=e.isInternalTelemetry=e.cleanRemoteAuthority=e.validateTelemetryData=e.getTelemetryLevel=e.isLoggingOnly=e.supportsTelemetry=e.configurationTelemetry=e.NullAppender=e.NullEndpointTelemetryService=e.NullTelemetryService=e.NullTelemetryServiceShape=e.TrustedTelemetryValue=void 0;class S{constructor(c){this.value=c}}e.TrustedTelemetryValue=S;class C{constructor(){this.sendErrorTelemetry=!1,this.telemetryLevel=0}publicLog(c,t){return Promise.resolve(void 0)}publicLog2(c,t){return this.publicLog(c,t)}publicLogError(c,t){return Promise.resolve(void 0)}publicLogError2(c,t){return this.publicLogError(c,t)}setExperimentProperty(){}getTelemetryInfo(){return Promise.resolve({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId",firstSessionDate:"someValue.firstSessionDate"})}}e.NullTelemetryServiceShape=C,e.NullTelemetryService=new C;class R{async publicLog(c,t,m){}async publicLogError(c,t,m){}}e.NullEndpointTelemetryService=R,e.NullAppender={log:()=>null,flush:()=>Promise.resolve(null)};function y(l,c){return c.onDidChangeConfiguration(t=>{t.source!==7&&l.publicLog2("updateConfiguration",{configurationSource:(0,_.ConfigurationTargetToString)(t.source),configurationKeys:E(t.sourceConfig)})})}e.configurationTelemetry=y;function f(l,c){return!c.isBuilt&&!c.disableTelemetry?!0:!(c.disableTelemetry||!l.enableTelemetry||c.extensionTestsLocationURI)}e.supportsTelemetry=f;function v(l,c){return!(c.isBuilt||c.disableTelemetry||l.enableTelemetry&&l.aiConfig?.ariaKey)}e.isLoggingOnly=v;function h(l){const c=l.getValue(A.TELEMETRY_SETTING_ID),t=l.getValue("telemetry.enableCrashReporter");if(l.getValue(A.TELEMETRY_OLD_SETTING_ID)===!1||t===!1)return 0;switch(c??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.getTelemetryLevel=h;function i(l){const c={},t={},m={};b(l,m);for(let p in m){p=p.length>150?p.substr(p.length-149):p;const P=m[p];typeof P=="number"?t[p]=P:typeof P=="boolean"?t[p]=P?1:0:typeof P=="string"?(P.length>8192&&console.warn(`Telemetry property: ${p} has been trimmed to 8192, the original length is ${P.length}`),c[p]=P.substring(0,8191)):typeof P<"u"&&P!==null&&(c[p]=P)}return{properties:c,measurements:t}}e.validateTelemetryData=i;const o=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces"]);function u(l){if(!l)return"none";const c=(0,M.getRemoteName)(l);return o.has(c)?c:"other"}e.cleanRemoteAuthority=u;function b(l,c,t=0,m){if(!!l)for(const p of Object.getOwnPropertyNames(l)){const P=l[p],L=m?m+p:p;Array.isArray(P)?c[L]=(0,n.safeStringify)(P):P instanceof Date?c[L]=P.toISOString():(0,k.isObject)(P)?t<2?b(P,c,t+1,L+"."):c[L]=(0,n.safeStringify)(P):c[L]=P}}function E(l){if(!l)return[];const c=[];return g(c,"",l),c}function g(l,c,t){t&&typeof t=="object"&&!Array.isArray(t)?Object.keys(t).forEach(m=>g(l,c?`${c}.${m}`:m,t[m])):l.push(c)}function w(l,c){const t=l.msftInternalDomains||[],m=c.getValue("telemetry.internalTesting");return(0,I.verifyMicrosoftInternalDomain)(t)||m}e.isInternalTelemetry=w;function s(l){return[l.appRoot,l.extensionsPath,l.userHome.fsPath,l.tmpDir.fsPath,l.userDataPath]}e.getPiiPathsFromEnvironment=s;function r(l,c){if(!l||!l.includes("/")&&!l.includes("\\"))return l;let t=l;const m=[];for(const V of c)for(;;){const H=V.exec(l);if(!H)break;m.push([H.index,V.lastIndex])}const p=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,P=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let L=0;for(t="";;){const V=P.exec(l);if(!V)break;const H=m.some(([W,T])=>V.index<T&&W<P.lastIndex);!p.test(V[0])&&!H&&(t+=l.substring(L,V.index)+"<REDACTED: user-file-path>",L=P.lastIndex)}return L<l.length&&(t+=l.substr(L)),t}function a(l){if(!l)return l;const c=l.toLowerCase(),t=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const m of t)if(m.regex.test(c))return`<REDACTED: ${m.label}>`;return l}function d(l,c){return(0,n.cloneAndChange)(l,t=>{if(t instanceof S)return t.value;if(typeof t=="string"){let m=t.replaceAll("%20"," ");m=r(m,c);for(const p of c)m=m.replace(p,"");return m=a(m),m}})}e.cleanData=d}),define(De[160],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalDataBufferer=void 0;class n{constructor(_){this._callback=_,this._terminalBufferMap=new Map}dispose(){for(const _ of this._terminalBufferMap.values())_.dispose()}startBuffering(_,M,I=5){const A=M(S=>{const C=typeof S=="string"?S:S.data;let R=this._terminalBufferMap.get(_);if(R){R.data.push(C);return}const y=setTimeout(()=>this.flushBuffer(_),I);R={data:[C],timeoutId:y,dispose:()=>{clearTimeout(y),this.flushBuffer(_),A.dispose()}},this._terminalBufferMap.set(_,R)});return A}stopBuffering(_){this._terminalBufferMap.get(_)?.dispose()}flushBuffer(_){const M=this._terminalBufferMap.get(_);M&&(this._terminalBufferMap.delete(_),this._callback(_,M.data.join("")))}}e.TerminalDataBufferer=n}),define(De[161],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var n;(function(M){M.DARK="dark",M.LIGHT="light",M.HIGH_CONTRAST_DARK="hcDark",M.HIGH_CONTRAST_LIGHT="hcLight"})(n=e.ColorScheme||(e.ColorScheme={}));function k(M){return M===n.HIGH_CONTRAST_DARK||M===n.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function _(M){return M===n.DARK||M===n.HIGH_CONTRAST_DARK}e.isDark=_}),define(De[64],Ie([1,0,119,5,7,3,30,161]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.FolderThemeIcon=e.FileThemeIcon=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,M.createDecorator)("themeService");var S;(function(o){function u(b){return b&&typeof b=="object"&&typeof b.id=="string"}o.isThemeColor=u})(S=e.ThemeColor||(e.ThemeColor={}));function C(o){return{id:o}}e.themeColorFromId=C;var R;(function(o){function u(d){return d&&typeof d=="object"&&typeof d.id=="string"&&(typeof d.color>"u"||S.isThemeColor(d.color))}o.isThemeIcon=u;const b=new RegExp(`^\\$\\((${n.CSSIcon.iconNameExpression}(?:${n.CSSIcon.iconModifierExpression})?)\\)$`);function E(d){const l=b.exec(d);if(!l)return;const[,c]=l;return{id:c}}o.fromString=E;function g(d){return{id:d}}o.fromId=g;function w(d,l){let c=d.id;const t=c.lastIndexOf("~");return t!==-1&&(c=c.substring(0,t)),l&&(c=`${c}~${l}`),{id:c}}o.modify=w;function s(d){const l=d.id.lastIndexOf("~");if(l!==-1)return d.id.substring(l+1)}o.getModifier=s;function r(d,l){return d.id===l.id&&d.color?.id===l.color?.id}o.isEqual=r;function a(d,l){return{id:d.id,color:l?C(l):void 0}}o.asThemeIcon=a,o.asClassNameArray=n.CSSIcon.asClassNameArray,o.asClassName=n.CSSIcon.asClassName,o.asCSSSelector=n.CSSIcon.asCSSSelector})(R=e.ThemeIcon||(e.ThemeIcon={})),e.FileThemeIcon=n.Codicon.file,e.FolderThemeIcon=n.Codicon.folder;function y(o){switch(o){case A.ColorScheme.DARK:return"vs-dark";case A.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case A.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=y,e.Extensions={ThemingContribution:"base.contributions.theming"};class f{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new k.Emitter}onColorThemeChange(u){return this.themingParticipants.push(u),this.onThemingParticipantAddedEmitter.fire(u),(0,_.toDisposable)(()=>{const b=this.themingParticipants.indexOf(u);this.themingParticipants.splice(b,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}const v=new f;I.Registry.add(e.Extensions.ThemingContribution,v);function h(o){return v.onColorThemeChange(o)}e.registerThemingParticipant=h;class i extends _.Disposable{constructor(u){super(),this.themeService=u,this.theme=u.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(b=>this.onThemeChange(b)))}onThemeChange(u){this.theme=u,this.updateStyles()}updateStyles(){}getColor(u,b){let E=this.theme.getColor(u);return E&&b&&(E=b(E,this.theme)),E?E.toString():null}}e.Themable=i}),define(De[162],Ie([1,0,5,40,3,12]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTunnelService=e.DisposableTunnel=e.isPortPrivileged=e.isAllInterfaces=e.ALL_INTERFACES_ADDRESSES=e.isLocalhost=e.LOCALHOST_ADDRESSES=e.extractLocalHostUriMetaDataForPortMapping=e.ProvidedOnAutoForward=e.TunnelPrivacyId=e.TunnelProtocol=e.ISharedTunnelsService=e.ITunnelService=void 0,e.ITunnelService=(0,_.createDecorator)("tunnelService"),e.ISharedTunnelsService=(0,_.createDecorator)("sharedTunnelsService");var I;(function(i){i.Http="http",i.Https="https"})(I=e.TunnelProtocol||(e.TunnelProtocol={}));var A;(function(i){i.ConstantPrivate="constantPrivate",i.Private="private",i.Public="public"})(A=e.TunnelPrivacyId||(e.TunnelPrivacyId={}));var S;(function(i){i[i.Notify=1]="Notify",i[i.OpenBrowser=2]="OpenBrowser",i[i.OpenPreview=3]="OpenPreview",i[i.Silent=4]="Silent",i[i.Ignore=5]="Ignore",i[i.OpenBrowserOnce=6]="OpenBrowserOnce"})(S=e.ProvidedOnAutoForward||(e.ProvidedOnAutoForward={}));function C(i){if(i.scheme!=="http"&&i.scheme!=="https")return;const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0):(\d+)$/.exec(i.authority);if(!!o)return{address:o[1],port:+o[2]}}e.extractLocalHostUriMetaDataForPortMapping=C,e.LOCALHOST_ADDRESSES=["localhost","127.0.0.1","0:0:0:0:0:0:0:1","::1"];function R(i){return e.LOCALHOST_ADDRESSES.indexOf(i)>=0}e.isLocalhost=R,e.ALL_INTERFACES_ADDRESSES=["0.0.0.0","0:0:0:0:0:0:0:0","::"];function y(i){return e.ALL_INTERFACES_ADDRESSES.indexOf(i)>=0}e.isAllInterfaces=y;function f(i,o,u,b){if(u===1)return!1;if(u===2&&y(o)){const E=/(\d+)\.(\d+)\.(\d+)/g.exec(b);if(E?.length===4&&parseInt(E[1])>=18)return!1}return i<1024}e.isPortPrivileged=f;class v{constructor(o,u,b){this.remoteAddress=o,this.localAddress=u,this._dispose=b,this._onDispose=new n.Emitter,this.onDidDispose=this._onDispose.event}dispose(){return this._onDispose.fire(),this._dispose()}}e.DisposableTunnel=v;let h=class{constructor(o,u){this.logService=o,this.configurationService=u,this._onTunnelOpened=new n.Emitter,this.onTunnelOpened=this._onTunnelOpened.event,this._onTunnelClosed=new n.Emitter,this.onTunnelClosed=this._onTunnelClosed.event,this._onAddedTunnelProvider=new n.Emitter,this.onAddedTunnelProvider=this._onAddedTunnelProvider.event,this._tunnels=new Map,this._canElevate=!1,this._privacyOptions=[],this._factoryInProgress=new Set}get hasTunnelProvider(){return!!this._tunnelProvider}get defaultTunnelHost(){const o=this.configurationService.getValue("remote.localPortHost");return!o||o==="localhost"?"127.0.0.1":"0.0.0.0"}setTunnelProvider(o){return this._tunnelProvider=o,o?(this._onAddedTunnelProvider.fire(),{dispose:()=>{this._tunnelProvider=void 0,this._canElevate=!1,this._privacyOptions=[]}}):(this._canElevate=!1,this._privacyOptions=[],this._onAddedTunnelProvider.fire(),{dispose:()=>{}})}setTunnelFeatures(o){this._canElevate=o.elevation,this._privacyOptions=o.privacyOptions}get canElevate(){return this._canElevate}get canChangePrivacy(){return this._privacyOptions.length>0}get privacyOptions(){return this._privacyOptions}get tunnels(){return this.getTunnels()}async getTunnels(){const o=[],u=Array.from(this._tunnels.values());for(const b of u){const E=Array.from(b.values());for(const g of E){const w=await g.value;w&&o.push(w)}}return o}async dispose(){for(const o of this._tunnels.values()){for(const{value:u}of o.values())await u.then(b=>b?.dispose());o.clear()}this._tunnels.clear()}setEnvironmentTunnel(o,u,b,E,g){this.addTunnelToMap(o,u,Promise.resolve({tunnelRemoteHost:o,tunnelRemotePort:u,localAddress:b,privacy:E,protocol:g,dispose:()=>Promise.resolve()}))}async getExistingTunnel(o,u){(y(o)||R(o))&&(o=e.LOCALHOST_ADDRESSES[0]);const b=this.getTunnelFromMap(o,u);if(b)return++b.refcount,b.value}openTunnel(o,u,b,E,g=!1,w,s){if(this.logService.trace(`ForwardedPorts: (TunnelService) openTunnel request for ${u}:${b} on local port ${E}.`),!o)return;if(u||(u="localhost"),this._tunnelProvider&&this._factoryInProgress.has(b)){this.logService.debug("ForwardedPorts: (TunnelService) Another call to create a tunnel with the same address has occurred before the last one completed. This call will be ignored.");return}const r=this.retainOrCreateTunnel(o,u,b,E,g,w,s);return r?r.then(a=>{if(!a){this.logService.trace("ForwardedPorts: (TunnelService) New tunnel is undefined."),this.removeEmptyTunnelFromMap(u,b);return}this.logService.trace("ForwardedPorts: (TunnelService) New tunnel established.");const d=this.makeTunnel(a);return(a.tunnelRemoteHost!==u||a.tunnelRemotePort!==b)&&this.logService.warn("ForwardedPorts: (TunnelService) Created tunnel does not match requirements of requested tunnel. Host or port mismatch."),this._onTunnelOpened.fire(d),d}):(this.logService.trace("ForwardedPorts: (TunnelService) Tunnel was not created."),r)}makeTunnel(o){return{tunnelRemotePort:o.tunnelRemotePort,tunnelRemoteHost:o.tunnelRemoteHost,tunnelLocalPort:o.tunnelLocalPort,localAddress:o.localAddress,privacy:o.privacy,protocol:o.protocol,dispose:async()=>{this.logService.trace(`ForwardedPorts: (TunnelService) dispose request for ${o.tunnelRemoteHost}:${o.tunnelRemotePort} `);const u=this._tunnels.get(o.tunnelRemoteHost);if(u){const b=u.get(o.tunnelRemotePort);b&&(b.refcount--,await this.tryDisposeTunnel(o.tunnelRemoteHost,o.tunnelRemotePort,b))}}}}async tryDisposeTunnel(o,u,b){if(b.refcount<=0){this.logService.trace(`ForwardedPorts: (TunnelService) Tunnel is being disposed ${o}:${u}.`);const E=b.value.then(async g=>{g&&(await g.dispose(!0),this._onTunnelClosed.fire({host:g.tunnelRemoteHost,port:g.tunnelRemotePort}))});return this._tunnels.has(o)&&this._tunnels.get(o).delete(u),E}}async closeTunnel(o,u){this.logService.trace(`ForwardedPorts: (TunnelService) close request for ${o}:${u} `);const b=this._tunnels.get(o);if(b&&b.has(u)){const E=b.get(u);E.refcount=0,await this.tryDisposeTunnel(o,u,E)}}addTunnelToMap(o,u,b){this._tunnels.has(o)||this._tunnels.set(o,new Map),this._tunnels.get(o).set(u,{refcount:1,value:b})}async removeEmptyTunnelFromMap(o,u){const b=this._tunnels.get(o);b&&(await b.get(u)||b.delete(u),b.size===0&&this._tunnels.delete(o))}getTunnelFromMap(o,u){const b=[o];R(o)?(b.push(...e.LOCALHOST_ADDRESSES),b.push(...e.ALL_INTERFACES_ADDRESSES)):y(o)&&b.push(...e.ALL_INTERFACES_ADDRESSES);const E=b.map(g=>this._tunnels.get(g));for(const g of E){const w=g?.get(u);if(w)return w}}canTunnel(o){return!!C(o)}createWithProvider(o,u,b,E,g,w,s){this.logService.trace(`ForwardedPorts: (TunnelService) Creating tunnel with provider ${u}:${b} on local port ${E}.`);const r=b;this._factoryInProgress.add(r);const a=E===void 0?b:E,d={elevationRequired:g?this.isPortPrivileged(a):!1},l={remoteAddress:{host:u,port:b},localAddressPort:E,privacy:w,public:w?w!==A.Private:void 0,protocol:s},c=o.forwardPort(l,d);return c?(this.addTunnelToMap(u,b,c),c.finally(()=>{this.logService.trace("ForwardedPorts: (TunnelService) Tunnel created by provider."),this._factoryInProgress.delete(r)})):this._factoryInProgress.delete(r),c}};h=Ve([We(0,M.ILogService),We(1,k.IConfigurationService)],h),e.AbstractTunnelService=h}),define(De[163],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditSessionIdentityMatch=e.IEditSessionIdentityService=void 0,e.IEditSessionIdentityService=(0,n.createDecorator)("editSessionIdentityService");var k;(function(_){_[_.Complete=100]="Complete",_[_.Partial=50]="Partial",_[_.None=0]="None"})(k=e.EditSessionIdentityMatch||(e.EditSessionIdentityMatch={}))}),define(De[164],Ie([1,0,13]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVirtualWorkspace=e.getVirtualWorkspaceAuthority=e.getVirtualWorkspaceScheme=e.getVirtualWorkspaceLocation=e.isVirtualResource=void 0;function k(S){return S.scheme!==n.Schemas.file&&S.scheme!==n.Schemas.vscodeRemote}e.isVirtualResource=k;function _(S){if(S.folders.length)return S.folders.every(C=>k(C.uri))?S.folders[0].uri:void 0;if(S.configuration&&k(S.configuration))return S.configuration}e.getVirtualWorkspaceLocation=_;function M(S){return _(S)?.scheme}e.getVirtualWorkspaceScheme=M;function I(S){return _(S)?.authority}e.getVirtualWorkspaceAuthority=I;function A(S){return _(S)!==void 0}e.isVirtualWorkspace=A}),define(De[50],Ie([1,0,131,19,46,22,2,3,13]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasWorkspaceFileExtension=e.isSavedWorkspace=e.isTemporaryWorkspace=e.isUntitledWorkspace=e.UNTITLED_WORKSPACE_NAME=e.WORKSPACE_FILTER=e.WORKSPACE_SUFFIX=e.WORKSPACE_EXTENSION=e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.WorkbenchState=e.reviveIdentifier=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,A.createDecorator)("contextService");function C(r){const a=r;return typeof a?.id=="string"&&I.URI.isUri(a.uri)}e.isSingleFolderWorkspaceIdentifier=C,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"};function R(r,a){if(typeof r=="string"||typeof r>"u")return typeof r=="string"?{id:(0,k.basename)(r)}:a?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:void 0;const d=r;if(d.configuration)return{id:d.id,configPath:d.configuration};if(d.folders.length===1)return{id:d.id,uri:d.folders[0].uri}}e.toWorkspaceIdentifier=R;function y(r){const a=r;return typeof a?.id=="string"&&I.URI.isUri(a.configPath)}e.isWorkspaceIdentifier=y;function f(r){const a=r;if(a?.uri)return{id:a.id,uri:I.URI.revive(a.uri)};const d=r;if(d?.configPath)return{id:d.id,configPath:I.URI.revive(d.configPath)};if(r?.id)return{id:r.id}}e.reviveIdentifier=f;var v;(function(r){r[r.EMPTY=1]="EMPTY",r[r.FOLDER=2]="FOLDER",r[r.WORKSPACE=3]="WORKSPACE"})(v=e.WorkbenchState||(e.WorkbenchState={}));function h(r){const a=r;return!!(a&&typeof a=="object"&&typeof a.id=="string"&&Array.isArray(a.folders))}e.isWorkspace=h;function i(r){const a=r;return!!(a&&typeof a=="object"&&I.URI.isUri(a.uri)&&typeof a.name=="string"&&typeof a.toResource=="function")}e.isWorkspaceFolder=i;class o{constructor(a,d,l,c,t){this._id=a,this._transient=l,this._configuration=c,this._ignorePathCasing=t,this._foldersMap=_.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=d}update(a){this._id=a.id,this._configuration=a.configuration,this._transient=a.transient,this._ignorePathCasing=a._ignorePathCasing,this.folders=a.folders}get folders(){return this._folders}set folders(a){this._folders=a,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(a){this._configuration=a}getFolder(a){return a&&this._foldersMap.findSubstr(a)||null}updateFoldersMap(){this._foldersMap=_.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const a of this.folders)this._foldersMap.set(a.uri,a)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=o;class u{constructor(a,d){this.raw=d,this.uri=a.uri,this.index=a.index,this.name=a.name}toResource(a){return(0,M.joinPath)(this.uri,a)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u;function b(r){return new u({uri:r,index:0,name:(0,M.basenameOrAuthority)(r)},{uri:r.toString()})}e.toWorkspaceFolder=b,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_SUFFIX=`.${e.WORKSPACE_EXTENSION}`,e.WORKSPACE_FILTER=[{name:(0,n.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.UNTITLED_WORKSPACE_NAME="workspace.json";function E(r,a){return M.extUriBiasedIgnorePathCase.isEqualOrParent(r,a.untitledWorkspacesHome)}e.isUntitledWorkspace=E;function g(r){let a;return I.URI.isUri(r)?a=r:a=r.configuration,a?.scheme===S.Schemas.tmp}e.isTemporaryWorkspace=g;function w(r,a){return!E(r,a)&&!g(r)}e.isSavedWorkspace=w;function s(r){return(typeof r=="string"?(0,k.extname)(r):(0,M.extname)(r))===e.WORKSPACE_SUFFIX}e.hasWorkspaceFileExtension=s}),define(De[51],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;class n{constructor(_){this.id=_,this._data=new Map,this._idPool=1}add(_){const M=this._idPool++;return this._data.set(M,_),this.logDebugInfo(),M}get(_,M){return this._data.has(_)?this._data.get(_)[M]:void 0}delete(_){this._data.delete(_),this.logDebugInfo()}logDebugInfo(){!n.enableDebugLogging||console.log(`${this.id} cache size - ${this._data.size}`)}}e.Cache=n,n.enableDebugLogging=!1}),define(De[37],Ie([1,0,13,22,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostFileSystemInfo=e.ExtHostFileSystemInfo=void 0;class M{constructor(){this._systemSchemes=new Set(Object.keys(n.Schemas)),this._providerInfo=new Map,this.extUri=new k.ExtUri(A=>{const S=this._providerInfo.get(A.scheme);return!(S===void 0||S&1024)})}$acceptProviderInfos(A,S){S===null?this._providerInfo.delete(A.scheme):this._providerInfo.set(A.scheme,S)}isFreeScheme(A){return!this._providerInfo.has(A)&&!this._systemSchemes.has(A)}getCapabilities(A){return this._providerInfo.get(A)}}e.ExtHostFileSystemInfo=M,e.IExtHostFileSystemInfo=(0,_.createDecorator)("IExtHostFileSystemInfo")}),define(De[27],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostInitDataService=void 0,e.IExtHostInitDataService=(0,n.createDecorator)("IExtHostInitDataService")}),define(De[165],Ie([1,0,15]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionGlobalMemento=e.ExtensionMemento=void 0;class k{constructor(I,A,S){this._deferredPromises=new Map,this._id=I,this._shared=A,this._storage=S,this._init=this._storage.initializeExtensionStorage(this._shared,this._id,Object.create(null)).then(C=>(this._value=C,this)),this._storageListener=this._storage.onDidChangeStorage(C=>{C.shared===this._shared&&C.key===this._id&&(this._value=C.value)}),this._scheduler=new n.RunOnceScheduler(()=>{const C=this._deferredPromises;this._deferredPromises=new Map,(async()=>{try{await this._storage.setValue(this._shared,this._id,this._value);for(const R of C.values())R.complete()}catch(R){for(const y of C.values())y.error(R)}})()},0)}keys(){return Object.entries(this._value??{}).filter(([,I])=>I!==void 0).map(([I])=>I)}get whenReady(){return this._init}get(I,A){let S=this._value[I];return typeof S>"u"&&(S=A),S}update(I,A){this._value[I]=A;const S=this._deferredPromises.get(I);if(S!==void 0)return S.p;const C=new n.DeferredPromise;return this._deferredPromises.set(I,C),this._scheduler.isScheduled()||this._scheduler.schedule(),C.p}dispose(){this._storageListener.dispose()}}e.ExtensionMemento=k;class _ extends k{setKeysForSync(I){this._storage.registerExtensionStorageKeysToSync({id:this._id,version:this._extension.version},I)}constructor(I,A){super(I.identifier.value,!0,A),this._extension=I}}e.ExtensionGlobalMemento=_}),define(De[166],Ie([1,0,5,2]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookDocuments=void 0;class _{constructor(I){this._notebooksAndEditors=I,this._onDidSaveNotebookDocument=new n.Emitter,this.onDidSaveNotebookDocument=this._onDidSaveNotebookDocument.event,this._onDidChangeNotebookDocument=new n.Emitter,this.onDidChangeNotebookDocument=this._onDidChangeNotebookDocument.event}$acceptModelChanged(I,A,S,C){const y=this._notebooksAndEditors.getNotebookDocument(k.URI.revive(I)).acceptModelChanged(A.value,S,C);this._onDidChangeNotebookDocument.fire(y)}$acceptDirtyStateChanged(I,A){this._notebooksAndEditors.getNotebookDocument(k.URI.revive(I)).acceptDirty(A)}$acceptModelSaved(I){const A=this._notebooksAndEditors.getNotebookDocument(k.URI.revive(I));this._onDidSaveNotebookDocument.fire(A.apiNotebook)}}e.ExtHostNotebookDocuments=_}),define(De[14],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostRpcService=e.IExtHostRpcService=void 0,e.IExtHostRpcService=(0,n.createDecorator)("IExtHostRpcService");class k{constructor(M){this.getProxy=M.getProxy.bind(M),this.set=M.set.bind(M),this.dispose=M.dispose.bind(M),this.assertRegistered=M.assertRegistered.bind(M),this.drain=M.drain.bind(M)}}e.ExtHostRpcService=k});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[167],Ie([1,0,26,5]),function(te,e,n,k){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionSecrets=void 0;class M{constructor(A,S){_.set(this,void 0),this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._id=n.ExtensionIdentifier.toKey(A.identifier),Ye(this,_,S,"f"),Ae(this,_,"f").onDidChangePassword(C=>{C.extensionId===this._id&&this._onDidChange.fire({key:C.key})})}get(A){return Ae(this,_,"f").get(this._id,A)}store(A,S){return Ae(this,_,"f").store(this._id,A,S)}delete(A){return Ae(this,_,"f").delete(this._id,A)}}e.ExtensionSecrets=M,_=new WeakMap}),define(De[65],Ie([1,0,3,162,5,14]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTunnelService=e.IExtHostTunnelService=e.TunnelDtoConverter=void 0;var I;(function(S){function C(y){return{remoteAddress:y.remoteAddress,localAddress:y.localAddress,public:!!y.public,privacy:y.privacy??(y.public?k.TunnelPrivacyId.Public:k.TunnelPrivacyId.Private),protocol:y.protocol}}S.fromApiTunnel=C;function R(y){return{remoteAddress:{host:y.tunnelRemoteHost,port:y.tunnelRemotePort},localAddress:y.localAddress,public:y.privacy!==k.TunnelPrivacyId.ConstantPrivate&&y.privacy!==k.TunnelPrivacyId.ConstantPrivate,privacy:y.privacy,protocol:y.protocol}}S.fromServiceTunnel=R})(I=e.TunnelDtoConverter||(e.TunnelDtoConverter={})),e.IExtHostTunnelService=(0,n.createDecorator)("IExtHostTunnelService");let A=class{constructor(C){this.onDidChangeTunnels=new _.Emitter().event}async $applyCandidateFilter(C){return C}async openTunnel(C,R){}async getTunnels(){return[]}async setTunnelFactory(C){return{dispose:()=>{}}}registerPortsAttributesProvider(C,R){return{dispose:()=>{}}}async $providePortAttributes(C,R,y,f,v){return[]}async $forwardPort(C,R){}async $closeTunnel(C){}async $onDidTunnelsChange(){}async $registerCandidateFinder(){}};A=Ve([We(0,M.IExtHostRpcService)],A),e.ExtHostTunnelService=A}),define(De[52],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URITransformerService=e.IURITransformerService=void 0,e.IURITransformerService=(0,n.createDecorator)("IURITransformerService");class k{constructor(M){M?(this.transformIncoming=M.transformIncoming.bind(M),this.transformOutgoing=M.transformOutgoing.bind(M),this.transformOutgoingURI=M.transformOutgoingURI.bind(M),this.transformOutgoingScheme=M.transformOutgoingScheme.bind(M)):(this.transformIncoming=I=>I,this.transformOutgoing=I=>I,this.transformOutgoingURI=I=>I,this.transformOutgoingScheme=I=>I)}}e.URITransformerService=k}),define(De[168],Ie([1,0,24]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeWebviewMessage=e.serializeWebviewMessage=void 0;class k{constructor(){this.buffers=[]}add(S){let C=this.buffers.indexOf(S);return C<0&&(C=this.buffers.length,this.buffers.push(S)),C}}function _(A,S){if(S.serializeBuffersForPostMessage){const C=new k,R=(v,h)=>{if(h instanceof ArrayBuffer){const i=C.add(h);return{$$vscode_array_buffer_reference$$:!0,index:i}}else if(ArrayBuffer.isView(h)){const i=M(h);if(i){const o=C.add(h.buffer);return{$$vscode_array_buffer_reference$$:!0,index:o,view:{type:i,byteLength:h.byteLength,byteOffset:h.byteOffset}}}}return h},y=JSON.stringify(A,R),f=C.buffers.map(v=>{const h=new Uint8Array(v);return n.VSBuffer.wrap(h)});return{message:y,buffers:f}}else return{message:JSON.stringify(A),buffers:[]}}e.serializeWebviewMessage=_;function M(A){switch(A.constructor.name){case"Int8Array":return 1;case"Uint8Array":return 2;case"Uint8ClampedArray":return 3;case"Int16Array":return 4;case"Uint16Array":return 5;case"Int32Array":return 6;case"Uint32Array":return 7;case"Float32Array":return 8;case"Float64Array":return 9;case"BigInt64Array":return 10;case"BigUint64Array":return 11}}function I(A,S){const C=S.map(f=>{const v=new ArrayBuffer(f.byteLength);return new Uint8Array(v).set(f.buffer),v}),R=S.length?(f,v)=>{if(v&&typeof v=="object"&&v.$$vscode_array_buffer_reference$$){const h=v,{index:i}=h,o=C[i];if(h.view)switch(h.view.type){case 1:return new Int8Array(o,h.view.byteOffset,h.view.byteLength/Int8Array.BYTES_PER_ELEMENT);case 2:return new Uint8Array(o,h.view.byteOffset,h.view.byteLength/Uint8Array.BYTES_PER_ELEMENT);case 3:return new Uint8ClampedArray(o,h.view.byteOffset,h.view.byteLength/Uint8ClampedArray.BYTES_PER_ELEMENT);case 4:return new Int16Array(o,h.view.byteOffset,h.view.byteLength/Int16Array.BYTES_PER_ELEMENT);case 5:return new Uint16Array(o,h.view.byteOffset,h.view.byteLength/Uint16Array.BYTES_PER_ELEMENT);case 6:return new Int32Array(o,h.view.byteOffset,h.view.byteLength/Int32Array.BYTES_PER_ELEMENT);case 7:return new Uint32Array(o,h.view.byteOffset,h.view.byteLength/Uint32Array.BYTES_PER_ELEMENT);case 8:return new Float32Array(o,h.view.byteOffset,h.view.byteLength/Float32Array.BYTES_PER_ELEMENT);case 9:return new Float64Array(o,h.view.byteOffset,h.view.byteLength/Float64Array.BYTES_PER_ELEMENT);case 10:return new BigInt64Array(o,h.view.byteOffset,h.view.byteLength/BigInt64Array.BYTES_PER_ELEMENT);case 11:return new BigUint64Array(o,h.view.byteOffset,h.view.byteLength/BigUint64Array.BYTES_PER_ELEMENT);default:throw new Error("Unknown array buffer view type")}return o}return v}:void 0;return{message:JSON.parse(A,R),arrayBuffers:C}}e.deserializeWebviewMessage=I}),define(De[92],Ie([1,0,139,9,2,7,3,30,36,13]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTextEditorViewState=e.EditorsOrder=e.pathsToEditors=e.CloseDirection=e.EditorResourceAccessor=e.SideBySideEditor=e.GroupModelChangeKind=e.EditorCloseContext=e.isEditorIdentifier=e.isEditorInputWithOptionsAndGroup=e.isEditorInputWithOptions=e.isDiffEditorInput=e.isSideBySideEditorInput=e.isEditorInput=e.AbstractEditorInput=e.EditorInputCapabilities=e.SaveSourceRegistry=e.SaveReason=e.Verbosity=e.isResourceMergeEditorInput=e.isUntitledWithAssociatedResource=e.isUntitledResourceEditorInput=e.isResourceSideBySideEditorInput=e.isResourceDiffEditorInput=e.isResourceEditorInput=e.findViewStateForEditor=e.isEditorPaneWithSelection=e.EditorPaneSelectionCompareResult=e.EditorPaneSelectionChangeReason=e.BINARY_DIFF_EDITOR_ID=e.TEXT_DIFF_EDITOR_ID=e.SIDE_BY_SIDE_EDITOR_ID=e.DEFAULT_EDITOR_ASSOCIATION=e.EditorExtensions=void 0,e.EditorExtensions={EditorPane:"workbench.contributions.editors",EditorFactory:"workbench.contributions.editor.inputFactories"},e.DEFAULT_EDITOR_ASSOCIATION={id:"default",displayName:(0,n.localize)(0,null),providerDisplayName:(0,n.localize)(1,null)},e.SIDE_BY_SIDE_EDITOR_ID="workbench.editor.sidebysideEditor",e.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",e.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var R;(function(G){G[G.PROGRAMMATIC=1]="PROGRAMMATIC",G[G.USER=2]="USER",G[G.EDIT=3]="EDIT",G[G.NAVIGATION=4]="NAVIGATION",G[G.JUMP=5]="JUMP"})(R=e.EditorPaneSelectionChangeReason||(e.EditorPaneSelectionChangeReason={}));var y;(function(G){G[G.IDENTICAL=1]="IDENTICAL",G[G.SIMILAR=2]="SIMILAR",G[G.DIFFERENT=3]="DIFFERENT"})(y=e.EditorPaneSelectionCompareResult||(e.EditorPaneSelectionCompareResult={}));function f(G){const Z=G;return!!Z&&typeof Z.getSelection=="function"&&!!Z.onDidChangeSelection}e.isEditorPaneWithSelection=f;function v(G,Z,he){for(const oe of he.visibleEditorPanes)if(oe.group.id===Z&&G.matches(oe.input))return oe.getViewState()}e.findViewStateForEditor=v;function h(G){if(l(G))return!1;const Z=G;return _.URI.isUri(Z?.resource)}e.isResourceEditorInput=h;function i(G){if(l(G))return!1;const Z=G;return Z?.original!==void 0&&Z.modified!==void 0}e.isResourceDiffEditorInput=i;function o(G){if(l(G)||i(G))return!1;const Z=G;return Z?.primary!==void 0&&Z.secondary!==void 0}e.isResourceSideBySideEditorInput=o;function u(G){if(l(G))return!1;const Z=G;return Z?Z.resource===void 0||Z.resource.scheme===C.Schemas.untitled||Z.forceUntitled===!0:!1}e.isUntitledResourceEditorInput=u;const b=/Untitled-\d+/;function E(G){return G.scheme===C.Schemas.untitled&&G.path.length>1&&!b.test(G.path)}e.isUntitledWithAssociatedResource=E;function g(G){if(l(G))return!1;const Z=G;return _.URI.isUri(Z?.base?.resource)&&_.URI.isUri(Z?.input1?.resource)&&_.URI.isUri(Z?.input2?.resource)&&_.URI.isUri(Z?.result?.resource)}e.isResourceMergeEditorInput=g;var w;(function(G){G[G.SHORT=0]="SHORT",G[G.MEDIUM=1]="MEDIUM",G[G.LONG=2]="LONG"})(w=e.Verbosity||(e.Verbosity={}));var s;(function(G){G[G.EXPLICIT=1]="EXPLICIT",G[G.AUTO=2]="AUTO",G[G.FOCUS_CHANGE=3]="FOCUS_CHANGE",G[G.WINDOW_CHANGE=4]="WINDOW_CHANGE"})(s=e.SaveReason||(e.SaveReason={}));class r{constructor(){this.mapIdToSaveSource=new Map}registerSource(Z,he){let oe=this.mapIdToSaveSource.get(Z);return oe||(oe={source:Z,label:he},this.mapIdToSaveSource.set(Z,oe)),oe.source}getSourceLabel(Z){return this.mapIdToSaveSource.get(Z)?.label??Z}}e.SaveSourceRegistry=new r;var a;(function(G){G[G.None=0]="None",G[G.Readonly=2]="Readonly",G[G.Untitled=4]="Untitled",G[G.Singleton=8]="Singleton",G[G.RequiresTrust=16]="RequiresTrust",G[G.CanSplitInGroup=32]="CanSplitInGroup",G[G.ForceDescription=64]="ForceDescription",G[G.CanDropIntoEditor=128]="CanDropIntoEditor",G[G.MultipleEditors=256]="MultipleEditors"})(a=e.EditorInputCapabilities||(e.EditorInputCapabilities={}));class d extends M.Disposable{}e.AbstractEditorInput=d;function l(G){return G instanceof d}e.isEditorInput=l;function c(G){const Z=G;return _.URI.isUri(Z?.preferredResource)}function t(G){const Z=G;return l(Z?.primary)&&l(Z?.secondary)}e.isSideBySideEditorInput=t;function m(G){const Z=G;return l(Z?.modified)&&l(Z?.original)}e.isDiffEditorInput=m;function p(G){return l(G?.editor)}e.isEditorInputWithOptions=p;function P(G){const Z=G;return p(G)&&Z?.group!==void 0}e.isEditorInputWithOptionsAndGroup=P;function L(G){const Z=G;return typeof Z?.groupId=="number"&&l(Z.editor)}e.isEditorIdentifier=L;var V;(function(G){G[G.UNKNOWN=0]="UNKNOWN",G[G.REPLACE=1]="REPLACE",G[G.MOVE=2]="MOVE",G[G.UNPIN=3]="UNPIN"})(V=e.EditorCloseContext||(e.EditorCloseContext={}));var H;(function(G){G[G.GROUP_ACTIVE=0]="GROUP_ACTIVE",G[G.GROUP_INDEX=1]="GROUP_INDEX",G[G.GROUP_LOCKED=2]="GROUP_LOCKED",G[G.EDITOR_OPEN=3]="EDITOR_OPEN",G[G.EDITOR_CLOSE=4]="EDITOR_CLOSE",G[G.EDITOR_MOVE=5]="EDITOR_MOVE",G[G.EDITOR_ACTIVE=6]="EDITOR_ACTIVE",G[G.EDITOR_LABEL=7]="EDITOR_LABEL",G[G.EDITOR_CAPABILITIES=8]="EDITOR_CAPABILITIES",G[G.EDITOR_PIN=9]="EDITOR_PIN",G[G.EDITOR_STICKY=10]="EDITOR_STICKY",G[G.EDITOR_DIRTY=11]="EDITOR_DIRTY",G[G.EDITOR_WILL_DISPOSE=12]="EDITOR_WILL_DISPOSE"})(H=e.GroupModelChangeKind||(e.GroupModelChangeKind={}));var W;(function(G){G[G.PRIMARY=1]="PRIMARY",G[G.SECONDARY=2]="SECONDARY",G[G.BOTH=3]="BOTH",G[G.ANY=4]="ANY"})(W=e.SideBySideEditor||(e.SideBySideEditor={}));class T{getOriginalUri(Z,he){if(!Z)return;if(g(Z))return e.EditorResourceAccessor.getOriginalUri(Z.result,he);if(he?.supportSideBySide){const{primary:ce,secondary:le}=this.getSideEditors(Z);if(ce&&le){if(he?.supportSideBySide===W.BOTH)return{primary:this.getOriginalUri(ce,{filterByScheme:he.filterByScheme}),secondary:this.getOriginalUri(le,{filterByScheme:he.filterByScheme})};if(he?.supportSideBySide===W.ANY)return this.getOriginalUri(ce,{filterByScheme:he.filterByScheme})??this.getOriginalUri(le,{filterByScheme:he.filterByScheme});Z=he.supportSideBySide===W.PRIMARY?ce:le}}if(i(Z)||o(Z)||g(Z))return;const oe=c(Z)?Z.preferredResource:Z.resource;return!oe||!he||!he.filterByScheme?oe:this.filterUri(oe,he.filterByScheme)}getSideEditors(Z){return t(Z)||o(Z)?{primary:Z.primary,secondary:Z.secondary}:m(Z)||i(Z)?{primary:Z.modified,secondary:Z.original}:{primary:void 0,secondary:void 0}}getCanonicalUri(Z,he){if(!Z)return;if(g(Z))return e.EditorResourceAccessor.getCanonicalUri(Z.result,he);if(he?.supportSideBySide){const{primary:ce,secondary:le}=this.getSideEditors(Z);if(ce&&le){if(he?.supportSideBySide===W.BOTH)return{primary:this.getCanonicalUri(ce,{filterByScheme:he.filterByScheme}),secondary:this.getCanonicalUri(le,{filterByScheme:he.filterByScheme})};if(he?.supportSideBySide===W.ANY)return this.getCanonicalUri(ce,{filterByScheme:he.filterByScheme})??this.getCanonicalUri(le,{filterByScheme:he.filterByScheme});Z=he.supportSideBySide===W.PRIMARY?ce:le}}if(i(Z)||o(Z)||g(Z))return;const oe=Z.resource;return!oe||!he||!he.filterByScheme?oe:this.filterUri(oe,he.filterByScheme)}filterUri(Z,he){if(Array.isArray(he)){if(he.some(oe=>Z.scheme===oe))return Z}else if(he===Z.scheme)return Z}}e.EditorResourceAccessor=new T;var F;(function(G){G[G.LEFT=0]="LEFT",G[G.RIGHT=1]="RIGHT"})(F=e.CloseDirection||(e.CloseDirection={}));class O{constructor(){this.editorSerializerConstructors=new Map,this.editorSerializerInstances=new Map}start(Z){const he=this.instantiationService=Z.get(I.IInstantiationService);for(const[oe,ce]of this.editorSerializerConstructors)this.createEditorSerializer(oe,ce,he);this.editorSerializerConstructors.clear()}createEditorSerializer(Z,he,oe){const ce=oe.createInstance(he);this.editorSerializerInstances.set(Z,ce)}registerFileEditorFactory(Z){if(this.fileEditorFactory)throw new Error("Can only register one file editor factory.");this.fileEditorFactory=Z}getFileEditorFactory(){return(0,k.assertIsDefined)(this.fileEditorFactory)}registerEditorSerializer(Z,he){if(this.editorSerializerConstructors.has(Z)||this.editorSerializerInstances.has(Z))throw new Error(`A editor serializer with type ID '${Z}' was already registered.`);return this.instantiationService?this.createEditorSerializer(Z,he,this.instantiationService):this.editorSerializerConstructors.set(Z,he),(0,M.toDisposable)(()=>{this.editorSerializerConstructors.delete(Z),this.editorSerializerInstances.delete(Z)})}getEditorSerializer(Z){return this.editorSerializerInstances.get(typeof Z=="string"?Z:Z.typeId)}}A.Registry.add(e.EditorExtensions.EditorFactory,new O);async function B(G,Z,he){return!G||!G.length?[]:await Promise.all(G.map(async oe=>{const ce=_.URI.revive(oe.fileUri);if(!ce){he.info("Cannot resolve the path because it is not valid.",oe);return}if(!await Z.canHandleResource(ce)){he.info("Cannot resolve the path because it cannot be handled",oe);return}let fe=oe.exists,Y=oe.type;if(typeof fe!="boolean"||typeof Y!="number")try{Y=(await Z.stat(ce)).isDirectory?S.FileType.Directory:S.FileType.Unknown,fe=!0}catch(we){he.error(we),fe=!1}if(!fe&&oe.openOnlyIfExists){he.info("Cannot resolve the path because it does not exist",oe);return}if(Y===S.FileType.Directory){he.info("Cannot resolve the path because it is a directory",oe);return}const ge={...oe.options,pinned:!0};return fe?{resource:ce,options:ge}:{resource:ce,options:ge,forceUntitled:!0}}))}e.pathsToEditors=B;var z;(function(G){G[G.MOST_RECENTLY_ACTIVE=0]="MOST_RECENTLY_ACTIVE",G[G.SEQUENTIAL=1]="SEQUENTIAL"})(z=e.EditorsOrder||(e.EditorsOrder={}));function j(G){const Z=G;if(!Z)return!1;const he=Z;if(he.modified)return j(he.modified);const oe=Z;return!!(oe.contributionsState&&oe.viewState&&Array.isArray(oe.cursorState))}e.isTextEditorViewState=j}),define(De[169],Ie([1,0,5,15,140]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDebugAdapter=void 0;class M{constructor(){this.pendingRequests=new Map,this.queue=[],this._onError=new n.Emitter,this._onExit=new n.Emitter,this.sequence=1}get onError(){return this._onError.event}get onExit(){return this._onExit.event}onMessage(A){this.messageCallback&&this._onError.fire(new Error("attempt to set more than one 'Message' callback")),this.messageCallback=A}onEvent(A){this.eventCallback&&this._onError.fire(new Error("attempt to set more than one 'Event' callback")),this.eventCallback=A}onRequest(A){this.requestCallback&&this._onError.fire(new Error("attempt to set more than one 'Request' callback")),this.requestCallback=A}sendResponse(A){A.seq>0?this._onError.fire(new Error(`attempt to send more than one response for command ${A.command}`)):this.internalSend("response",A)}sendRequest(A,S,C,R){const y={command:A};if(S&&Object.keys(S).length>0&&(y.arguments=S),this.internalSend("request",y),typeof R=="number"){const f=setTimeout(()=>{clearTimeout(f);const v=this.pendingRequests.get(y.seq);if(v){this.pendingRequests.delete(y.seq);const h={type:"response",seq:0,request_seq:y.seq,success:!1,command:A,message:(0,_.localize)(0,null,R,A)};v(h)}},R)}return C&&this.pendingRequests.set(y.seq,C),y.seq}acceptMessage(A){this.messageCallback?this.messageCallback(A):(this.queue.push(A),this.queue.length===1&&this.processQueue())}needsTaskBoundaryBetween(A,S){return A.type!=="event"||S.type!=="event"}async processQueue(){let A;for(;this.queue.length;){if((!A||this.needsTaskBoundaryBetween(this.queue[0],A))&&await(0,k.timeout)(0),A=this.queue.shift(),!A)return;switch(A.type){case"event":this.eventCallback?.(A);break;case"request":this.requestCallback?.(A);break;case"response":{const S=A,C=this.pendingRequests.get(S.request_seq);C&&(this.pendingRequests.delete(S.request_seq),C(S));break}}}}internalSend(A,S){S.type=A,S.seq=this.sequence++,this.sendMessage(S)}async cancelPendingRequests(){if(this.pendingRequests.size===0)return Promise.resolve();const A=new Map;this.pendingRequests.forEach((S,C)=>A.set(C,S)),await(0,k.timeout)(500),A.forEach((S,C)=>{S({type:"response",seq:0,request_seq:C,success:!1,command:"canceled",message:"canceled"}),this.pendingRequests.delete(C)})}getPendingRequestIds(){return Array.from(this.pendingRequests.keys())}dispose(){this.queue=[]}}e.AbstractDebugAdapter=M}),define(De[170],Ie([1,0,141,41,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BreakpointWidgetContext=e.IDebugService=e.DebuggerString=e.DebugConfigurationProviderTriggerKind=e.DEBUG_MEMORY_SCHEME=e.MemoryRangeType=e.getStateLabel=e.State=e.INTERNAL_CONSOLE_OPTIONS_SCHEMA=e.DEBUG_SCHEME=e.BREAKPOINT_EDITOR_CONTRIBUTION_ID=e.EDITOR_CONTRIBUTION_ID=e.debuggerDisabledMessage=e.CONTEXT_FOCUSED_STACK_FRAME_HAS_INSTRUCTION_POINTER_REFERENCE=e.CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST=e.CONTEXT_DISASSEMBLY_VIEW_FOCUS=e.CONTEXT_DISASSEMBLE_REQUEST_SUPPORTED=e.CONTEXT_MULTI_SESSION_DEBUG=e.CONTEXT_MULTI_SESSION_REPL=e.CONTEXT_EXCEPTION_WIDGET_VISIBLE=e.CONTEXT_VARIABLE_IS_READONLY=e.CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT=e.CONTEXT_SUSPEND_DEBUGGEE_SUPPORTED=e.CONTEXT_TERMINATE_DEBUGGEE_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED=e.CONTEXT_SET_EXPRESSION_SUPPORTED=e.CONTEXT_SET_VARIABLE_SUPPORTED=e.CONTEXT_DEBUG_PROTOCOL_VARIABLE_MENU_CONTEXT=e.CONTEXT_DEBUG_EXTENSION_AVAILABLE=e.CONTEXT_DEBUGGERS_AVAILABLE=e.CONTEXT_BREAKPOINTS_EXIST=e.CONTEXT_STEP_INTO_TARGETS_SUPPORTED=e.CONTEXT_JUMP_TO_CURSOR_SUPPORTED=e.CONTEXT_STACK_FRAME_SUPPORTS_RESTART=e.CONTEXT_RESTART_FRAME_SUPPORTED=e.CONTEXT_STEP_BACK_SUPPORTED=e.CONTEXT_FOCUSED_SESSION_IS_ATTACH=e.CONTEXT_LOADED_SCRIPTS_ITEM_TYPE=e.CONTEXT_LOADED_SCRIPTS_SUPPORTED=e.CONTEXT_BREAKPOINT_SUPPORTS_CONDITION=e.CONTEXT_BREAKPOINT_ITEM_TYPE=e.CONTEXT_CAN_VIEW_MEMORY=e.CONTEXT_WATCH_ITEM_TYPE=e.CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD=e.CONTEXT_CALLSTACK_ITEM_STOPPED=e.CONTEXT_CALLSTACK_SESSION_IS_ATTACH=e.CONTEXT_CALLSTACK_ITEM_TYPE=e.CONTEXT_BREAKPOINT_INPUT_FOCUSED=e.CONTEXT_EXPRESSION_SELECTED=e.CONTEXT_VARIABLES_FOCUSED=e.CONTEXT_WATCH_EXPRESSIONS_EXIST=e.CONTEXT_WATCH_EXPRESSIONS_FOCUSED=e.CONTEXT_BREAKPOINTS_FOCUSED=e.CONTEXT_IN_BREAKPOINT_WIDGET=e.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=e.CONTEXT_IN_DEBUG_REPL=e.CONTEXT_IN_DEBUG_MODE=e.CONTEXT_DEBUG_UX=e.CONTEXT_DEBUG_UX_KEY=e.CONTEXT_DEBUG_STATE=e.CONTEXT_DEBUG_CONFIGURATION_TYPE=e.CONTEXT_DEBUG_TYPE=e.REPL_VIEW_ID=e.DEBUG_PANEL_ID=e.DISASSEMBLY_VIEW_ID=e.BREAKPOINTS_VIEW_ID=e.LOADED_SCRIPTS_VIEW_ID=e.CALLSTACK_VIEW_ID=e.WATCH_VIEW_ID=e.VARIABLES_VIEW_ID=e.VIEWLET_ID=void 0,e.VIEWLET_ID="workbench.view.debug",e.VARIABLES_VIEW_ID="workbench.debug.variablesView",e.WATCH_VIEW_ID="workbench.debug.watchExpressionsView",e.CALLSTACK_VIEW_ID="workbench.debug.callStackView",e.LOADED_SCRIPTS_VIEW_ID="workbench.debug.loadedScriptsView",e.BREAKPOINTS_VIEW_ID="workbench.debug.breakPointsView",e.DISASSEMBLY_VIEW_ID="workbench.debug.disassemblyView",e.DEBUG_PANEL_ID="workbench.panel.repl",e.REPL_VIEW_ID="workbench.panel.repl.view",e.CONTEXT_DEBUG_TYPE=new k.RawContextKey("debugType",void 0,{type:"string",description:n.localize(0,null)}),e.CONTEXT_DEBUG_CONFIGURATION_TYPE=new k.RawContextKey("debugConfigurationType",void 0,{type:"string",description:n.localize(1,null)}),e.CONTEXT_DEBUG_STATE=new k.RawContextKey("debugState","inactive",{type:"string",description:n.localize(2,null)}),e.CONTEXT_DEBUG_UX_KEY="debugUx",e.CONTEXT_DEBUG_UX=new k.RawContextKey(e.CONTEXT_DEBUG_UX_KEY,"default",{type:"string",description:n.localize(3,null)}),e.CONTEXT_IN_DEBUG_MODE=new k.RawContextKey("inDebugMode",!1,{type:"boolean",description:n.localize(4,null)}),e.CONTEXT_IN_DEBUG_REPL=new k.RawContextKey("inDebugRepl",!1,{type:"boolean",description:n.localize(5,null)}),e.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=new k.RawContextKey("breakpointWidgetVisible",!1,{type:"boolean",description:n.localize(6,null)}),e.CONTEXT_IN_BREAKPOINT_WIDGET=new k.RawContextKey("inBreakpointWidget",!1,{type:"boolean",description:n.localize(7,null)}),e.CONTEXT_BREAKPOINTS_FOCUSED=new k.RawContextKey("breakpointsFocused",!0,{type:"boolean",description:n.localize(8,null)}),e.CONTEXT_WATCH_EXPRESSIONS_FOCUSED=new k.RawContextKey("watchExpressionsFocused",!0,{type:"boolean",description:n.localize(9,null)}),e.CONTEXT_WATCH_EXPRESSIONS_EXIST=new k.RawContextKey("watchExpressionsExist",!1,{type:"boolean",description:n.localize(10,null)}),e.CONTEXT_VARIABLES_FOCUSED=new k.RawContextKey("variablesFocused",!0,{type:"boolean",description:n.localize(11,null)}),e.CONTEXT_EXPRESSION_SELECTED=new k.RawContextKey("expressionSelected",!1,{type:"boolean",description:n.localize(12,null)}),e.CONTEXT_BREAKPOINT_INPUT_FOCUSED=new k.RawContextKey("breakpointInputFocused",!1,{type:"boolean",description:n.localize(13,null)}),e.CONTEXT_CALLSTACK_ITEM_TYPE=new k.RawContextKey("callStackItemType",void 0,{type:"string",description:n.localize(14,null)}),e.CONTEXT_CALLSTACK_SESSION_IS_ATTACH=new k.RawContextKey("callStackSessionIsAttach",!1,{type:"boolean",description:n.localize(15,null)}),e.CONTEXT_CALLSTACK_ITEM_STOPPED=new k.RawContextKey("callStackItemStopped",!1,{type:"boolean",description:n.localize(16,null)}),e.CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD=new k.RawContextKey("callStackSessionHasOneThread",!1,{type:"boolean",description:n.localize(17,null)}),e.CONTEXT_WATCH_ITEM_TYPE=new k.RawContextKey("watchItemType",void 0,{type:"string",description:n.localize(18,null)}),e.CONTEXT_CAN_VIEW_MEMORY=new k.RawContextKey("canViewMemory",void 0,{type:"boolean",description:n.localize(19,null)}),e.CONTEXT_BREAKPOINT_ITEM_TYPE=new k.RawContextKey("breakpointItemType",void 0,{type:"string",description:n.localize(20,null)}),e.CONTEXT_BREAKPOINT_SUPPORTS_CONDITION=new k.RawContextKey("breakpointSupportsCondition",!1,{type:"boolean",description:n.localize(21,null)}),e.CONTEXT_LOADED_SCRIPTS_SUPPORTED=new k.RawContextKey("loadedScriptsSupported",!1,{type:"boolean",description:n.localize(22,null)}),e.CONTEXT_LOADED_SCRIPTS_ITEM_TYPE=new k.RawContextKey("loadedScriptsItemType",void 0,{type:"string",description:n.localize(23,null)}),e.CONTEXT_FOCUSED_SESSION_IS_ATTACH=new k.RawContextKey("focusedSessionIsAttach",!1,{type:"boolean",description:n.localize(24,null)}),e.CONTEXT_STEP_BACK_SUPPORTED=new k.RawContextKey("stepBackSupported",!1,{type:"boolean",description:n.localize(25,null)}),e.CONTEXT_RESTART_FRAME_SUPPORTED=new k.RawContextKey("restartFrameSupported",!1,{type:"boolean",description:n.localize(26,null)}),e.CONTEXT_STACK_FRAME_SUPPORTS_RESTART=new k.RawContextKey("stackFrameSupportsRestart",!1,{type:"boolean",description:n.localize(27,null)}),e.CONTEXT_JUMP_TO_CURSOR_SUPPORTED=new k.RawContextKey("jumpToCursorSupported",!1,{type:"boolean",description:n.localize(28,null)}),e.CONTEXT_STEP_INTO_TARGETS_SUPPORTED=new k.RawContextKey("stepIntoTargetsSupported",!1,{type:"boolean",description:n.localize(29,null)}),e.CONTEXT_BREAKPOINTS_EXIST=new k.RawContextKey("breakpointsExist",!1,{type:"boolean",description:n.localize(30,null)}),e.CONTEXT_DEBUGGERS_AVAILABLE=new k.RawContextKey("debuggersAvailable",!1,{type:"boolean",description:n.localize(31,null)}),e.CONTEXT_DEBUG_EXTENSION_AVAILABLE=new k.RawContextKey("debugExtensionAvailable",!0,{type:"boolean",description:n.localize(32,null)}),e.CONTEXT_DEBUG_PROTOCOL_VARIABLE_MENU_CONTEXT=new k.RawContextKey("debugProtocolVariableMenuContext",void 0,{type:"string",description:n.localize(33,null)}),e.CONTEXT_SET_VARIABLE_SUPPORTED=new k.RawContextKey("debugSetVariableSupported",!1,{type:"boolean",description:n.localize(34,null)}),e.CONTEXT_SET_EXPRESSION_SUPPORTED=new k.RawContextKey("debugSetExpressionSupported",!1,{type:"boolean",description:n.localize(35,null)}),e.CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED=new k.RawContextKey("breakWhenValueChangesSupported",!1,{type:"boolean",description:n.localize(36,null)}),e.CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED=new k.RawContextKey("breakWhenValueIsAccessedSupported",!1,{type:"boolean",description:n.localize(37,null)}),e.CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED=new k.RawContextKey("breakWhenValueIsReadSupported",!1,{type:"boolean",description:n.localize(38,null)}),e.CONTEXT_TERMINATE_DEBUGGEE_SUPPORTED=new k.RawContextKey("terminateDebuggeeSupported",!1,{type:"boolean",description:n.localize(39,null)}),e.CONTEXT_SUSPEND_DEBUGGEE_SUPPORTED=new k.RawContextKey("suspendDebuggeeSupported",!1,{type:"boolean",description:n.localize(40,null)}),e.CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT=new k.RawContextKey("variableEvaluateNamePresent",!1,{type:"boolean",description:n.localize(41,null)}),e.CONTEXT_VARIABLE_IS_READONLY=new k.RawContextKey("variableIsReadonly",!1,{type:"boolean",description:n.localize(42,null)}),e.CONTEXT_EXCEPTION_WIDGET_VISIBLE=new k.RawContextKey("exceptionWidgetVisible",!1,{type:"boolean",description:n.localize(43,null)}),e.CONTEXT_MULTI_SESSION_REPL=new k.RawContextKey("multiSessionRepl",!1,{type:"boolean",description:n.localize(44,null)}),e.CONTEXT_MULTI_SESSION_DEBUG=new k.RawContextKey("multiSessionDebug",!1,{type:"boolean",description:n.localize(45,null)}),e.CONTEXT_DISASSEMBLE_REQUEST_SUPPORTED=new k.RawContextKey("disassembleRequestSupported",!1,{type:"boolean",description:n.localize(46,null)}),e.CONTEXT_DISASSEMBLY_VIEW_FOCUS=new k.RawContextKey("disassemblyViewFocus",!1,{type:"boolean",description:n.localize(47,null)}),e.CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST=new k.RawContextKey("languageSupportsDisassembleRequest",!1,{type:"boolean",description:n.localize(48,null)}),e.CONTEXT_FOCUSED_STACK_FRAME_HAS_INSTRUCTION_POINTER_REFERENCE=new k.RawContextKey("focusedStackFrameHasInstructionReference",!1,{type:"boolean",description:n.localize(49,null)});const M=f=>n.localize(50,null,f);e.debuggerDisabledMessage=M,e.EDITOR_CONTRIBUTION_ID="editor.contrib.debug",e.BREAKPOINT_EDITOR_CONTRIBUTION_ID="editor.contrib.breakpoint",e.DEBUG_SCHEME="debug",e.INTERNAL_CONSOLE_OPTIONS_SCHEMA={enum:["neverOpen","openOnSessionStart","openOnFirstSessionStart"],default:"openOnFirstSessionStart",description:n.localize(51,null)};var I;(function(f){f[f.Inactive=0]="Inactive",f[f.Initializing=1]="Initializing",f[f.Stopped=2]="Stopped",f[f.Running=3]="Running"})(I=e.State||(e.State={}));function A(f){switch(f){case 1:return"initializing";case 2:return"stopped";case 3:return"running";default:return"inactive"}}e.getStateLabel=A;var S;(function(f){f[f.Valid=0]="Valid",f[f.Unreadable=1]="Unreadable",f[f.Error=2]="Error"})(S=e.MemoryRangeType||(e.MemoryRangeType={})),e.DEBUG_MEMORY_SCHEME="vscode-debug-memory";var C;(function(f){f[f.Initial=1]="Initial",f[f.Dynamic=2]="Dynamic"})(C=e.DebugConfigurationProviderTriggerKind||(e.DebugConfigurationProviderTriggerKind={}));var R;(function(f){f.UnverifiedBreakpoints="unverifiedBreakpoints"})(R=e.DebuggerString||(e.DebuggerString={})),e.IDebugService=(0,_.createDecorator)("debugService");var y;(function(f){f[f.CONDITION=0]="CONDITION",f[f.HIT_COUNT=1]="HIT_COUNT",f[f.LOG_MESSAGE=2]="LOG_MESSAGE"})(y=e.BreakpointWidgetContext||(e.BreakpointWidgetContext={}))}),define(De[171],Ie([1,0,10,2,19,23,13]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saveAllBeforeDebugStart=e.getVisibleAndSorted=e.convertToVSCPaths=e.convertToDAPaths=e.isUri=e.getExactExpressionStartAndEnd=e.isDebuggerMainContribution=e.getExtensionHostDebugSession=e.isSessionAttach=e.filterExceptionsFromTelemetry=e.formatPII=void 0;const A=/{([^}]+)}/g;function S(a,d,l){return a.replace(A,function(c,t){return d&&t.length>0&&t[0]!=="_"?c:l&&l.hasOwnProperty(t)?l[t]:c})}e.formatPII=S;function C(a){const d={};for(const l of Object.keys(a))l.startsWith("!")||(d[l]=a[l]);return d}e.filterExceptionsFromTelemetry=C;function R(a){return a.configuration.request==="attach"&&!y(a)&&(!a.parentSession||R(a.parentSession))}e.isSessionAttach=R;function y(a){let d=a.configuration.type;if(!!d)return d==="vslsShare"&&(d=a.configuration.adapterProxy.configuration.type),(0,n.equalsIgnoreCase)(d,"extensionhost")||(0,n.equalsIgnoreCase)(d,"pwa-extensionhost")?a:a.parentSession?y(a.parentSession):void 0}e.getExtensionHostDebugSession=y;function f(a){return a.type&&(a.label||a.program||a.runtime)}e.isDebuggerMainContribution=f;function v(a,d,l){let c,t=0;const m=/([^()\[\]{}<>\s+\-/%~#^;=|,`!]|\->)+/g;let p=null;for(;p=m.exec(a);){const P=p.index+1,L=P+p[0].length;if(P<=d&&L>=l){c=p[0],t=P;break}}if(c){const P=/\w+/g;let L=null;for(;(L=P.exec(c))&&!(L.index+1+t+L[0].length>=l););L&&(c=c.substring(0,P.lastIndex))}return c?{start:t,end:t+c.length-1}:{start:0,end:0}}e.getExactExpressionStartAndEnd=v;const h=/^[a-zA-Z][a-zA-Z0-9\+\-\.]+:/;function i(a){return!!(a&&a.match(h))}e.isUri=i;function o(a){if(typeof a.path=="string"&&!(typeof a.sourceReference=="number"&&a.sourceReference>0)){if(i(a.path))return k.URI.parse(a.path);if((0,_.isAbsolute)(a.path))return k.URI.file(a.path)}return a.path}function u(a){if(typeof a.path=="object"){const d=k.URI.revive(a.path);if(d)return d.scheme===I.Schemas.file?d.fsPath:d.toString()}return a.path}function b(a,d){const l=d?o:u,c=(0,M.deepClone)(a);return g(c,(t,m)=>{t&&m&&(m.path=l(m))}),c}e.convertToDAPaths=b;function E(a,d){const l=d?o:u,c=(0,M.deepClone)(a);return g(c,(t,m)=>{!t&&m&&(m.path=l(m))}),c}e.convertToVSCPaths=E;function g(a,d){switch(a.type){case"event":{const l=a;switch(l.event){case"output":d(!1,l.body.source);break;case"loadedSource":d(!1,l.body.source);break;case"breakpoint":d(!1,l.body.breakpoint.source);break;default:break}break}case"request":{const l=a;switch(l.command){case"setBreakpoints":d(!0,l.arguments.source);break;case"breakpointLocations":d(!0,l.arguments.source);break;case"source":d(!0,l.arguments.source);break;case"gotoTargets":d(!0,l.arguments.source);break;case"launchVSCode":l.arguments.args.forEach(c=>d(!1,c));break;default:break}break}case"response":{const l=a;if(l.success&&l.body)switch(l.command){case"stackTrace":l.body.stackFrames.forEach(c=>d(!1,c.source));break;case"loadedSources":l.body.sources.forEach(c=>d(!1,c));break;case"scopes":l.body.scopes.forEach(c=>d(!1,c.source));break;case"setFunctionBreakpoints":l.body.breakpoints.forEach(c=>d(!1,c.source));break;case"setBreakpoints":l.body.breakpoints.forEach(c=>d(!1,c.source));break;case"disassemble":l.body?.instructions.forEach(t=>d(!1,t.location));break;default:break}break}}}function w(a){return a.filter(d=>!d.presentation?.hidden).sort((d,l)=>d.presentation?l.presentation?d.presentation.group?l.presentation.group?d.presentation.group!==l.presentation.group?d.presentation.group.localeCompare(l.presentation.group):s(d.presentation.order,l.presentation.order):-1:l.presentation.group?1:s(d.presentation.order,l.presentation.order):-1:l.presentation?1:0)}e.getVisibleAndSorted=w;function s(a,d){return typeof a!="number"?typeof d!="number"?0:1:typeof d!="number"?-1:a-d}async function r(a,d){const l=a.getValue("debug.saveBeforeStart",{overrideIdentifier:d.activeTextEditorLanguageId});if(l!=="none"&&(await d.saveAll(),l==="allEditorsInActiveGroup")){const c=d.activeEditorPane;c&&c.input.resource?.scheme===I.Schemas.untitled&&await d.save({editor:c.input,groupId:c.group.id})}await a.reloadConfiguration()}e.saveAllBeforeDebugStart=r}),define(De[66],Ie([1,0,24,35,172,61,13,19,21,41]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressOutputItemStreams=e.isTextStreamMime=e.NotebookWorkingCopyTypeIdentifier=e.CellStatusbarAlignment=e.NotebookSetting=e.notebookDocumentFilterMatch=e.isDocumentExcludePattern=e.NotebookEditorPriority=e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=e.diff=e.MimeTypeDisplayOrder=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookCellExecutionState=e.NotebookRunState=e.RENDERER_NOT_AVAILABLE=e.RENDERER_EQUIVALENT_EXTENSIONS=e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=e.NOTEBOOK_DISPLAY_ORDER=e.CellKind=e.INTERACTIVE_WINDOW_EDITOR_ID=e.NOTEBOOK_DIFF_EDITOR_ID=e.NOTEBOOK_EDITOR_ID=void 0,e.NOTEBOOK_EDITOR_ID="workbench.editor.notebook",e.NOTEBOOK_DIFF_EDITOR_ID="workbench.editor.notebookTextDiffEditor",e.INTERACTIVE_WINDOW_EDITOR_ID="workbench.editor.interactive";var R;(function(B){B[B.Markup=1]="Markup",B[B.Code=2]="Code"})(R=e.CellKind||(e.CellKind={})),e.NOTEBOOK_DISPLAY_ORDER=["application/json","application/javascript","text/html","image/svg+xml",M.Mimes.latex,M.Mimes.markdown,"image/png","image/jpeg",M.Mimes.text],e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=[M.Mimes.latex,M.Mimes.markdown,"application/json",M.Mimes.text,"text/html","image/svg+xml","image/png","image/jpeg"],e.RENDERER_EQUIVALENT_EXTENSIONS=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.RENDERER_NOT_AVAILABLE="_notAvailable";var y;(function(B){B[B.Running=1]="Running",B[B.Idle=2]="Idle"})(y=e.NotebookRunState||(e.NotebookRunState={}));var f;(function(B){B[B.Unconfirmed=1]="Unconfirmed",B[B.Pending=2]="Pending",B[B.Executing=3]="Executing"})(f=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var v;(function(B){B[B.WithHardKernelDependency=0]="WithHardKernelDependency",B[B.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",B[B.Pure=2]="Pure",B[B.Never=3]="Never"})(v=e.NotebookRendererMatch||(e.NotebookRendererMatch={}));var h;(function(B){B.Always="always",B.Never="never",B.Optional="optional"})(h=e.RendererMessagingSpec||(e.RendererMessagingSpec={}));var i;(function(B){B[B.ModelChange=1]="ModelChange",B[B.Move=2]="Move",B[B.ChangeCellLanguage=5]="ChangeCellLanguage",B[B.Initialize=6]="Initialize",B[B.ChangeCellMetadata=7]="ChangeCellMetadata",B[B.Output=8]="Output",B[B.OutputItem=9]="OutputItem",B[B.ChangeCellContent=10]="ChangeCellContent",B[B.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",B[B.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",B[B.ChangeCellMime=13]="ChangeCellMime",B[B.Unknown=100]="Unknown"})(i=e.NotebookCellsChangeType||(e.NotebookCellsChangeType={}));var o;(function(B){B[B.Handle=0]="Handle",B[B.Index=1]="Index"})(o=e.SelectionStateType||(e.SelectionStateType={}));var u;(function(B){B[B.Replace=1]="Replace",B[B.Output=2]="Output",B[B.Metadata=3]="Metadata",B[B.CellLanguage=4]="CellLanguage",B[B.DocumentMetadata=5]="DocumentMetadata",B[B.Move=6]="Move",B[B.OutputItems=7]="OutputItems",B[B.PartialMetadata=8]="PartialMetadata",B[B.PartialInternalMetadata=9]="PartialInternalMetadata"})(u=e.CellEditType||(e.CellEditType={}));var b;(function(B){B.scheme=I.Schemas.vscodeNotebookCell;const z=["W","X","Y","Z","a","b","c","d","e","f"],j=new RegExp(`^[${z.join("")}]+`),G=7;function Z(Y,ge){const we=ge.toString(G),xe=`${we.length<z.length?z[we.length-1]:"z"}${we}s${(0,n.encodeBase64)(n.VSBuffer.fromString(Y.scheme),!0,!0)}`;return Y.with({scheme:B.scheme,fragment:xe})}B.generate=Z;function he(Y){if(Y.scheme!==B.scheme)return;const ge=Y.fragment.indexOf("s");if(ge<0)return;const we=parseInt(Y.fragment.substring(0,ge).replace(j,""),G),Fe=(0,n.decodeBase64)(Y.fragment.substring(ge+1)).toString();if(!isNaN(we))return{handle:we,notebook:Y.with({scheme:Fe,fragment:null})}}B.parse=he;function oe(Y,ge){return Y.with({scheme:I.Schemas.vscodeNotebookCellOutput,fragment:`op${ge??""},${Y.scheme!==I.Schemas.file?Y.scheme:""}`})}B.generateCellOutputUri=oe;function ce(Y){if(Y.scheme!==I.Schemas.vscodeNotebookCellOutput)return;const ge=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(Y.fragment);if(!ge)return;const we=ge[1]&&ge[1]!==""?ge[1]:void 0,Fe=ge[2];return{outputId:we,notebook:Y.with({scheme:Fe||I.Schemas.file,fragment:null})}}B.parseCellOutputUri=ce;function le(Y,ge,we){return B.generate(Y,ge).with({scheme:we})}B.generateCellPropertyUri=le;function fe(Y,ge){if(Y.scheme===ge)return B.parse(Y.with({scheme:B.scheme}))}B.parseCellPropertyUri=fe})(b=e.CellUri||(e.CellUri={}));const E=B=>S.isWindows?B.replace(/\//g,"\\"):B;class g{constructor(z=[],j=e.NOTEBOOK_DISPLAY_ORDER){this.defaultOrder=j,this.order=[...new Set(z)].map(G=>({pattern:G,matches:k.parse(E(G))}))}sort(z){const j=new Map(_.Iterable.map(z,Z=>[Z,E(Z)]));let G=[];for(const{matches:Z}of this.order)for(const[he,oe]of j)if(Z(oe)){G.push(he),j.delete(he);break}return j.size&&(G=G.concat([...j.keys()].sort((Z,he)=>this.defaultOrder.indexOf(Z)-this.defaultOrder.indexOf(he)))),G}prioritize(z,j){const G=this.findIndex(z);if(G===-1){this.order.unshift({pattern:z,matches:k.parse(E(z))});return}const Z=new Set(j.map(oe=>this.findIndex(oe,G)));Z.delete(-1);const he=Array.from(Z).sort();this.order.splice(G+1,0,...he.map(oe=>this.order[oe]));for(let oe=he.length-1;oe>=0;oe--)this.order.splice(he[oe],1)}toArray(){return this.order.map(z=>z.pattern)}findIndex(z,j=this.order.length){const G=E(z);for(let Z=0;Z<j;Z++)if(this.order[Z].matches(G))return Z;return-1}}e.MimeTypeDisplayOrder=g;function w(B,z,j,G=(Z,he)=>Z===he){const Z=[];function he(le,fe,Y){if(fe===0&&Y.length===0)return;const ge=Z[Z.length-1];ge&&ge.start+ge.deleteCount===le?(ge.deleteCount+=fe,ge.toInsert.push(...Y)):Z.push({start:le,deleteCount:fe,toInsert:Y})}let oe=0,ce=0;for(;;){if(oe===B.length){he(oe,0,z.slice(ce));break}if(ce===z.length){he(oe,B.length-oe,[]);break}const le=B[oe],fe=z[ce];if(G(le,fe)){oe+=1,ce+=1;continue}j(fe)?(he(oe,1,[]),oe+=1):(he(oe,0,[fe]),ce+=1)}return Z}e.diff=w,e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=new C.RawContextKey("notebookEditorCursorAtBoundary","none");var s;(function(B){B.default="default",B.option="option"})(s=e.NotebookEditorPriority||(e.NotebookEditorPriority={}));function r(B){const z=B;return!!((typeof z.include=="string"||k.isRelativePattern(z.include))&&(typeof z.exclude=="string"||k.isRelativePattern(z.exclude)))}e.isDocumentExcludePattern=r;function a(B,z,j){if(Array.isArray(B.viewType)&&B.viewType.indexOf(z)>=0||B.viewType===z)return!0;if(B.filenamePattern){const G=r(B.filenamePattern)?B.filenamePattern.include:B.filenamePattern,Z=r(B.filenamePattern)?B.filenamePattern.exclude:void 0;if(k.match(G,(0,A.basename)(j.fsPath).toLowerCase()))return!(Z&&k.match(Z,(0,A.basename)(j.fsPath).toLowerCase()))}return!1}e.notebookDocumentFilterMatch=a,e.NotebookSetting={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",textOutputLineLimit:"notebook.output.textLineLimit",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputLineHeight:"notebook.outputLineHeight",outputFontSize:"notebook.outputFontSize",outputFontFamily:"notebook.outputFontFamily",kernelPickerType:"notebook.kernelPicker.type",outputScrolling:"notebook.experimental.outputScrolling"};var d;(function(B){B[B.Left=1]="Left",B[B.Right=2]="Right"})(d=e.CellStatusbarAlignment||(e.CellStatusbarAlignment={}));class l{static create(z){return`${l._prefix}${z}`}static parse(z){if(z.startsWith(l._prefix))return z.substring(l._prefix.length)}}e.NotebookWorkingCopyTypeIdentifier=l,l._prefix="notebook/";function c(B){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(B)}e.isTextStreamMime=c;const t=new TextDecoder;function m(B){const z=[];let j=!1;for(const G of B)(z.length===0||j)&&(z.push(G),j=!0);return V(z),O(n.VSBuffer.concat(z.map(G=>n.VSBuffer.wrap(G))))}e.compressOutputItemStreams=m;const p=`${String.fromCharCode(27)}[A`,P=p.split("").map(B=>B.charCodeAt(0)),L=10;function V(B){B.forEach((z,j)=>{if(j===0||z.length<p.length)return;const G=B[j-1],Z=z.subarray(0,p.length);if(Z[0]===P[0]&&Z[1]===P[1]&&Z[2]===P[2]){const he=G.lastIndexOf(L);if(he===-1)return;B[j-1]=G.subarray(0,he),B[j]=z.subarray(p.length)}})}function H(B){let z=B;do B=z,z=B.replace(/[^\n]\x08/gm,"");while(z.length<B.length);return B}function W(B){for(B=B.replace(/\r+\n/gm,`
`);B.search(/\r[^$]/g)>-1;){const z=B.match(/^(.*)\r+/m)[1];let j=B.match(/\r+(.*)$/m)[1];j=j+z.slice(j.length,z.length),B=B.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,j)}return B}const T="\b".charCodeAt(0),F="\r".charCodeAt(0);function O(B){return!B.buffer.includes(T)&&!B.buffer.includes(F)?B:n.VSBuffer.fromString(W(H(t.decode(B.buffer))))}}),define(De[173],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INotebookExecutionService=e.CellExecutionUpdateType=void 0;var k;(function(_){_[_.Output=1]="Output",_[_.OutputItems=2]="OutputItems",_[_.ExecutionState=3]="ExecutionState"})(k=e.CellExecutionUpdateType||(e.CellExecutionUpdateType={})),e.INotebookExecutionService=(0,n.createDecorator)("INotebookExecutionService")}),define(De[174],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeEnvironmentVariableCollections=e.serializeEnvironmentVariableCollections=e.deserializeEnvironmentVariableCollection=e.serializeEnvironmentVariableCollection=void 0;function n(I){return[...I.entries()]}e.serializeEnvironmentVariableCollection=n;function k(I){return new Map(I)}e.deserializeEnvironmentVariableCollection=k;function _(I){return Array.from(I.entries()).map(A=>[A[0],n(A[1].map)])}e.serializeEnvironmentVariableCollections=_;function M(I){return new Map(I.map(A=>[A[0],{map:k(A[1])}]))}e.deserializeEnvironmentVariableCollections=M}),define(De[42],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestId=e.TestPosition=e.TestIdPathParts=void 0;var n;(function(M){M.Delimiter="\0"})(n=e.TestIdPathParts||(e.TestIdPathParts={}));var k;(function(M){M[M.IsSame=0]="IsSame",M[M.Disconnected=1]="Disconnected",M[M.IsChild=2]="IsChild",M[M.IsParent=3]="IsParent"})(k=e.TestPosition||(e.TestPosition={}));class _{static fromExtHostTestItem(I,A,S=I.parent){if(I._isRoot)return new _([A]);const C=[I.id];for(let R=S;R&&R.id!==A;R=R.parent)C.push(R.id);return C.push(A),new _(C.reverse())}static isRoot(I){return!I.includes("\0")}static root(I){const A=I.indexOf("\0");return A===-1?I:I.slice(0,A)}static fromString(I){return new _(I.split("\0"))}static join(I,A){return new _([...I.path,A])}static joinToString(I,A){return I.toString()+"\0"+A}static parentId(I){const A=I.lastIndexOf("\0");return A===-1?void 0:I.slice(0,A)}static compare(I,A){return I===A?0:A.startsWith(I+"\0")?2:I.startsWith(A+"\0")?3:1}constructor(I,A=I.length){if(this.path=I,this.viewEnd=A,I.length===0||A<1)throw new Error("cannot create test with empty path")}get parentId(){return this.viewEnd>1?new _(this.path,this.viewEnd-1):void 0}get localId(){return this.path[this.viewEnd-1]}get controllerId(){return this.path[0]}get isRoot(){return this.viewEnd===1}*idsFromRoot(){for(let I=1;I<=this.viewEnd;I++)yield new _(this.path,I)}*idsToRoot(){for(let I=this.viewEnd;I>0;I--)yield new _(this.path,I)}compare(I){if(typeof I=="string")return _.compare(this.toString(),I);for(let A=0;A<I.viewEnd&&A<this.viewEnd;A++)if(I.path[A]!==this.path[A])return 1;return I.viewEnd>this.viewEnd?2:I.viewEnd<this.viewEnd?3:0}toJSON(){return this.toString()}toString(){if(!this.stringifed){this.stringifed=this.path[0];for(let I=1;I<this.viewEnd;I++)this.stringifed+="\0",this.stringifed+=this.path[I]}return this.stringifed}}e.TestId=_}),define(De[53],Ie([1,0,2,54,42]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractIncrementalTestCollection=e.TestsDiffOp=e.TestDiffOpType=e.DetailType=e.TestResultItem=e.applyTestItemUpdate=e.ITestItemUpdate=e.InternalTestItem=e.TestItemExpandState=e.ITestItem=e.denamespaceTestTag=e.namespaceTestTag=e.ITestTaskState=e.ITestMessage=e.ITestOutputMessage=e.getMarkId=e.ITestErrorMessage=e.TestMessageType=e.IRichLocation=e.testRunProfileBitsetList=e.TestRunProfileBitset=e.TestResultState=void 0;var M;(function(c){c[c.Unset=0]="Unset",c[c.Queued=1]="Queued",c[c.Running=2]="Running",c[c.Passed=3]="Passed",c[c.Failed=4]="Failed",c[c.Skipped=5]="Skipped",c[c.Errored=6]="Errored"})(M=e.TestResultState||(e.TestResultState={}));var I;(function(c){c[c.Run=2]="Run",c[c.Debug=4]="Debug",c[c.Coverage=8]="Coverage",c[c.HasNonDefaultProfile=16]="HasNonDefaultProfile",c[c.HasConfigurable=32]="HasConfigurable"})(I=e.TestRunProfileBitset||(e.TestRunProfileBitset={})),e.testRunProfileBitsetList=[2,4,8,16];var A;(function(c){c.serialize=t=>({range:t.range.toJSON(),uri:t.uri.toJSON()}),c.deserialize=t=>({range:k.Range.lift(t.range),uri:n.URI.revive(t.uri)})})(A=e.IRichLocation||(e.IRichLocation={}));var S;(function(c){c[c.Error=0]="Error",c[c.Output=1]="Output"})(S=e.TestMessageType||(e.TestMessageType={}));var C;(function(c){c.serialize=t=>({message:t.message,type:0,expected:t.expected,actual:t.actual,location:t.location&&A.serialize(t.location)}),c.deserialize=t=>({message:t.message,type:0,expected:t.expected,actual:t.actual,location:t.location&&A.deserialize(t.location)})})(C=e.ITestErrorMessage||(e.ITestErrorMessage={}));const R=(c,t)=>`${t?"s":"e"}${c}`;e.getMarkId=R;var y;(function(c){c.serialize=t=>({message:t.message,type:1,offset:t.offset,length:t.length,location:t.location&&A.serialize(t.location)}),c.deserialize=t=>({message:t.message,type:1,offset:t.offset,length:t.length,location:t.location&&A.deserialize(t.location)})})(y=e.ITestOutputMessage||(e.ITestOutputMessage={}));var f;(function(c){c.serialize=t=>t.type===0?C.serialize(t):y.serialize(t),c.deserialize=t=>t.type===0?C.deserialize(t):y.deserialize(t)})(f=e.ITestMessage||(e.ITestMessage={}));var v;(function(c){c.serializeWithoutMessages=t=>({state:t.state,duration:t.duration,messages:[]}),c.serialize=t=>({state:t.state,duration:t.duration,messages:t.messages.map(f.serialize)}),c.deserialize=t=>({state:t.state,duration:t.duration,messages:t.messages.map(f.deserialize)})})(v=e.ITestTaskState||(e.ITestTaskState={}));const h="\0",i=(c,t)=>c+h+t;e.namespaceTestTag=i;const o=c=>{const t=c.indexOf(h);return{ctrlId:c.slice(0,t),tagId:c.slice(t+1)}};e.denamespaceTestTag=o;var u;(function(c){c.serialize=t=>({extId:t.extId,label:t.label,tags:t.tags,busy:t.busy,children:void 0,uri:t.uri?.toJSON(),range:t.range?.toJSON()||null,description:t.description,error:t.error,sortText:t.sortText}),c.deserialize=t=>({extId:t.extId,label:t.label,tags:t.tags,busy:t.busy,children:void 0,uri:t.uri?n.URI.revive(t.uri):void 0,range:t.range?k.Range.lift(t.range):null,description:t.description,error:t.error,sortText:t.sortText})})(u=e.ITestItem||(e.ITestItem={}));var b;(function(c){c[c.NotExpandable=0]="NotExpandable",c[c.Expandable=1]="Expandable",c[c.BusyExpanding=2]="BusyExpanding",c[c.Expanded=3]="Expanded"})(b=e.TestItemExpandState||(e.TestItemExpandState={}));var E;(function(c){c.serialize=t=>({expand:t.expand,item:u.serialize(t.item)}),c.deserialize=t=>({controllerId:_.TestId.root(t.item.extId),expand:t.expand,item:u.deserialize(t.item)})})(E=e.InternalTestItem||(e.InternalTestItem={}));var g;(function(c){c.serialize=t=>{let m;return t.item&&(m={},t.item.label!==void 0&&(m.label=t.item.label),t.item.tags!==void 0&&(m.tags=t.item.tags),t.item.busy!==void 0&&(m.busy=t.item.busy),t.item.uri!==void 0&&(m.uri=t.item.uri?.toJSON()),t.item.range!==void 0&&(m.range=t.item.range?.toJSON()),t.item.description!==void 0&&(m.description=t.item.description),t.item.error!==void 0&&(m.error=t.item.error),t.item.sortText!==void 0&&(m.sortText=t.item.sortText)),{extId:t.extId,expand:t.expand,item:m}},c.deserialize=t=>{let m;return t.item&&(m={},t.item.label!==void 0&&(m.label=t.item.label),t.item.tags!==void 0&&(m.tags=t.item.tags),t.item.busy!==void 0&&(m.busy=t.item.busy),t.item.range!==void 0&&(m.range=t.item.range?k.Range.lift(t.item.range):null),t.item.description!==void 0&&(m.description=t.item.description),t.item.error!==void 0&&(m.error=t.item.error),t.item.sortText!==void 0&&(m.sortText=t.item.sortText)),{extId:t.extId,expand:t.expand,item:m}}})(g=e.ITestItemUpdate||(e.ITestItemUpdate={}));const w=(c,t)=>{t.expand!==void 0&&(c.expand=t.expand),t.item!==void 0&&(c.item=c.item?Object.assign(c.item,t.item):t.item)};e.applyTestItemUpdate=w;var s;(function(c){c.serializeWithoutMessages=t=>({...E.serialize(t),ownComputedState:t.ownComputedState,computedState:t.computedState,tasks:t.tasks.map(v.serializeWithoutMessages),retired:t.retired}),c.serialize=t=>({...E.serialize(t),ownComputedState:t.ownComputedState,computedState:t.computedState,tasks:t.tasks.map(v.serialize),retired:t.retired}),c.deserialize=t=>({...E.deserialize(t),ownComputedState:t.ownComputedState,computedState:t.computedState,tasks:t.tasks.map(v.deserialize),retired:!0})})(s=e.TestResultItem||(e.TestResultItem={}));var r;(function(c){c[c.Function=0]="Function",c[c.Statement=1]="Statement"})(r=e.DetailType||(e.DetailType={}));var a;(function(c){c[c.Add=0]="Add",c[c.Update=1]="Update",c[c.DocumentSynced=2]="DocumentSynced",c[c.Remove=3]="Remove",c[c.IncrementPendingExtHosts=4]="IncrementPendingExtHosts",c[c.Retire=5]="Retire",c[c.AddTag=6]="AddTag",c[c.RemoveTag=7]="RemoveTag"})(a=e.TestDiffOpType||(e.TestDiffOpType={}));var d;(function(c){c.deserialize=t=>t.op===0?{op:t.op,item:E.deserialize(t.item)}:t.op===1?{op:t.op,item:g.deserialize(t.item)}:t.op===2?{op:t.op,uri:n.URI.revive(t.uri),docv:t.docv}:t,c.serialize=t=>t.op===0?{op:t.op,item:E.serialize(t.item)}:t.op===1?{op:t.op,item:g.serialize(t.item)}:t})(d=e.TestsDiffOp||(e.TestsDiffOp={}));class l{constructor(){this._tags=new Map,this.items=new Map,this.roots=new Set,this.busyControllerCount=0,this.pendingRootCount=0,this.tags=this._tags}apply(t){const m=this.createChangeCollector();for(const p of t)switch(p.op){case 0:this.add(E.deserialize(p.item),m);break;case 1:this.update(g.deserialize(p.item),m);break;case 3:this.remove(p.itemId,m);break;case 5:this.retireTest(p.itemId);break;case 4:this.updatePendingRoots(p.amount);break;case 6:this._tags.set(p.tag.id,p.tag);break;case 7:this._tags.delete(p.id);break}m.complete?.()}add(t,m){const p=_.TestId.parentId(t.item.extId)?.toString();let P;if(!p)P=this.createItem(t),this.roots.add(P),this.items.set(t.item.extId,P);else if(this.items.has(p)){const L=this.items.get(p);L.children.add(t.item.extId),P=this.createItem(t,L),this.items.set(t.item.extId,P)}else{console.error(`Test with unknown parent ID: ${JSON.stringify(t)}`);return}return m.add?.(P),t.expand===2&&this.busyControllerCount++,P}update(t,m){const p=this.items.get(t.extId);if(!!p)return t.expand!==void 0&&(p.expand===2&&this.busyControllerCount--,t.expand===2&&this.busyControllerCount++),(0,e.applyTestItemUpdate)(p,t),m.update?.(p),p}remove(t,m){const p=this.items.get(t);if(!p)return;const P=_.TestId.parentId(p.item.extId)?.toString();P?this.items.get(P).children.delete(p.item.extId):this.roots.delete(p);const L=[[t]];for(;L.length;)for(const V of L.pop()){const H=this.items.get(V);H&&(L.push(H.children),this.items.delete(V),m.remove?.(H,H!==p),H.expand===2&&this.busyControllerCount--)}}retireTest(t){}updatePendingRoots(t){this.pendingRootCount+=t}createChangeCollector(){return{}}}e.AbstractIncrementalTestCollection=l}),define(De[67],Ie([1,0,15,5,7,47,53,42]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTestItemChildren=e.MixedTestItemController=e.InvalidTestItemError=e.DuplicateTestItemError=e.TestItemCollection=e.TestItemEventOp=void 0;var S;(function(b){b[b.Upsert=0]="Upsert",b[b.SetTags=1]="SetTags",b[b.UpdateCanResolveChildren=2]="UpdateCanResolveChildren",b[b.RemoveChild=3]="RemoveChild",b[b.SetProp=4]="SetProp",b[b.Bulk=5]="Bulk",b[b.DocumentSynced=6]="DocumentSynced"})(S=e.TestItemEventOp||(e.TestItemEventOp={}));const C=(b,E)=>b===E,y=Object.entries({range:(b,E)=>b===E?!0:!b||!E?!1:b.equalsRange(E),busy:C,label:C,description:C,error:C,sortText:C,tags:(b,E)=>!(b.length!==E.length||b.some(g=>!E.includes(g)))}),f=(b,E)=>{let g;for(const[w,s]of y)s(b[w],E[w])||(g?g[w]=E[w]:g={[w]:E[w]});return g};class v extends _.Disposable{get root(){return this.options.root}constructor(E){super(),this.options=E,this.debounceSendDiff=this._register(new n.RunOnceScheduler(()=>this.flushDiff(),200)),this.diffOpEmitter=this._register(new k.Emitter),this.tree=new Map,this.tags=new Map,this.diff=[],this.onDidGenerateDiff=this.diffOpEmitter.event,this.root.canResolveChildren=!0,this.upsertItem(this.root,void 0)}set resolveHandler(E){this._resolveHandler=E;for(const g of this.tree.values())this.updateExpandability(g)}collectDiff(){const E=this.diff;return this.diff=[],E}pushDiff(E){switch(E.op){case 2:{for(const g of this.diff)if(g.op===2&&g.uri===E.uri){g.docv=E.docv;return}break}case 1:{const g=this.diff[this.diff.length-1];if(g){if(g.op===1&&g.item.extId===E.item.extId){(0,I.applyTestItemUpdate)(g.item,E.item);return}if(g.op===0&&g.item.item.extId===E.item.extId){(0,I.applyTestItemUpdate)(g.item,E.item);return}}break}}this.diff.push(E),this.debounceSendDiff.isScheduled()||this.debounceSendDiff.schedule()}expand(E,g){const w=this.tree.get(E);if(!!w){if((w.expandLevels===void 0||g>w.expandLevels)&&(w.expandLevels=g),w.expand===1){const s=this.resolveChildren(w);return s.isOpen()?this.expandChildren(w,g-1):s.wait().then(()=>this.expandChildren(w,g-1))}else if(w.expand===3)return w.resolveBarrier?.isOpen()===!1?w.resolveBarrier.wait().then(()=>this.expandChildren(w,g-1)):this.expandChildren(w,g-1)}}dispose(){for(const E of this.tree.values())this.options.getApiFor(E.actual).listener=void 0;this.tree.clear(),this.diff=[],super.dispose()}onTestItemEvent(E,g){switch(g.op){case 3:this.removeItem(A.TestId.joinToString(E.fullId,g.id));break;case 0:this.upsertItem(g.item,E);break;case 5:for(const w of g.ops)this.onTestItemEvent(E,w);break;case 1:this.diffTagRefs(g.new,g.old,E.fullId.toString());break;case 2:this.updateExpandability(E);break;case 4:this.pushDiff({op:1,item:{extId:E.fullId.toString(),item:g.update}});break;case 6:this.documentSynced(E.actual.uri);break;default:(0,M.assertNever)(g)}}documentSynced(E){E&&this.pushDiff({op:2,uri:E,docv:this.options.getDocumentVersion(E)})}upsertItem(E,g){const w=A.TestId.fromExtHostTestItem(E,this.root.id,g?.actual),s=this.options.getApiFor(E);s.parent&&s.parent!==g?.actual&&this.options.getChildren(s.parent).delete(E.id);let r=this.tree.get(w.toString());if(!r){r={fullId:w,actual:E,expandLevels:g?.expandLevels?g.expandLevels-1:void 0,expand:0},E.tags.forEach(this.incrementTagRefs,this),this.tree.set(r.fullId.toString(),r),this.setItemParent(E,g),this.pushDiff({op:0,item:{controllerId:this.options.controllerId,expand:r.expand,item:this.options.toITestItem(E)}}),this.connectItemAndChildren(E,r,g);return}if(r.actual===E){this.connectItem(E,r,g);return}if(r.actual.uri?.toString()!==E.uri?.toString())return this.removeItem(w.toString()),this.upsertItem(E,g);const a=this.options.getChildren(r.actual),d=r.actual,l=f(this.options.toITestItem(d),this.options.toITestItem(E));this.options.getApiFor(d).listener=void 0,r.actual=E,r.expand=0,l&&(l.hasOwnProperty("tags")&&(this.diffTagRefs(E.tags,d.tags,w.toString()),delete l.tags),this.onTestItemEvent(r,{op:4,update:l})),this.connectItemAndChildren(E,r,g);for(const[c,t]of a)this.options.getChildren(E).get(t.id)||this.removeItem(A.TestId.joinToString(w,t.id));this.documentSynced(r.actual.uri)}diffTagRefs(E,g,w){const s=new Set(g.map(r=>r.id));for(const r of E)s.delete(r.id)||this.incrementTagRefs(r);this.pushDiff({op:1,item:{extId:w,item:{tags:E.map(r=>(0,I.namespaceTestTag)(this.options.controllerId,r.id))}}}),s.forEach(this.decrementTagRefs,this)}incrementTagRefs(E){const g=this.tags.get(E.id);g?g.refCount++:(this.tags.set(E.id,{refCount:1}),this.pushDiff({op:6,tag:{id:(0,I.namespaceTestTag)(this.options.controllerId,E.id)}}))}decrementTagRefs(E){const g=this.tags.get(E);g&&!--g.refCount&&(this.tags.delete(E),this.pushDiff({op:7,id:(0,I.namespaceTestTag)(this.options.controllerId,E)}))}setItemParent(E,g){this.options.getApiFor(E).parent=g&&g.actual!==this.root?g.actual:void 0}connectItem(E,g,w){this.setItemParent(E,w);const s=this.options.getApiFor(E);s.parent=w?.actual,s.listener=r=>this.onTestItemEvent(g,r),this.updateExpandability(g)}connectItemAndChildren(E,g,w){this.connectItem(E,g,w);for(const[s,r]of this.options.getChildren(E))this.upsertItem(r,g)}updateExpandability(E){let g;this._resolveHandler?E.resolveBarrier?g=E.resolveBarrier.isOpen()?3:2:g=E.actual.canResolveChildren?1:0:g=0,g!==E.expand&&(E.expand=g,this.pushDiff({op:1,item:{extId:E.fullId.toString(),expand:g}}),g===1&&E.expandLevels!==void 0&&this.resolveChildren(E))}expandChildren(E,g){if(g<0)return;const w=[];for(const[s,r]of this.options.getChildren(E.actual)){const a=this.expand(A.TestId.joinToString(E.fullId,r.id),g);(0,n.isThenable)(a)&&w.push(a)}if(w.length)return Promise.all(w).then(()=>{})}resolveChildren(E){if(E.resolveBarrier)return E.resolveBarrier;if(!this._resolveHandler){const r=new n.Barrier;return r.open(),r}E.expand=2,this.pushExpandStateUpdate(E);const g=E.resolveBarrier=new n.Barrier,w=r=>{console.error(`Unhandled error in resolveHandler of test controller "${this.options.controllerId}"`,r)};let s;try{s=this._resolveHandler(E.actual===this.root?void 0:E.actual)}catch(r){w(r)}return(0,n.isThenable)(s)?s.catch(w).then(()=>{g.open(),this.updateExpandability(E)}):(g.open(),this.updateExpandability(E)),E.resolveBarrier}pushExpandStateUpdate(E){this.pushDiff({op:1,item:{extId:E.fullId.toString(),expand:E.expand}})}removeItem(E){const g=this.tree.get(E);if(!g)throw new Error("attempting to remove non-existent child");this.pushDiff({op:3,itemId:E});const w=[g];for(;w.length;){const s=w.pop();if(!!s){this.options.getApiFor(s.actual).listener=void 0;for(const r of s.actual.tags)this.decrementTagRefs(r.id);this.tree.delete(s.fullId.toString());for(const[r,a]of this.options.getChildren(s.actual))w.push(this.tree.get(A.TestId.joinToString(s.fullId,a.id)))}}}flushDiff(){const E=this.collectDiff();E.length&&this.diffOpEmitter.fire(E)}}e.TestItemCollection=v;class h extends Error{constructor(E){super(`Attempted to insert a duplicate test item ID ${E}`)}}e.DuplicateTestItemError=h;class i extends Error{constructor(E){super(`TestItem with ID "${E}" is invalid. Make sure to create it from the createTestItem method.`)}}e.InvalidTestItemError=i;class o extends Error{constructor(E,g,w){super(`TestItem with ID "${E}" is from controller "${g}" and cannot be added as a child of an item from controller "${w}".`)}}e.MixedTestItemController=o;const u=(b,E,g)=>{let w=new Map;return{get size(){return w.size},forEach(s,r){for(const a of w.values())s.call(r,a,this)},[Symbol.iterator](){return w.entries()},replace(s){const r=new Map,a=new Set(w.keys()),d={op:5,ops:[]};for(const l of s){if(!(l instanceof g))throw new i(l.id);const c=E(l).controllerId;if(c!==b.controllerId)throw new o(l.id,c,b.controllerId);if(r.has(l.id))throw new h(l.id);r.set(l.id,l),a.delete(l.id),d.ops.push({op:0,item:l})}for(const l of a.keys())d.ops.push({op:3,id:l});b.listener?.(d),w=r},add(s){if(!(s instanceof g))throw new i(s.id);w.set(s.id,s),b.listener?.({op:0,item:s})},delete(s){w.delete(s)&&b.listener?.({op:3,id:s})},get(s){return w.get(s)},toJSON(){return Array.from(w.values())}}};e.createTestItemChildren=u}),define(De[93],Ie([1,0,67]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrivateApiFor=e.createPrivateApiFor=void 0;const k=new WeakMap,_=(I,A)=>{const S={controllerId:A};return k.set(I,S),S};e.createPrivateApiFor=_;const M=I=>{const A=k.get(I);if(!A)throw new n.InvalidTestItemError(I?.id||"<unknown>");return A};e.getPrivateApiFor=M}),define(De[68],Ie([1,0,13,2]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAuthority=e.asWebviewUri=e.webviewGenericCspSource=e.webviewRootResourceAuthority=e.webviewResourceBaseHost=void 0,e.webviewResourceBaseHost="vscode-cdn.net",e.webviewRootResourceAuthority=`vscode-resource.${e.webviewResourceBaseHost}`,e.webviewGenericCspSource=`'self' https://*.${e.webviewResourceBaseHost}`;function _(A,S){return A.scheme===n.Schemas.http||A.scheme===n.Schemas.https?A:(S&&S.authority&&S.isRemote&&A.scheme===n.Schemas.file&&(A=k.URI.from({scheme:n.Schemas.vscodeRemote,authority:S.authority,path:A.path})),k.URI.from({scheme:n.Schemas.https,authority:`${A.scheme}+${M(A.authority)}.${e.webviewRootResourceAuthority}`,path:A.path,fragment:A.fragment,query:A.query}))}e.asWebviewUri=_;function M(A){return A.replace(/./g,S=>{const C=S.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57?S:"-"+C.toString(16).padStart(4,"0")})}function I(A){return A.replace(/-([0-9a-f]{4})/g,(S,C)=>String.fromCharCode(parseInt(C,16)))}e.decodeAuthority=I}),define(De[175],Ie([1,0,5,7,68]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorInsets=void 0;class M{constructor(A,S,C){this._proxy=A,this._editors=S,this._remoteInfo=C,this._handlePool=0,this._disposables=new k.DisposableStore,this._insets=new Map,this._disposables.add(S.onDidChangeVisibleTextEditors(()=>{const R=S.getVisibleTextEditors();for(const y of this._insets.values())R.indexOf(y.editor)<0&&y.inset.dispose()}))}dispose(){this._insets.forEach(A=>A.inset.dispose()),this._disposables.dispose()}createWebviewEditorInset(A,S,C,R,y){let f;for(const E of this._editors.getVisibleTextEditors(!0))if(E.value===A){f=E;break}if(!f)throw new Error("not a visible editor");const v=this,h=this._handlePool++,i=new n.Emitter,o=new n.Emitter,u=new class{constructor(){this._html="",this._options=Object.create(null)}asWebviewUri(E){return(0,_.asWebviewUri)(E,v._remoteInfo)}get cspSource(){return _.webviewGenericCspSource}set options(E){this._options=E,v._proxy.$setOptions(h,E)}get options(){return this._options}set html(E){this._html=E,v._proxy.$setHtml(h,E)}get html(){return this._html}get onDidReceiveMessage(){return i.event}postMessage(E){return v._proxy.$postMessage(h,E)}},b=new class{constructor(){this.editor=A,this.line=S,this.height=C,this.webview=u,this.onDidDispose=o.event}dispose(){v._insets.has(h)&&(v._insets.delete(h),v._proxy.$disposeEditorInset(h),o.fire(),o.dispose(),i.dispose())}};return this._proxy.$createEditorInset(h,f.id,f.value.document.uri,S+1,C,R||{},y.identifier,y.extensionLocation),this._insets.set(h,{editor:A,inset:b,onDidReceiveMessage:i}),b}$onDidDispose(A){const S=this._insets.get(A);S&&S.inset.dispose()}$onDidReceiveMessage(A,S){this._insets.get(A)?.onDidReceiveMessage.fire(S)}}e.ExtHostEditorInsets=M}),define(De[176],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableError=e.VariableKind=e.IConfigurationResolverService=void 0,e.IConfigurationResolverService=(0,n.createDecorator)("configurationResolverService");var k;(function(M){M.Unknown="unknown",M.Env="env",M.Config="config",M.Command="command",M.Input="input",M.ExtensionInstallFolder="extensionInstallFolder",M.WorkspaceFolder="workspaceFolder",M.Cwd="cwd",M.WorkspaceFolderBasename="workspaceFolderBasename",M.UserHome="userHome",M.LineNumber="lineNumber",M.SelectedText="selectedText",M.File="file",M.FileWorkspaceFolder="fileWorkspaceFolder",M.RelativeFile="relativeFile",M.RelativeFileDirname="relativeFileDirname",M.FileDirname="fileDirname",M.FileExtname="fileExtname",M.FileBasename="fileBasename",M.FileBasenameNoExtension="fileBasenameNoExtension",M.FileDirnameBasename="fileDirnameBasename",M.ExecPath="execPath",M.ExecInstallFolder="execInstallFolder",M.PathSeparator="pathSeparator"})(k=e.VariableKind||(e.VariableKind={}));class _ extends Error{constructor(I,A){super(A),this.variable=I}}e.VariableError=_}),define(De[177],Ie([1,0,19,49,9,23,21,82,144,176,10]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableResolverService=void 0;class y{constructor(v,h,i,o){this._contributedVariables=new Map,this._context=v,this._labelService=h,this._userHomePromise=i,o&&(this._envVariablesPromise=o.then(u=>this.prepareEnv(u)))}prepareEnv(v){if(I.isWindows){const h=Object.create(null);return Object.keys(v).forEach(i=>{h[i.toLowerCase()]=v[i]}),h}return v}resolveWithEnvironment(v,h,i){return this.recursiveResolve({env:this.prepareEnv(v),userHome:void 0},h?h.uri:void 0,i)}async resolveAsync(v,h){const i={env:await this._envVariablesPromise,userHome:await this._userHomePromise};return this.recursiveResolve(i,v?v.uri:void 0,h)}async resolveAnyBase(v,h,i,o){const u=M.deepClone(h);I.isWindows&&u.windows?Object.keys(u.windows).forEach(E=>u[E]=u.windows[E]):I.isMacintosh&&u.osx?Object.keys(u.osx).forEach(E=>u[E]=u.osx[E]):I.isLinux&&u.linux&&Object.keys(u.linux).forEach(E=>u[E]=u.linux[E]),delete u.windows,delete u.osx,delete u.linux;const b={env:await this._envVariablesPromise,userHome:await this._userHomePromise};return this.recursiveResolve(b,v?v.uri:void 0,u,i,o)}async resolveAnyAsync(v,h,i){return this.resolveAnyBase(v,h,i)}async resolveAnyMap(v,h,i){const o=new Map;return{newConfig:await this.resolveAnyBase(v,h,i,o),resolvedVariables:o}}resolveWithInteractionReplace(v,h,i,o){throw new Error("resolveWithInteractionReplace not implemented.")}resolveWithInteraction(v,h,i,o){throw new Error("resolveWithInteraction not implemented.")}contributeVariable(v,h){if(this._contributedVariables.has(v))throw new Error("Variable "+v+" is contributed twice.");this._contributedVariables.set(v,h)}async recursiveResolve(v,h,i,o,u){if(_.isString(i))return this.resolveString(v,h,i,o,u);if(Array.isArray(i))return Promise.all(i.map(b=>this.recursiveResolve(v,h,b,o,u)));if(_.isObject(i)){const b=Object.create(null),E=await Promise.all(Object.keys(i).map(async g=>[await this.resolveString(v,h,g,o,u),await this.recursiveResolve(v,h,i[g],o,u)]));for(const[g,w]of E)b[g]=w;return b}return i}resolveString(v,h,i,o,u){return(0,R.replaceAsync)(i,y.VARIABLE_REGEXP,async(b,E)=>{if(E.includes(y.VARIABLE_LHS))return b;let g=await this.evaluateSingleVariable(v,b,E,h,o);return u?.set(E,g),g!==b&&_.isString(g)&&g.match(y.VARIABLE_REGEXP)&&(g=await this.resolveString(v,h,g,o,u)),g})}fsPath(v){return this._labelService?this._labelService.getUriLabel(v,{noPrefix:!0}):v.fsPath}async evaluateSingleVariable(v,h,i,o,u){let b;const E=i.split(":");E.length>1&&(i=E[0],b=E[1]);const g=r=>{const a=this._context.getFilePath();if(a)return a;throw new C.VariableError(r,(0,S.localize)(0,null,h))},w=r=>{const a=g(r);if(this._context.getWorkspaceFolderPathForFile){const d=this._context.getWorkspaceFolderPathForFile();if(d)return d}throw new C.VariableError(r,(0,S.localize)(1,null,h,n.basename(a)))},s=r=>{if(b){const a=this._context.getFolderUri(b);if(a)return a;throw new C.VariableError(r,(0,S.localize)(2,null,h,b))}if(o)return o;throw this._context.getWorkspaceFolderCount()>1?new C.VariableError(r,(0,S.localize)(3,null,h)):new C.VariableError(r,(0,S.localize)(4,null,h))};switch(i){case"env":if(b){if(v.env){const r=v.env[I.isWindows?b.toLowerCase():b];if(_.isString(r))return r}return""}throw new C.VariableError(C.VariableKind.Env,(0,S.localize)(5,null,h));case"config":if(b){const r=this._context.getConfigurationValue(o,b);if(_.isUndefinedOrNull(r))throw new C.VariableError(C.VariableKind.Config,(0,S.localize)(6,null,h,b));if(_.isObject(r))throw new C.VariableError(C.VariableKind.Config,(0,S.localize)(7,null,h,b));return r}throw new C.VariableError(C.VariableKind.Config,(0,S.localize)(8,null,h));case"command":return this.resolveFromMap(C.VariableKind.Command,h,b,u,"command");case"input":return this.resolveFromMap(C.VariableKind.Input,h,b,u,"input");case"extensionInstallFolder":if(b){const r=await this._context.getExtension(b);if(!r)throw new C.VariableError(C.VariableKind.ExtensionInstallFolder,(0,S.localize)(9,null,h,b));return this.fsPath(r.extensionLocation)}throw new C.VariableError(C.VariableKind.ExtensionInstallFolder,(0,S.localize)(10,null,h));default:switch(i){case"workspaceRoot":case"workspaceFolder":return(0,A.normalizeDriveLetter)(this.fsPath(s(C.VariableKind.WorkspaceFolder)));case"cwd":return o||b?(0,A.normalizeDriveLetter)(this.fsPath(s(C.VariableKind.Cwd))):k.cwd();case"workspaceRootFolderName":case"workspaceFolderBasename":return n.basename(this.fsPath(s(C.VariableKind.WorkspaceFolderBasename)));case"userHome":{if(v.userHome)return v.userHome;throw new C.VariableError(C.VariableKind.UserHome,(0,S.localize)(11,null,h))}case"lineNumber":{const r=this._context.getLineNumber();if(r)return r;throw new C.VariableError(C.VariableKind.LineNumber,(0,S.localize)(12,null,h))}case"selectedText":{const r=this._context.getSelectedText();if(r)return r;throw new C.VariableError(C.VariableKind.SelectedText,(0,S.localize)(13,null,h))}case"file":return g(C.VariableKind.File);case"fileWorkspaceFolder":return w(C.VariableKind.FileWorkspaceFolder);case"relativeFile":return o||b?n.relative(this.fsPath(s(C.VariableKind.RelativeFile)),g(C.VariableKind.RelativeFile)):g(C.VariableKind.RelativeFile);case"relativeFileDirname":{const r=n.dirname(g(C.VariableKind.RelativeFileDirname));if(o||b){const a=n.relative(this.fsPath(s(C.VariableKind.RelativeFileDirname)),r);return a.length===0?".":a}return r}case"fileDirname":return n.dirname(g(C.VariableKind.FileDirname));case"fileExtname":return n.extname(g(C.VariableKind.FileExtname));case"fileBasename":return n.basename(g(C.VariableKind.FileBasename));case"fileBasenameNoExtension":{const r=n.basename(g(C.VariableKind.FileBasenameNoExtension));return r.slice(0,r.length-n.extname(r).length)}case"fileDirnameBasename":return n.basename(n.dirname(g(C.VariableKind.FileDirnameBasename)));case"execPath":{const r=this._context.getExecPath();return r||h}case"execInstallFolder":{const r=this._context.getAppRoot();return r||h}case"pathSeparator":return n.sep;default:try{const r=b?`${i}:${b}`:i;return this.resolveFromMap(C.VariableKind.Unknown,h,r,u,void 0)}catch{return h}}}}resolveFromMap(v,h,i,o,u){if(i&&o){const b=u===void 0?o[i]:o[u+":"+i];if(typeof b=="string")return b;throw new C.VariableError(v,(0,S.localize)(14,null,h))}return h}}e.AbstractVariableResolverService=y,y.VARIABLE_LHS="${",y.VARIABLE_REGEXP=/\$\{(.*?)\}/g}),define(De[94],Ie([1,0,3,92]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferredSideBySideGroupDirection=e.isEditorGroup=e.OpenEditorContext=e.GroupsOrder=e.isEditorReplacement=e.MergeGroupMode=e.GroupsArrangement=e.GroupLocation=e.GroupOrientation=e.GroupDirection=e.IEditorGroupsService=void 0,e.IEditorGroupsService=(0,n.createDecorator)("editorGroupsService");var _;(function(h){h[h.UP=0]="UP",h[h.DOWN=1]="DOWN",h[h.LEFT=2]="LEFT",h[h.RIGHT=3]="RIGHT"})(_=e.GroupDirection||(e.GroupDirection={}));var M;(function(h){h[h.HORIZONTAL=0]="HORIZONTAL",h[h.VERTICAL=1]="VERTICAL"})(M=e.GroupOrientation||(e.GroupOrientation={}));var I;(function(h){h[h.FIRST=0]="FIRST",h[h.LAST=1]="LAST",h[h.NEXT=2]="NEXT",h[h.PREVIOUS=3]="PREVIOUS"})(I=e.GroupLocation||(e.GroupLocation={}));var A;(function(h){h[h.MAXIMIZE=0]="MAXIMIZE",h[h.EVEN=1]="EVEN",h[h.TOGGLE=2]="TOGGLE"})(A=e.GroupsArrangement||(e.GroupsArrangement={}));var S;(function(h){h[h.COPY_EDITORS=0]="COPY_EDITORS",h[h.MOVE_EDITORS=1]="MOVE_EDITORS"})(S=e.MergeGroupMode||(e.MergeGroupMode={}));function C(h){const i=h;return(0,k.isEditorInput)(i?.editor)&&(0,k.isEditorInput)(i?.replacement)}e.isEditorReplacement=C;var R;(function(h){h[h.CREATION_TIME=0]="CREATION_TIME",h[h.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",h[h.GRID_APPEARANCE=2]="GRID_APPEARANCE"})(R=e.GroupsOrder||(e.GroupsOrder={}));var y;(function(h){h[h.NEW_EDITOR=1]="NEW_EDITOR",h[h.MOVE_EDITOR=2]="MOVE_EDITOR",h[h.COPY_EDITOR=3]="COPY_EDITOR"})(y=e.OpenEditorContext||(e.OpenEditorContext={}));function f(h){const i=h;return!!i&&typeof i.id=="number"&&Array.isArray(i.editors)}e.isEditorGroup=f;function v(h){return h.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}e.preferredSideBySideGroupDirection=v}),define(De[178],Ie([1,0,3,94]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPreferredGroup=e.SIDE_GROUP=e.ACTIVE_GROUP=e.IEditorService=void 0,e.IEditorService=(0,n.createDecorator)("editorService"),e.ACTIVE_GROUP=-1,e.SIDE_GROUP=-2;function _(M){const I=M;return typeof M=="number"||(0,k.isEditorGroup)(I)}e.isPreferredGroup=_}),define(De[179],Ie([1,0,3,150]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkbenchEnvironmentService=void 0,e.IWorkbenchEnvironmentService=(0,n.refineServiceDecorator)(k.IEnvironmentService)}),define(De[180],Ie([1,0,26,5,19]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionDescriptionRegistry=e.DeltaExtensionsResult=void 0;class M{constructor(y){this.removedDueToLooping=y}}e.DeltaExtensionsResult=M;class I{constructor(y){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._extensionDescriptions=y,this._initialize()}_initialize(){this._extensionDescriptions.sort(S),this._extensionsMap=new Map,this._extensionsArr=[],this._activationMap=new Map;for(const y of this._extensionDescriptions){if(this._extensionsMap.has(n.ExtensionIdentifier.toKey(y.identifier))){console.error("Extension `"+y.identifier.value+"` is already registered");continue}if(this._extensionsMap.set(n.ExtensionIdentifier.toKey(y.identifier),y),this._extensionsArr.push(y),Array.isArray(y.activationEvents))for(let f of y.activationEvents)f==="onUri"&&(f=`onUri:${n.ExtensionIdentifier.toKey(y.identifier)}`),this._activationMap.has(f)||this._activationMap.set(f,[]),this._activationMap.get(f).push(y)}}set(y){this._extensionDescriptions=y,this._initialize(),this._onDidChange.fire(void 0)}deltaExtensions(y,f){this._extensionDescriptions=C(this._extensionDescriptions,f),this._extensionDescriptions=this._extensionDescriptions.concat(y);const v=I._findLoopingExtensions(this._extensionDescriptions);return this._extensionDescriptions=C(this._extensionDescriptions,v.map(h=>h.identifier)),this._initialize(),this._onDidChange.fire(void 0),new M(v)}static _findLoopingExtensions(y){const f=new class{constructor(){this._arcs=new Map,this._nodesSet=new Set,this._nodesArr=[]}addNode(u){this._nodesSet.has(u)||(this._nodesSet.add(u),this._nodesArr.push(u))}addArc(u,b){this.addNode(u),this.addNode(b),this._arcs.has(u)?this._arcs.get(u).push(b):this._arcs.set(u,[b])}getArcs(u){return this._arcs.has(u)?this._arcs.get(u):[]}hasOnlyGoodArcs(u,b){const E=f.getArcs(u);for(let g=0;g<E.length;g++)if(!b.has(E[g]))return!1;return!0}getNodes(){return this._nodesArr}},v=new Map;for(const u of y){const b=n.ExtensionIdentifier.toKey(u.identifier);if(v.set(b,u),u.extensionDependencies)for(const E of u.extensionDependencies){const g=n.ExtensionIdentifier.toKey(E);f.addArc(b,g)}}const h=new Set;f.getNodes().filter(u=>f.getArcs(u).length===0).forEach(u=>h.add(u));const i=f.getNodes().filter(u=>!h.has(u));let o;do{o=!1;for(let u=0;u<i.length;u++){const b=i[u];f.hasOnlyGoodArcs(b,h)&&(i.splice(u,1),u--,h.add(b),o=!0)}}while(o);return i.map(u=>v.get(u))}containsActivationEvent(y){return this._activationMap.has(y)}containsExtension(y){return this._extensionsMap.has(n.ExtensionIdentifier.toKey(y))}getExtensionDescriptionsForActivationEvent(y){const f=this._activationMap.get(y);return f?f.slice(0):[]}getAllExtensionDescriptions(){return this._extensionsArr.slice(0)}getExtensionDescription(y){const f=this._extensionsMap.get(n.ExtensionIdentifier.toKey(y));return f||void 0}getExtensionDescriptionByUUID(y){for(const f of this._extensionsArr)if(f.uuid===y)return f}getExtensionDescriptionByIdOrUUID(y,f){return this.getExtensionDescription(y)??(f?this.getExtensionDescriptionByUUID(f):void 0)}}e.ExtensionDescriptionRegistry=I;var A;(function(R){R[R.Builtin=0]="Builtin",R[R.User=1]="User",R[R.Dev=2]="Dev"})(A||(A={}));function S(R,y){const f=R.isBuiltin?0:R.isUnderDevelopment?2:1,v=y.isBuiltin?0:y.isUnderDevelopment?2:1;if(f!==v)return f-v;const h=_.posix.basename(R.extensionLocation.path),i=_.posix.basename(y.extensionLocation.path);return h<i?-1:h>i?1:0}function C(R,y){const f=new Set;return y.forEach(v=>f.add(n.ExtensionIdentifier.toKey(v))),R.filter(v=>!f.has(n.ExtensionIdentifier.toKey(v.identifier)))}}),define(De[69],Ie([1,0,24]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeLogMarkers=e.isMessageOfType=e.createMessageOfType=e.MessageType=e.ExtensionHostExitCode=e.UIKind=void 0;var k;(function(C){C[C.Desktop=1]="Desktop",C[C.Web=2]="Web"})(k=e.UIKind||(e.UIKind={}));var _;(function(C){C[C.VersionMismatch=55]="VersionMismatch",C[C.UnexpectedError=81]="UnexpectedError"})(_=e.ExtensionHostExitCode||(e.ExtensionHostExitCode={}));var M;(function(C){C[C.Initialized=0]="Initialized",C[C.Ready=1]="Ready",C[C.Terminate=2]="Terminate"})(M=e.MessageType||(e.MessageType={}));function I(C){const R=n.VSBuffer.alloc(1);switch(C){case 0:R.writeUInt8(1,0);break;case 1:R.writeUInt8(2,0);break;case 2:R.writeUInt8(3,0);break}return R}e.createMessageOfType=I;function A(C,R){if(C.byteLength!==1)return!1;switch(C.readUInt8(0)){case 1:return R===0;case 2:return R===1;case 3:return R===2;default:return!1}}e.isMessageOfType=A;var S;(function(C){C.Start="START_NATIVE_LOG",C.End="END_NATIVE_LOG"})(S=e.NativeLogMarkers||(e.NativeLogMarkers={}))}),define(De[70],Ie([1,0,3,5,12,27,69,48,91,23,2]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostTelemetry=e.isNewAppInstall=e.ExtHostTelemetryLogger=e.ExtHostTelemetry=void 0;let y=class{constructor(i,o){this.initData=i,this._onDidChangeTelemetryEnabled=new k.Emitter,this.onDidChangeTelemetryEnabled=this._onDidChangeTelemetryEnabled.event,this._onDidChangeTelemetryConfiguration=new k.Emitter,this.onDidChangeTelemetryConfiguration=this._onDidChangeTelemetryConfiguration.event,this._productConfig={usage:!0,error:!0},this._level=0,this._inLoggingOnlyMode=!1,this._telemetryLoggers=new Map,this._outputLogger=o.createLogger(R.URI.revive(this.initData.environment.extensionTelemetryLogResource)),this._outputLogger.info("Below are logs for extension telemetry events sent to the telemetry output channel API once the log level is set to trace."),this._outputLogger.info("===========================================================")}getTelemetryConfiguration(){return this._level===3}getTelemetryDetails(){return{isCrashEnabled:this._level>=1,isErrorsEnabled:this._productConfig.error?this._level>=2:!1,isUsageEnabled:this._productConfig.usage?this._level>=3:!1}}instantiateLogger(i,o){const u=this.getTelemetryDetails(),b=new f(o,i,this._outputLogger,this._inLoggingOnlyMode,this.getBuiltInCommonProperties(i),{isUsageEnabled:u.isUsageEnabled,isErrorsEnabled:u.isErrorsEnabled});return this._telemetryLoggers.set(i.identifier.value,b),b.apiTelemetryLogger}$initializeTelemetryLevel(i,o,u){this._level=i,this._inLoggingOnlyMode=o,this._productConfig=u??{usage:!0,error:!0}}getBuiltInCommonProperties(i){const o={};switch(o["common.extname"]=i.name,o["common.extversion"]=i.version,o["common.vscodemachineid"]=this.initData.telemetryInfo.machineId,o["common.vscodesessionid"]=this.initData.telemetryInfo.sessionId,o["common.vscodeversion"]=this.initData.version,o["common.isnewappinstall"]=v(this.initData.telemetryInfo.firstSessionDate),o["common.product"]=this.initData.environment.appHost,this.initData.uiKind){case I.UIKind.Web:o["common.uikind"]="web";break;case I.UIKind.Desktop:o["common.uikind"]="desktop";break;default:o["common.uikind"]="unknown"}return o["common.remotename"]=(0,A.getRemoteName)((0,S.cleanRemoteAuthority)(this.initData.remote.authority)),o}$onDidChangeTelemetryLevel(i){this._oldTelemetryEnablement=this.getTelemetryConfiguration(),this._level=i;const o=this.getTelemetryDetails();this._telemetryLoggers.forEach(u=>{u.updateTelemetryEnablements(o.isUsageEnabled,o.isErrorsEnabled)}),this._oldTelemetryEnablement!==this.getTelemetryConfiguration()&&this._onDidChangeTelemetryEnabled.fire(this.getTelemetryConfiguration()),this._onDidChangeTelemetryConfiguration.fire(this.getTelemetryDetails())}onExtensionError(i,o){const u=this._telemetryLoggers.get(i.value);return u?(u.logError(o),!0):!1}};y=Ve([We(0,M.IExtHostInitDataService),We(1,_.ILoggerService)],y),e.ExtHostTelemetry=y;class f{constructor(i,o,u,b,E,g){this._extension=o,this._logger=u,this._inLoggingOnlyMode=b,this._commonProperties=E,this._onDidChangeEnableStates=new k.Emitter,this._appender=i,this._telemetryEnablements={isUsageEnabled:g.isUsageEnabled,isErrorsEnabled:g.isErrorsEnabled}}updateTelemetryEnablements(i,o){this._apiObject&&(this._telemetryEnablements={isUsageEnabled:i,isErrorsEnabled:o},this._onDidChangeEnableStates.fire(this._apiObject))}mixInCommonPropsAndCleanData(i){let o=i.properties??i;return o=(0,S.cleanData)(o,[]),this._appender.additionalCommonProperties&&(o=(0,C.mixin)(o,this._appender.additionalCommonProperties)),this._appender.ignoreBuiltInCommonProperties||(o=(0,C.mixin)(o,this._commonProperties)),i.properties?i.properties=o:i=o,i}logEvent(i,o){this._extension.publisher==="vscode"?i=this._extension.name+"/"+i:i=this._extension.identifier.value+"/"+i,o=this.mixInCommonPropsAndCleanData(o||{}),this._inLoggingOnlyMode||this._appender.logEvent(i,o),this._logger.trace(i,o)}logUsage(i,o){!this._telemetryEnablements.isUsageEnabled||this.logEvent(i,o)}logError(i,o){!this._telemetryEnablements.isErrorsEnabled||(typeof i=="string"?this.logEvent(i,o):this._appender.logException(i,o))}get apiTelemetryLogger(){if(!this._apiObject){const i=this,o={logUsage:i.logUsage.bind(i),get isUsageEnabled(){return i._telemetryEnablements.isUsageEnabled},get isErrorsEnabled(){return i._telemetryEnablements.isErrorsEnabled},logError:i.logError.bind(i),dispose:i.dispose.bind(i),onDidChangeEnableStates:i._onDidChangeEnableStates.event.bind(i)};this._apiObject=Object.freeze(o)}return this._apiObject}dispose(){this._appender?.flush&&this._appender.flush()}}e.ExtHostTelemetryLogger=f;function v(h){const i=Date.now()-new Date(h).getTime();return isNaN(i)?!1:i<1e3*60*60*24}e.isNewAppInstall=v,e.IExtHostTelemetry=(0,n.createDecorator)("IExtHostTelemetry")}),define(De[25],Ie([1,0,5,2,3,26,157]),function(te,e,n,k,_,M,I){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.NullExtensionService=e.toExtensionDescription=e.toExtension=e.ActivationKind=e.webWorkerExtHostLog=e.remoteExtHostLog=e.localExtHostLog=e.ExtensionHostLogFileName=e.ExtensionPointContribution=e.ActivationTimes=e.checkProposedApiEnabled=e.isProposedApiEnabled=e.extensionIdentifiersArrayToSet=e.ExtensionIdentifierSet=e.ExtensionHostExtensions=e.extensionHostKindToString=e.ExtensionHostKind=e.MissingExtensionDependency=e.RemoteRunningLocation=e.LocalWebWorkerRunningLocation=e.LocalProcessRunningLocation=e.IExtensionService=e.webWorkerExtHostConfig=e.nullExtensionDescription=void 0,e.nullExtensionDescription=Object.freeze({identifier:new M.ExtensionIdentifier("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",engines:{vscode:""},extensionLocation:k.URI.parse("void:location"),isBuiltin:!1,targetPlatform:"undefined",isUserBuiltin:!1,isUnderDevelopment:!1}),e.webWorkerExtHostConfig="extensions.webWorker",e.IExtensionService=(0,_.createDecorator)("extensionService");class S{constructor(c){this.affinity=c,this.kind=1}equals(c){return this.kind===c.kind&&this.affinity===c.affinity}asString(){return this.affinity===0?"LocalProcess":`LocalProcess${this.affinity}`}}e.LocalProcessRunningLocation=S;class C{constructor(c){this.affinity=c,this.kind=2}equals(c){return this.kind===c.kind&&this.affinity===c.affinity}asString(){return this.affinity===0?"LocalWebWorker":`LocalWebWorker${this.affinity}`}}e.LocalWebWorkerRunningLocation=C;class R{constructor(){this.kind=3,this.affinity=0}equals(c){return this.kind===c.kind}asString(){return"Remote"}}e.RemoteRunningLocation=R;class y{constructor(c){this.dependency=c}}e.MissingExtensionDependency=y;var f;(function(l){l[l.LocalProcess=1]="LocalProcess",l[l.LocalWebWorker=2]="LocalWebWorker",l[l.Remote=3]="Remote"})(f=e.ExtensionHostKind||(e.ExtensionHostKind={}));function v(l){if(l===null)return"None";switch(l){case 1:return"LocalProcess";case 2:return"LocalWebWorker";case 3:return"Remote"}}e.extensionHostKindToString=v;class h{constructor(){this._allExtensions=[],this._myExtensions=[]}toDelta(){return{toRemove:[],toAdd:this._allExtensions,myToRemove:[],myToAdd:this._myExtensions}}set(c,t){const m=[],p=[],P=[],L=[],V=u(this._allExtensions),H=u(c),W=(B,z)=>B.extensionLocation.toString()===z.extensionLocation.toString()||B.isBuiltin===z.isBuiltin||B.isUserBuiltin===z.isUserBuiltin||B.isUnderDevelopment===z.isUnderDevelopment;for(const B of this._allExtensions){const z=H.get(M.ExtensionIdentifier.toKey(B.identifier));if(!z){m.push(B.identifier),V.delete(M.ExtensionIdentifier.toKey(B.identifier));continue}if(!W(B,z)){m.push(B.identifier),V.delete(M.ExtensionIdentifier.toKey(B.identifier));continue}}for(const B of c){const z=V.get(M.ExtensionIdentifier.toKey(B.identifier));if(!z){p.push(B);continue}if(!W(z,B)){m.push(z.identifier),V.delete(M.ExtensionIdentifier.toKey(z.identifier));continue}}const T=o(this._myExtensions),F=o(t);for(const B of this._myExtensions)F.has(M.ExtensionIdentifier.toKey(B))||P.push(B);for(const B of t)T.has(M.ExtensionIdentifier.toKey(B))||L.push(B);const O={toRemove:m,toAdd:p,myToRemove:P,myToAdd:L};return this.delta(O),O}delta(c){const{toRemove:t,toAdd:m,myToRemove:p,myToAdd:P}=c,L=o(t),V=o(p);for(let H=0;H<this._allExtensions.length;H++)L.has(M.ExtensionIdentifier.toKey(this._allExtensions[H].identifier))&&(this._allExtensions.splice(H,1),H--);for(let H=0;H<this._myExtensions.length;H++)V.has(M.ExtensionIdentifier.toKey(this._myExtensions[H]))&&(this._myExtensions.splice(H,1),H--);for(const H of m)this._allExtensions.push(H);for(const H of P)this._myExtensions.push(H)}containsExtension(c){for(const t of this._myExtensions)if(M.ExtensionIdentifier.equals(t,c))return!0;return!1}}e.ExtensionHostExtensions=h;class i{constructor(c){if(this[A]="ExtensionIdentifierSet",this._map=new Map,this._toKey=M.ExtensionIdentifier.toKey,c)for(const t of c)this.add(t)}get size(){return this._map.size}add(c){return this._map.set(this._toKey(c),c),this}clear(){this._map.clear()}delete(c){return this._map.delete(this._toKey(c))}has(c){return this._map.has(this._toKey(c))}forEach(c,t){this._map.forEach(m=>c.call(t,m,m,this))}*entries(){for(const[c,t]of this._map)yield[t,t]}keys(){return this._map.values()}values(){return this._map.values()}[(A=Symbol.toStringTag,Symbol.iterator)](){return this._map.values()}}e.ExtensionIdentifierSet=i;function o(l){const c=new Set;for(const t of l)c.add(M.ExtensionIdentifier.toKey(t));return c}e.extensionIdentifiersArrayToSet=o;function u(l){const c=new Map;for(const t of l)c.set(M.ExtensionIdentifier.toKey(t.identifier),t);return c}function b(l,c){return l.enabledApiProposals?l.enabledApiProposals.includes(c):!1}e.isProposedApiEnabled=b;function E(l,c){if(!b(l,c))throw new Error(`Extension '${l.identifier.value}' CANNOT use API proposal: ${c}.
Its package.json#enabledApiProposals-property declares: ${l.enabledApiProposals?.join(", ")??"[]"} but NOT ${c}.
 The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${l.identifier.value}`)}e.checkProposedApiEnabled=E;class g{constructor(c,t,m,p){this.codeLoadingTime=c,this.activateCallTime=t,this.activateResolvedTime=m,this.activationReason=p}}e.ActivationTimes=g;class w{constructor(c,t){this.description=c,this.value=t}}e.ExtensionPointContribution=w,e.ExtensionHostLogFileName="exthost",e.localExtHostLog="extHostLog",e.remoteExtHostLog="remoteExtHostLog",e.webWorkerExtHostLog="webWorkerExtHostLog";var s;(function(l){l[l.Normal=0]="Normal",l[l.Immediate=1]="Immediate"})(s=e.ActivationKind||(e.ActivationKind={}));function r(l){return{type:l.isBuiltin?0:1,isBuiltin:l.isBuiltin||l.isUserBuiltin,identifier:{id:(0,I.getGalleryExtensionId)(l.publisher,l.name),uuid:l.uuid},manifest:l,location:l.extensionLocation,targetPlatform:l.targetPlatform,validations:[],isValid:!0}}e.toExtension=r;function a(l,c){return{identifier:new M.ExtensionIdentifier((0,I.getExtensionId)(l.manifest.publisher,l.manifest.name)),isBuiltin:l.type===0,isUserBuiltin:l.type===1&&l.isBuiltin,isUnderDevelopment:!!c,extensionLocation:l.location,...l.manifest,uuid:l.identifier.uuid,targetPlatform:l.targetPlatform,browserNlsBundleUris:l.browserNlsBundleUris}}e.toExtensionDescription=a;class d{constructor(){this.onDidRegisterExtensions=n.Event.None,this.onDidChangeExtensionsStatus=n.Event.None,this.onDidChangeExtensions=n.Event.None,this.onWillActivateByEvent=n.Event.None,this.onDidChangeResponsiveChange=n.Event.None,this.extensions=[]}activateByEvent(c){return Promise.resolve(void 0)}activationEventIsDone(c){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(c){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(c,t){return Promise.resolve(0)}getInspectPorts(c,t){return Promise.resolve([])}stopExtensionHosts(){}async restartExtensionHost(){}async startExtensionHosts(){}async setRemoteEnvironment(c){}canAddExtension(){return!1}canRemoveExtension(){return!1}}e.NullExtensionService=d}),define(De[181],Ie([1,0,11,26,25,12,15]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsActivator=e.HostExtension=e.EmptyExtension=e.ActivatedExtension=e.ExtensionActivationTimesBuilder=e.ExtensionActivationTimes=void 0;class A{constructor(o,u,b,E){this.startup=o,this.codeLoadingTime=u,this.activateCallTime=b,this.activateResolvedTime=E}}e.ExtensionActivationTimes=A,A.NONE=new A(!1,-1,-1,-1);class S{constructor(o){this._startup=o,this._codeLoadingStart=-1,this._codeLoadingStop=-1,this._activateCallStart=-1,this._activateCallStop=-1,this._activateResolveStart=-1,this._activateResolveStop=-1}_delta(o,u){return o===-1||u===-1?-1:u-o}build(){return new A(this._startup,this._delta(this._codeLoadingStart,this._codeLoadingStop),this._delta(this._activateCallStart,this._activateCallStop),this._delta(this._activateResolveStart,this._activateResolveStop))}codeLoadingStart(){this._codeLoadingStart=Date.now()}codeLoadingStop(){this._codeLoadingStop=Date.now()}activateCallStart(){this._activateCallStart=Date.now()}activateCallStop(){this._activateCallStop=Date.now()}activateResolveStart(){this._activateResolveStart=Date.now()}activateResolveStop(){this._activateResolveStop=Date.now()}}e.ExtensionActivationTimesBuilder=S;class C{constructor(o,u,b,E,g,w){this.activationFailed=o,this.activationFailedError=u,this.activationTimes=b,this.module=E,this.exports=g,this.subscriptions=w}}e.ActivatedExtension=C;class R extends C{constructor(o){super(!1,null,o,{activate:void 0,deactivate:void 0},void 0,[])}}e.EmptyExtension=R;class y extends C{constructor(){super(!1,null,A.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}e.HostExtension=y;class f extends C{constructor(o){super(!0,o,A.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}let v=class{constructor(o,u,b,E,g){this._logService=g,this._registry=o,this._resolvedExtensionsSet=new Set,u.forEach(w=>this._resolvedExtensionsSet.add(k.ExtensionIdentifier.toKey(w))),this._externalExtensionsMap=new Map,b.forEach(w=>this._externalExtensionsMap.set(k.ExtensionIdentifier.toKey(w),w)),this._host=E,this._operations=new Map,this._alreadyActivatedEvents=Object.create(null)}dispose(){for(const[o,u]of this._operations)u.dispose()}isActivated(o){const u=this._operations.get(k.ExtensionIdentifier.toKey(o));return Boolean(u&&u.value)}getActivatedExtension(o){const u=this._operations.get(k.ExtensionIdentifier.toKey(o));if(!u||!u.value)throw new Error(`Extension '${o.value}' is not known or not activated`);return u.value}async activateByEvent(o,u){if(this._alreadyActivatedEvents[o])return;const b=this._registry.getExtensionDescriptionsForActivationEvent(o);await this._activateExtensions(b.map(E=>({id:E.identifier,reason:{startup:u,extensionId:E.identifier,activationEvent:o}}))),this._alreadyActivatedEvents[o]=!0}activateById(o,u){const b=this._registry.getExtensionDescription(o);if(!b)throw new Error(`Extension '${o}' is not known`);return this._activateExtensions([{id:b.identifier,reason:u}])}async _activateExtensions(o){const u=o.filter(b=>!this.isActivated(b.id)).map(b=>this._handleActivationRequest(b));await Promise.all(u.map(b=>b.wait()))}_handleActivationRequest(o){if(this._operations.has(k.ExtensionIdentifier.toKey(o.id)))return this._operations.get(k.ExtensionIdentifier.toKey(o.id));if(this._externalExtensionsMap.has(k.ExtensionIdentifier.toKey(o.id)))return this._createAndSaveOperation(o,null,[],null);const u=this._registry.getExtensionDescription(o.id);if(!u){const g=new Error(`Cannot activate unknown extension '${o.id.value}'`),w=this._createAndSaveOperation(o,null,[],new f(g));return this._host.onExtensionActivationError(o.id,g,new _.MissingExtensionDependency(o.id.value)),w}const b=[],E=typeof u.extensionDependencies>"u"?[]:u.extensionDependencies;for(const g of E){if(this._resolvedExtensionsSet.has(k.ExtensionIdentifier.toKey(g)))continue;const w=this._operations.get(k.ExtensionIdentifier.toKey(g));if(w){b.push(w);continue}if(this._externalExtensionsMap.has(k.ExtensionIdentifier.toKey(g))){b.push(this._handleActivationRequest({id:this._externalExtensionsMap.get(k.ExtensionIdentifier.toKey(g)),reason:o.reason}));continue}const s=this._registry.getExtensionDescription(g);if(s){if(!s.main&&!s.browser)continue;b.push(this._handleActivationRequest({id:s.identifier,reason:o.reason}));continue}const r=u.displayName||u.identifier.value,a=new Error(`Cannot activate the '${r}' extension because it depends on unknown extension '${g}'`),d=this._createAndSaveOperation(o,u.displayName,[],new f(a));return this._host.onExtensionActivationError(u.identifier,a,new _.MissingExtensionDependency(g)),d}return this._createAndSaveOperation(o,u.displayName,b,null)}_createAndSaveOperation(o,u,b,E){const g=new h(o.id,u,o.reason,b,E,this._host,this._logService);return this._operations.set(k.ExtensionIdentifier.toKey(o.id),g),g}};v=Ve([We(4,M.ILogService)],v),e.ExtensionsActivator=v;let h=class{get value(){return this._value}get friendlyName(){return this._displayName||this._id.value}constructor(o,u,b,E,g,w,s){this._id=o,this._displayName=u,this._reason=b,this._deps=E,this._value=g,this._host=w,this._logService=s,this._barrier=new I.Barrier,this._isDisposed=!1,this._initialize()}dispose(){this._isDisposed=!0}wait(){return this._barrier.wait()}async _initialize(){await this._waitForDepsThenActivate(),this._barrier.open()}async _waitForDepsThenActivate(){if(!this._value){for(;this._deps.length>0;){for(let o=0;o<this._deps.length;o++){const u=this._deps[o];if(u.value&&!u.value.activationFailed){this._deps.splice(o,1),o--;continue}if(u.value&&u.value.activationFailed){const b=new Error(`Cannot activate the '${this.friendlyName}' extension because its dependency '${u.friendlyName}' failed to activate`);b.detail=u.value.activationFailedError,this._value=new f(b),this._host.onExtensionActivationError(this._id,b,null);return}}this._deps.length>0&&await Promise.race(this._deps.map(o=>o.wait()))}await this._activate()}}async _activate(){try{this._value=await this._host.actualActivateExtension(this._id,this._reason)}catch(o){const u=new Error;if(o&&o.name&&(u.name=o.name),o&&o.message?u.message=`Activating extension '${this._id.value}' failed: ${o.message}.`:u.message=`Activating extension '${this._id.value}' failed: ${o}.`,o&&o.stack&&(u.stack=o.stack),this._value=new f(u),this._isDisposed&&n.isCancellationError(o))return;this._host.onExtensionActivationError(this._id,u,null),this._logService.error(`Activating extension ${this._id.value} failed due to an error:`),this._logService.error(o)}}};h=Ve([We(6,M.ILogService)],h)}),define(De[182],Ie([1,0,12,27,25]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLogService=void 0;let M=class extends n.LogService{constructor(A,S){super(A.createLogger(S.logFile,{name:_.ExtensionHostLogFileName}))}};M=Ve([We(0,n.ILoggerService),We(1,k.IExtHostInitDataService)],M),e.ExtHostLogService=M});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[6],Ie([1,0,16,11,81,28,61,10,9,2,34,36,90,66,25]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h){"use strict";var i,o,u,b,E,g,w,s,r,a,d,l,c,t,m,p,P,L,V,H,W,T,F;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractiveWindowInput=e.TerminalEditorTabInput=e.NotebookDiffEditorTabInput=e.NotebookEditorTabInput=e.WebviewEditorTabInput=e.CustomEditorTabInput=e.TextMergeTabInput=e.TextDiffTabInput=e.TextTabInput=e.TypeHierarchyItem=e.PortAutoForwardAction=e.WorkspaceTrustState=e.ExternalUriOpenerPriority=e.FunctionCoverage=e.BranchCoverage=e.StatementCoverage=e.FileCoverage=e.CoveredCount=e.TestTag=e.TestMessage=e.TestRunRequest=e.TestRunProfileKind=e.TestResultState=e.PortAttributes=e.LinkedEditingRanges=e.StandardTokenType=e.ExtensionRuntime=e.ExtensionMode=e.TimelineItem=e.NotebookKernelSourceAction=e.NotebookRendererScript=e.NotebookControllerAffinity2=e.NotebookControllerAffinity=e.NotebookCellStatusBarItem=e.NotebookEditorRevealType=e.NotebookCellStatusBarAlignment=e.NotebookCellExecutionState=e.NotebookCellKind=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookData=e.NotebookCellData=e.NotebookRange=e.ColorThemeKind=e.ColorTheme=e.FileDecoration=e.ExtensionKind=e.InputBoxValidationSeverity=e.QuickPickItemKind=e.QuickInputButtons=e.DebugConsoleMode=e.SemanticTokensEdits=e.SemanticTokensEdit=e.SemanticTokens=e.SemanticTokensBuilder=e.SemanticTokensLegend=e.CommentThreadState=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.FoldingRange=e.FileSystemError=e.FileChangeType=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.InlineCompletionTriggerKind=e.EvaluatableExpression=e.DebugAdapterInlineImplementation=e.DebugAdapterNamedPipeServer=e.DebugAdapterServer=e.DebugAdapterExecutable=e.DataBreakpoint=e.FunctionBreakpoint=e.SourceBreakpoint=e.Breakpoint=e.RelativePattern=e.ConfigurationTarget=e.ThemeColor=e.ThemeIcon=e.DocumentPasteEdit=e.DocumentDropEdit=e.DataTransfer=e.DataTransferItem=e.TreeItemCheckboxState=e.TreeItemCollapsibleState=e.TreeItem=e.ViewBadge=e.ProgressLocation=e.Task=e.CustomExecution=e.TaskScope=e.ShellQuoting=e.ShellExecution=e.ProcessExecution=e.TaskGroup=e.TaskPanelKind=e.TaskRevealKind=e.TerminalProfile=e.TerminalLocation=e.TerminalLink=e.TerminalExitReason=e.SourceControlInputBoxValidationType=e.ColorFormat=e.ColorPresentation=e.ColorInformation=e.Color=e.DocumentLink=e.DecorationRangeBehavior=e.TextDocumentChangeReason=e.TextEditorSelectionChangeKind=e.TextEditorRevealType=e.TextDocumentSaveReason=e.TextEditorLineNumbersStyle=e.StatusBarAlignment=e.ViewColumn=e.InlineSuggestionList=e.InlineSuggestion=e.CompletionList=e.CompletionItem=e.CompletionItemTag=e.CompletionItemKind=e.CompletionTriggerKind=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.SignatureHelpTriggerKind=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.MarkdownString=e.CodeLens=e.LanguageStatusSeverity=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.SelectionRange=e.CodeActionKind=e.CodeAction=e.CodeActionTriggerKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.Hover=e.Diagnostic=e.DiagnosticRelatedInformation=e.Location=e.DiagnosticSeverity=e.DiagnosticTag=e.SnippetString=e.WorkspaceEdit=e.FileEditType=e.SnippetTextEdit=e.NotebookEdit=e.TextEdit=e.EnvironmentVariableMutatorType=e.EndOfLine=e.RemoteAuthorityResolverError=e.ResolvedAuthority=e.Selection=e.Range=e.Position=e.Disposable=e.TerminalQuickFixType=e.TerminalOutputAnchor=void 0;function O(x){return Object.assign(x,{apply:function(){const ie=arguments.length===1?[]:arguments[1];return Reflect.construct(x,ie,arguments[0].constructor)},call:function(){if(arguments.length===0)return Reflect.construct(x,[]);{const[ie,...be]=arguments;return Reflect.construct(x,be,ie.constructor)}}})}var B;(function(x){x.top="top",x.bottom="bottom"})(B=e.TerminalOutputAnchor||(e.TerminalOutputAnchor={}));var z;(function(x){x.command="command",x.opener="opener"})(z=e.TerminalQuickFixType||(e.TerminalQuickFixType={}));let j=g=class{static from(...U){let ie=U;return new g(function(){if(ie){for(const be of ie)be&&typeof be.dispose=="function"&&be.dispose();ie=void 0}})}constructor(U){i.set(this,void 0),Ye(this,i,U,"f")}dispose(){typeof Ae(this,i,"f")=="function"&&(Ae(this,i,"f").call(this),Ye(this,i,void 0,"f"))}};i=new WeakMap,j=g=Ve([O],j),e.Disposable=j;let G=w=class{static Min(...U){if(U.length===0)throw new TypeError;let ie=U[0];for(let be=1;be<U.length;be++){const je=U[be];je.isBefore(ie)&&(ie=je)}return ie}static Max(...U){if(U.length===0)throw new TypeError;let ie=U[0];for(let be=1;be<U.length;be++){const je=U[be];je.isAfter(ie)&&(ie=je)}return ie}static isPosition(U){if(!U)return!1;if(U instanceof w)return!0;const{line:ie,character:be}=U;return typeof ie=="number"&&typeof be=="number"}static of(U){if(U instanceof w)return U;if(this.isPosition(U))return new w(U.line,U.character);throw new Error("Invalid argument, is NOT a position-like object")}get line(){return this._line}get character(){return this._character}constructor(U,ie){if(U<0)throw(0,k.illegalArgument)("line must be non-negative");if(ie<0)throw(0,k.illegalArgument)("character must be non-negative");this._line=U,this._character=ie}isBefore(U){return this._line<U._line?!0:U._line<this._line?!1:this._character<U._character}isBeforeOrEqual(U){return this._line<U._line?!0:U._line<this._line?!1:this._character<=U._character}isAfter(U){return!this.isBeforeOrEqual(U)}isAfterOrEqual(U){return!this.isBefore(U)}isEqual(U){return this._line===U._line&&this._character===U._character}compareTo(U){return this._line<U._line?-1:this._line>U.line?1:this._character<U._character?-1:this._character>U._character?1:0}translate(U,ie=0){if(U===null||ie===null)throw(0,k.illegalArgument)();let be;return typeof U>"u"?be=0:typeof U=="number"?be=U:(be=typeof U.lineDelta=="number"?U.lineDelta:0,ie=typeof U.characterDelta=="number"?U.characterDelta:0),be===0&&ie===0?this:new w(this.line+be,this.character+ie)}with(U,ie=this.character){if(U===null||ie===null)throw(0,k.illegalArgument)();let be;return typeof U>"u"?be=this.line:typeof U=="number"?be=U:(be=typeof U.line=="number"?U.line:this.line,ie=typeof U.character=="number"?U.character:this.character),be===this.line&&ie===this.character?this:new w(be,ie)}toJSON(){return{line:this.line,character:this.character}}};G=w=Ve([O],G),e.Position=G;let Z=s=class{static isRange(U){return U instanceof s?!0:U?G.isPosition(U.start)&&G.isPosition(U.end):!1}static of(U){if(U instanceof s)return U;if(this.isRange(U))return new s(U.start,U.end);throw new Error("Invalid argument, is NOT a range-like object")}get start(){return this._start}get end(){return this._end}constructor(U,ie,be,je){let Qe,ot;if(typeof U=="number"&&typeof ie=="number"&&typeof be=="number"&&typeof je=="number"?(Qe=new G(U,ie),ot=new G(be,je)):G.isPosition(U)&&G.isPosition(ie)&&(Qe=G.of(U),ot=G.of(ie)),!Qe||!ot)throw new Error("Invalid arguments");Qe.isBefore(ot)?(this._start=Qe,this._end=ot):(this._start=ot,this._end=Qe)}contains(U){return s.isRange(U)?this.contains(U.start)&&this.contains(U.end):G.isPosition(U)?!(G.of(U).isBefore(this._start)||this._end.isBefore(U)):!1}isEqual(U){return this._start.isEqual(U._start)&&this._end.isEqual(U._end)}intersection(U){const ie=G.Max(U.start,this._start),be=G.Min(U.end,this._end);if(!ie.isAfter(be))return new s(ie,be)}union(U){if(this.contains(U))return this;if(U.contains(this))return U;const ie=G.Min(U.start,this._start),be=G.Max(U.end,this.end);return new s(ie,be)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(U,ie=this.end){if(U===null||ie===null)throw(0,k.illegalArgument)();let be;return U?G.isPosition(U)?be=U:(be=U.start||this.start,ie=U.end||this.end):be=this.start,be.isEqual(this._start)&&ie.isEqual(this.end)?this:new s(be,ie)}toJSON(){return[this.start,this.end]}};Z=s=Ve([O],Z),e.Range=Z;let he=r=class extends Z{static isSelection(U){return U instanceof r?!0:U?Z.isRange(U)&&G.isPosition(U.anchor)&&G.isPosition(U.active)&&typeof U.isReversed=="boolean":!1}get anchor(){return this._anchor}get active(){return this._active}constructor(U,ie,be,je){let Qe,ot;if(typeof U=="number"&&typeof ie=="number"&&typeof be=="number"&&typeof je=="number"?(Qe=new G(U,ie),ot=new G(be,je)):G.isPosition(U)&&G.isPosition(ie)&&(Qe=G.of(U),ot=G.of(ie)),!Qe||!ot)throw new Error("Invalid arguments");super(Qe,ot),this._anchor=Qe,this._active=ot}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};he=r=Ve([O],he),e.Selection=he;class oe{constructor(U,ie,be){if(typeof U!="string"||U.length===0)throw(0,k.illegalArgument)("host");if(typeof ie!="number"||ie===0||Math.round(ie)!==ie)throw(0,k.illegalArgument)("port");if(typeof be<"u"&&(typeof be!="string"||be.length===0||!/^[0-9A-Za-z_\-]+$/.test(be)))throw(0,k.illegalArgument)("connectionToken");this.host=U,this.port=Math.round(ie),this.connectionToken=be}}e.ResolvedAuthority=oe;class ce extends Error{static NotAvailable(U,ie){return new ce(U,f.RemoteAuthorityResolverErrorCode.NotAvailable,ie)}static TemporarilyNotAvailable(U){return new ce(U,f.RemoteAuthorityResolverErrorCode.TemporarilyNotAvailable)}constructor(U,ie=f.RemoteAuthorityResolverErrorCode.Unknown,be){super(U),this._message=U,this._code=ie,this._detail=be,Object.setPrototypeOf(this,ce.prototype)}}e.RemoteAuthorityResolverError=ce;var le;(function(x){x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(le=e.EndOfLine||(e.EndOfLine={}));var fe;(function(x){x[x.Replace=1]="Replace",x[x.Append=2]="Append",x[x.Prepend=3]="Prepend"})(fe=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}));let Y=a=class{static isTextEdit(U){return U instanceof a?!0:U?Z.isRange(U)&&typeof U.newText=="string":!1}static replace(U,ie){return new a(U,ie)}static insert(U,ie){return a.replace(new Z(U,U),ie)}static delete(U){return a.replace(U,"")}static setEndOfLine(U){const ie=new a(new Z(new G(0,0),new G(0,0)),"");return ie.newEol=U,ie}get range(){return this._range}set range(U){if(U&&!Z.isRange(U))throw(0,k.illegalArgument)("range");this._range=U}get newText(){return this._newText||""}set newText(U){if(U&&typeof U!="string")throw(0,k.illegalArgument)("newText");this._newText=U}get newEol(){return this._newEol}set newEol(U){if(U&&typeof U!="number")throw(0,k.illegalArgument)("newEol");this._newEol=U}constructor(U,ie){this._range=U,this._newText=ie}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};Y=a=Ve([O],Y),e.TextEdit=Y;let ge=d=class{static isNotebookCellEdit(U){return U instanceof d?!0:U?qt.isNotebookRange(U)&&Array.isArray(U.newCells):!1}static replaceCells(U,ie){return new d(U,ie)}static insertCells(U,ie){return new d(new qt(U,U),ie)}static deleteCells(U){return new d(U,[])}static updateCellMetadata(U,ie){const be=new d(new qt(U,U),[]);return be.newCellMetadata=ie,be}static updateNotebookMetadata(U){const ie=new d(new qt(0,0),[]);return ie.newNotebookMetadata=U,ie}constructor(U,ie){this.range=U,this.newCells=ie}};ge=d=Ve([O],ge),e.NotebookEdit=ge;class we{static isSnippetTextEdit(U){return U instanceof we?!0:U?Z.isRange(U.range)&&Xe.isSnippetString(U.snippet):!1}static replace(U,ie){return new we(U,ie)}static insert(U,ie){return we.replace(new Z(U,U),ie)}constructor(U,ie){this.range=U,this.snippet=ie}}e.SnippetTextEdit=we;var Fe;(function(x){x[x.File=1]="File",x[x.Text=2]="Text",x[x.Cell=3]="Cell",x[x.CellReplace=5]="CellReplace",x[x.Snippet=6]="Snippet"})(Fe=e.FileEditType||(e.FileEditType={}));let xe=class{constructor(){this._edits=[]}_allEntries(){return this._edits}renameFile(U,ie,be,je){this._edits.push({_type:1,from:U,to:ie,options:be,metadata:je})}createFile(U,ie,be){this._edits.push({_type:1,from:void 0,to:U,options:ie,metadata:be})}deleteFile(U,ie,be){this._edits.push({_type:1,from:U,to:void 0,options:ie,metadata:be})}replaceNotebookMetadata(U,ie,be){this._edits.push({_type:3,metadata:be,uri:U,edit:{editType:5,metadata:ie},notebookMetadata:ie})}replaceNotebookCells(U,ie,be,je){const Qe=ie.start,ot=ie.end;(Qe!==ot||be.length>0)&&this._edits.push({_type:5,uri:U,index:Qe,count:ot-Qe,cells:be,metadata:je})}replaceNotebookCellMetadata(U,ie,be,je){this._edits.push({_type:3,metadata:je,uri:U,edit:{editType:8,index:ie,metadata:be}})}replace(U,ie,be,je){this._edits.push({_type:2,uri:U,edit:new Y(ie,be),metadata:je})}insert(U,ie,be,je){this.replace(U,new Z(ie,ie),be,je)}delete(U,ie,be){this.replace(U,ie,"",be)}has(U){return this._edits.some(ie=>ie._type===2&&ie.uri.toString()===U.toString())}set(U,ie){if(ie)for(const be of ie){if(!be)continue;let je,Qe;Array.isArray(be)?(je=be[0],Qe=be[1]):je=be,ge.isNotebookCellEdit(je)?je.newCellMetadata?this.replaceNotebookCellMetadata(U,je.range.start,je.newCellMetadata,Qe):je.newNotebookMetadata?this.replaceNotebookMetadata(U,je.newNotebookMetadata,Qe):this.replaceNotebookCells(U,je.range,je.newCells,Qe):we.isSnippetTextEdit(je)?this._edits.push({_type:6,uri:U,range:je.range,edit:je.snippet,metadata:Qe}):this._edits.push({_type:2,uri:U,edit:je,metadata:Qe})}else{for(let be=0;be<this._edits.length;be++){const je=this._edits[be];switch(je._type){case 2:case 6:case 3:case 5:je.uri.toString()===U.toString()&&(this._edits[be]=void 0);break}}(0,n.coalesceInPlace)(this._edits)}}get(U){const ie=[];for(const be of this._edits)be._type===2&&be.uri.toString()===U.toString()&&ie.push(be.edit);return ie}entries(){const U=new M.ResourceMap;for(const ie of this._edits)if(ie._type===2){let be=U.get(ie.uri);be||(be=[ie.uri,[]],U.set(ie.uri,be)),be[1].push(ie.edit)}return[...U.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};xe=Ve([O],xe),e.WorkspaceEdit=xe;let Xe=l=class{static isSnippetString(U){return U instanceof l?!0:U?typeof U.value=="string":!1}static _escape(U){return U.replace(/\$|}|\\/g,"\\$&")}constructor(U){this._tabstop=1,this.value=U||""}appendText(U){return this.value+=l._escape(U),this}appendTabstop(U=this._tabstop++){return this.value+="$",this.value+=U,this}appendPlaceholder(U,ie=this._tabstop++){if(typeof U=="function"){const be=new l;be._tabstop=this._tabstop,U(be),this._tabstop=be._tabstop,U=be.value}else U=l._escape(U);return this.value+="${",this.value+=ie,this.value+=":",this.value+=U,this.value+="}",this}appendChoice(U,ie=this._tabstop++){const be=U.map(je=>je.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=ie,this.value+="|",this.value+=be,this.value+="|}",this}appendVariable(U,ie){if(typeof ie=="function"){const be=new l;be._tabstop=this._tabstop,ie(be),this._tabstop=be._tabstop,ie=be.value}else typeof ie=="string"&&(ie=ie.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=U,ie&&(this.value+=":",this.value+=ie),this.value+="}",this}};Xe=l=Ve([O],Xe),e.SnippetString=Xe;var ke;(function(x){x[x.Unnecessary=1]="Unnecessary",x[x.Deprecated=2]="Deprecated"})(ke=e.DiagnosticTag||(e.DiagnosticTag={}));var ye;(function(x){x[x.Hint=3]="Hint",x[x.Information=2]="Information",x[x.Warning=1]="Warning",x[x.Error=0]="Error"})(ye=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));let Ce=c=class{static isLocation(U){return U instanceof c?!0:U?Z.isRange(U.range)&&C.URI.isUri(U.uri):!1}constructor(U,ie){if(this.uri=U,ie)if(Z.isRange(ie))this.range=Z.of(ie);else if(G.isPosition(ie))this.range=new Z(ie,ie);else throw new Error("Illegal argument")}toJSON(){return{uri:this.uri,range:this.range}}};Ce=c=Ve([O],Ce),e.Location=Ce;let re=class{static is(U){return U?typeof U.message=="string"&&U.location&&Z.isRange(U.location.range)&&C.URI.isUri(U.location.uri):!1}constructor(U,ie){this.location=U,this.message=ie}static isEqual(U,ie){return U===ie?!0:!U||!ie?!1:U.message===ie.message&&U.location.range.isEqual(ie.location.range)&&U.location.uri.toString()===ie.location.uri.toString()}};re=Ve([O],re),e.DiagnosticRelatedInformation=re;let ae=class{constructor(U,ie,be=ye.Error){if(!Z.isRange(U))throw new TypeError("range must be set");if(!ie)throw new TypeError("message must be set");this.range=U,this.message=ie,this.severity=be}toJSON(){return{severity:ye[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(U,ie){return U===ie?!0:!U||!ie?!1:U.message===ie.message&&U.severity===ie.severity&&U.code===ie.code&&U.severity===ie.severity&&U.source===ie.source&&U.range.isEqual(ie.range)&&(0,n.equals)(U.tags,ie.tags)&&(0,n.equals)(U.relatedInformation,ie.relatedInformation,re.isEqual)}};ae=Ve([O],ae),e.Diagnostic=ae;let J=class{constructor(U,ie){if(!U)throw new Error("Illegal argument, contents must be defined");Array.isArray(U)?this.contents=U:this.contents=[U],this.range=ie}};J=Ve([O],J),e.Hover=J;var D;(function(x){x[x.Text=0]="Text",x[x.Read=1]="Read",x[x.Write=2]="Write"})(D=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));let N=class{constructor(U,ie=D.Text){this.range=U,this.kind=ie}toJSON(){return{range:this.range,kind:D[this.kind]}}};N=Ve([O],N),e.DocumentHighlight=N;var $;(function(x){x[x.File=0]="File",x[x.Module=1]="Module",x[x.Namespace=2]="Namespace",x[x.Package=3]="Package",x[x.Class=4]="Class",x[x.Method=5]="Method",x[x.Property=6]="Property",x[x.Field=7]="Field",x[x.Constructor=8]="Constructor",x[x.Enum=9]="Enum",x[x.Interface=10]="Interface",x[x.Function=11]="Function",x[x.Variable=12]="Variable",x[x.Constant=13]="Constant",x[x.String=14]="String",x[x.Number=15]="Number",x[x.Boolean=16]="Boolean",x[x.Array=17]="Array",x[x.Object=18]="Object",x[x.Key=19]="Key",x[x.Null=20]="Null",x[x.EnumMember=21]="EnumMember",x[x.Struct=22]="Struct",x[x.Event=23]="Event",x[x.Operator=24]="Operator",x[x.TypeParameter=25]="TypeParameter"})($=e.SymbolKind||(e.SymbolKind={}));var q;(function(x){x[x.Deprecated=1]="Deprecated"})(q=e.SymbolTag||(e.SymbolTag={}));let ee=t=class{static validate(U){if(!U.name)throw new Error("name must not be falsy")}constructor(U,ie,be,je,Qe){this.name=U,this.kind=ie,this.containerName=Qe,typeof be=="string"&&(this.containerName=be),je instanceof Ce?this.location=je:be instanceof Z&&(this.location=new Ce(je,be)),t.validate(this)}toJSON(){return{name:this.name,kind:$[this.kind],location:this.location,containerName:this.containerName}}};ee=t=Ve([O],ee),e.SymbolInformation=ee;let ue=m=class{static validate(U){if(!U.name)throw new Error("name must not be falsy");if(!U.range.contains(U.selectionRange))throw new Error("selectionRange must be contained in fullRange");U.children?.forEach(m.validate)}constructor(U,ie,be,je,Qe){this.name=U,this.detail=ie,this.kind=be,this.range=je,this.selectionRange=Qe,this.children=[],m.validate(this)}};ue=m=Ve([O],ue),e.DocumentSymbol=ue;var Se;(function(x){x[x.Invoke=1]="Invoke",x[x.Automatic=2]="Automatic"})(Se=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));let se=class{constructor(U,ie){this.title=U,this.kind=ie}};se=Ve([O],se),e.CodeAction=se;let ve=p=class{constructor(U){this.value=U}append(U){return new p(this.value?this.value+p.sep+U:U)}intersects(U){return this.contains(U)||U.contains(this)}contains(U){return this.value===U.value||U.value.startsWith(this.value+p.sep)}};ve.sep=".",ve=p=Ve([O],ve),e.CodeActionKind=ve,ve.Empty=new ve(""),ve.QuickFix=ve.Empty.append("quickfix"),ve.Refactor=ve.Empty.append("refactor"),ve.RefactorExtract=ve.Refactor.append("extract"),ve.RefactorInline=ve.Refactor.append("inline"),ve.RefactorMove=ve.Refactor.append("move"),ve.RefactorRewrite=ve.Refactor.append("rewrite"),ve.Source=ve.Empty.append("source"),ve.SourceOrganizeImports=ve.Source.append("organizeImports"),ve.SourceFixAll=ve.Source.append("fixAll");let Ee=class{constructor(U,ie){if(this.range=U,this.parent=ie,ie&&!ie.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};Ee=Ve([O],Ee),e.SelectionRange=Ee;class Be{constructor(U,ie,be,je,Qe,ot){this.kind=U,this.name=ie,this.detail=be,this.uri=je,this.range=Qe,this.selectionRange=ot}}e.CallHierarchyItem=Be;class $e{constructor(U,ie){this.fromRanges=ie,this.from=U}}e.CallHierarchyIncomingCall=$e;class tt{constructor(U,ie){this.fromRanges=ie,this.to=U}}e.CallHierarchyOutgoingCall=tt;var Ke;(function(x){x[x.Information=0]="Information",x[x.Warning=1]="Warning",x[x.Error=2]="Error"})(Ke=e.LanguageStatusSeverity||(e.LanguageStatusSeverity={}));let et=class{constructor(U,ie){this.range=U,this.command=ie}get isResolved(){return!!this.command}};et=Ve([O],et),e.CodeLens=et;let it=P=class{static isMarkdownString(U){return U instanceof P?!0:U&&U.appendCodeblock&&U.appendMarkdown&&U.appendText&&U.value!==void 0}constructor(U,ie=!1){o.set(this,void 0),Ye(this,o,new _.MarkdownString(U,{supportThemeIcons:ie}),"f")}get value(){return Ae(this,o,"f").value}set value(U){Ae(this,o,"f").value=U}get isTrusted(){return Ae(this,o,"f").isTrusted}set isTrusted(U){Ae(this,o,"f").isTrusted=U}get supportThemeIcons(){return Ae(this,o,"f").supportThemeIcons}set supportThemeIcons(U){Ae(this,o,"f").supportThemeIcons=U}get supportHtml(){return Ae(this,o,"f").supportHtml}set supportHtml(U){Ae(this,o,"f").supportHtml=U}get baseUri(){return Ae(this,o,"f").baseUri}set baseUri(U){Ae(this,o,"f").baseUri=U}appendText(U){return Ae(this,o,"f").appendText(U),this}appendMarkdown(U){return Ae(this,o,"f").appendMarkdown(U),this}appendCodeblock(U,ie){return Ae(this,o,"f").appendCodeblock(ie??"",U),this}};o=new WeakMap,it=P=Ve([O],it),e.MarkdownString=it;let dt=class{constructor(U,ie){this.label=U,this.documentation=ie}};dt=Ve([O],dt),e.ParameterInformation=dt;let Oe=class{constructor(U,ie){this.label=U,this.documentation=ie,this.parameters=[]}};Oe=Ve([O],Oe),e.SignatureInformation=Oe;let st=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};st=Ve([O],st),e.SignatureHelp=st;var Q;(function(x){x[x.Invoke=1]="Invoke",x[x.TriggerCharacter=2]="TriggerCharacter",x[x.ContentChange=3]="ContentChange"})(Q=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var X;(function(x){x[x.Type=1]="Type",x[x.Parameter=2]="Parameter"})(X=e.InlayHintKind||(e.InlayHintKind={}));let pe=class{constructor(U){this.value=U}};pe=Ve([O],pe),e.InlayHintLabelPart=pe;let Le=class{constructor(U,ie,be){this.position=U,this.label=ie,this.kind=be}};Le=Ve([O],Le),e.InlayHint=Le;var Ue;(function(x){x[x.Invoke=0]="Invoke",x[x.TriggerCharacter=1]="TriggerCharacter",x[x.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Ue=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var He;(function(x){x[x.Text=0]="Text",x[x.Method=1]="Method",x[x.Function=2]="Function",x[x.Constructor=3]="Constructor",x[x.Field=4]="Field",x[x.Variable=5]="Variable",x[x.Class=6]="Class",x[x.Interface=7]="Interface",x[x.Module=8]="Module",x[x.Property=9]="Property",x[x.Unit=10]="Unit",x[x.Value=11]="Value",x[x.Enum=12]="Enum",x[x.Keyword=13]="Keyword",x[x.Snippet=14]="Snippet",x[x.Color=15]="Color",x[x.File=16]="File",x[x.Reference=17]="Reference",x[x.Folder=18]="Folder",x[x.EnumMember=19]="EnumMember",x[x.Constant=20]="Constant",x[x.Struct=21]="Struct",x[x.Event=22]="Event",x[x.Operator=23]="Operator",x[x.TypeParameter=24]="TypeParameter",x[x.User=25]="User",x[x.Issue=26]="Issue"})(He=e.CompletionItemKind||(e.CompletionItemKind={}));var Je;(function(x){x[x.Deprecated=1]="Deprecated"})(Je=e.CompletionItemTag||(e.CompletionItemTag={}));let nt=class{constructor(U,ie){this.label=U,this.kind=ie}toJSON(){return{label:this.label,kind:this.kind&&He[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};nt=Ve([O],nt),e.CompletionItem=nt;let vt=class{constructor(U=[],ie=!1){this.items=U,this.isIncomplete=ie}};vt=Ve([O],vt),e.CompletionList=vt;let wt=class{constructor(U,ie,be){this.insertText=U,this.range=ie,this.command=be}};wt=Ve([O],wt),e.InlineSuggestion=wt;let kt=class{constructor(U){this.commands=void 0,this.items=U}};kt=Ve([O],kt),e.InlineSuggestionList=kt;var ut;(function(x){x[x.Active=-1]="Active",x[x.Beside=-2]="Beside",x[x.One=1]="One",x[x.Two=2]="Two",x[x.Three=3]="Three",x[x.Four=4]="Four",x[x.Five=5]="Five",x[x.Six=6]="Six",x[x.Seven=7]="Seven",x[x.Eight=8]="Eight",x[x.Nine=9]="Nine"})(ut=e.ViewColumn||(e.ViewColumn={}));var at;(function(x){x[x.Left=1]="Left",x[x.Right=2]="Right"})(at=e.StatusBarAlignment||(e.StatusBarAlignment={}));var Nt;(function(x){x[x.Off=0]="Off",x[x.On=1]="On",x[x.Relative=2]="Relative"})(Nt=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var Ot;(function(x){x[x.Manual=1]="Manual",x[x.AfterDelay=2]="AfterDelay",x[x.FocusOut=3]="FocusOut"})(Ot=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var Ft;(function(x){x[x.Default=0]="Default",x[x.InCenter=1]="InCenter",x[x.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",x[x.AtTop=3]="AtTop"})(Ft=e.TextEditorRevealType||(e.TextEditorRevealType={}));var ft;(function(x){x[x.Keyboard=1]="Keyboard",x[x.Mouse=2]="Mouse",x[x.Command=3]="Command"})(ft=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));var It;(function(x){x[x.Undo=1]="Undo",x[x.Redo=2]="Redo"})(It=e.TextDocumentChangeReason||(e.TextDocumentChangeReason={}));var Ut;(function(x){x[x.OpenOpen=0]="OpenOpen",x[x.ClosedClosed=1]="ClosedClosed",x[x.OpenClosed=2]="OpenClosed",x[x.ClosedOpen=3]="ClosedOpen"})(Ut=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={})),function(x){function U(ie){switch(ie){case"keyboard":return x.Keyboard;case"mouse":return x.Mouse;case"api":return x.Command}}x.fromValue=U}(ft=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));let Lt=class{constructor(U,ie){if(ie&&!C.URI.isUri(ie))throw(0,k.illegalArgument)("target");if(!Z.isRange(U)||U.isEmpty)throw(0,k.illegalArgument)("range");this.range=U,this.target=ie}};Lt=Ve([O],Lt),e.DocumentLink=Lt;let qe=class{constructor(U,ie,be,je){this.red=U,this.green=ie,this.blue=be,this.alpha=je}};qe=Ve([O],qe),e.Color=qe;let At=class{constructor(U,ie){if(ie&&!(ie instanceof qe))throw(0,k.illegalArgument)("color");if(!Z.isRange(U)||U.isEmpty)throw(0,k.illegalArgument)("range");this.range=U,this.color=ie}};At=Ve([O],At),e.ColorInformation=At;let Mt=class{constructor(U){if(!U||typeof U!="string")throw(0,k.illegalArgument)("label");this.label=U}};Mt=Ve([O],Mt),e.ColorPresentation=Mt;var $t;(function(x){x[x.RGB=0]="RGB",x[x.HEX=1]="HEX",x[x.HSL=2]="HSL"})($t=e.ColorFormat||(e.ColorFormat={}));var mt;(function(x){x[x.Error=0]="Error",x[x.Warning=1]="Warning",x[x.Information=2]="Information"})(mt=e.SourceControlInputBoxValidationType||(e.SourceControlInputBoxValidationType={}));var Pt;(function(x){x[x.Unknown=0]="Unknown",x[x.Shutdown=1]="Shutdown",x[x.Process=2]="Process",x[x.User=3]="User",x[x.Extension=4]="Extension"})(Pt=e.TerminalExitReason||(e.TerminalExitReason={}));class _e{constructor(U,ie,be){if(this.startIndex=U,this.length=ie,this.tooltip=be,typeof U!="number"||U<0)throw(0,k.illegalArgument)("startIndex");if(typeof ie!="number"||ie<1)throw(0,k.illegalArgument)("length");if(be!==void 0&&typeof be!="string")throw(0,k.illegalArgument)("tooltip")}}e.TerminalLink=_e;var Te;(function(x){x[x.Panel=1]="Panel",x[x.Editor=2]="Editor"})(Te=e.TerminalLocation||(e.TerminalLocation={}));class me{constructor(U){if(this.options=U,typeof U!="object")throw(0,k.illegalArgument)("options")}}e.TerminalProfile=me;var K;(function(x){x[x.Always=1]="Always",x[x.Silent=2]="Silent",x[x.Never=3]="Never"})(K=e.TaskRevealKind||(e.TaskRevealKind={}));var Pe;(function(x){x[x.Shared=1]="Shared",x[x.Dedicated=2]="Dedicated",x[x.New=3]="New"})(Pe=e.TaskPanelKind||(e.TaskPanelKind={}));let Me=L=class{static from(U){switch(U){case"clean":return L.Clean;case"build":return L.Build;case"rebuild":return L.Rebuild;case"test":return L.Test;default:return}}constructor(U,ie){if(this.label=ie,typeof U!="string"||typeof ie!="string")throw(0,k.illegalArgument)("name");this._id=U}get id(){return this._id}};Me.Clean=new L("clean","Clean"),Me.Build=new L("build","Build"),Me.Rebuild=new L("rebuild","Rebuild"),Me.Test=new L("test","Test"),Me=L=Ve([O],Me),e.TaskGroup=Me;function Ge(x){let U="";for(let ie=0;ie<x.length;ie++)U+=x[ie].replace(/,/g,",,")+",";return U}let ze=class{constructor(U,ie,be){if(typeof U!="string")throw(0,k.illegalArgument)("process");this._args=[],this._process=U,ie!==void 0&&(Array.isArray(ie)?(this._args=ie,this._options=be):this._options=ie)}get process(){return this._process}set process(U){if(typeof U!="string")throw(0,k.illegalArgument)("process");this._process=U}get args(){return this._args}set args(U){Array.isArray(U)||(U=[]),this._args=U}get options(){return this._options}set options(U){this._options=U}computeId(){const U=[];if(U.push("process"),this._process!==void 0&&U.push(this._process),this._args&&this._args.length>0)for(const ie of this._args)U.push(ie);return Ge(U)}};ze=Ve([O],ze),e.ProcessExecution=ze;let Ze=class{constructor(U,ie,be){if(this._args=[],Array.isArray(ie)){if(!U)throw(0,k.illegalArgument)("command can't be undefined or null");if(typeof U!="string"&&typeof U.value!="string")throw(0,k.illegalArgument)("command");this._command=U,this._args=ie,this._options=be}else{if(typeof U!="string")throw(0,k.illegalArgument)("commandLine");this._commandLine=U,this._options=ie}}get commandLine(){return this._commandLine}set commandLine(U){if(typeof U!="string")throw(0,k.illegalArgument)("commandLine");this._commandLine=U}get command(){return this._command?this._command:""}set command(U){if(typeof U!="string"&&typeof U.value!="string")throw(0,k.illegalArgument)("command");this._command=U}get args(){return this._args}set args(U){this._args=U||[]}get options(){return this._options}set options(U){this._options=U}computeId(){const U=[];if(U.push("shell"),this._commandLine!==void 0&&U.push(this._commandLine),this._command!==void 0&&U.push(typeof this._command=="string"?this._command:this._command.value),this._args&&this._args.length>0)for(const ie of this._args)U.push(typeof ie=="string"?ie:ie.value);return Ge(U)}};Ze=Ve([O],Ze),e.ShellExecution=Ze;var Dt;(function(x){x[x.Escape=1]="Escape",x[x.Strong=2]="Strong",x[x.Weak=3]="Weak"})(Dt=e.ShellQuoting||(e.ShellQuoting={}));var Et;(function(x){x[x.Global=1]="Global",x[x.Workspace=2]="Workspace"})(Et=e.TaskScope||(e.TaskScope={}));class Ct{constructor(U){this._callback=U}computeId(){return"customExecution"+(0,R.generateUuid)()}set callback(U){this._callback=U}get callback(){return this._callback}}e.CustomExecution=Ct;let gt=V=class{constructor(U,ie,be,je,Qe,ot){this.__deprecated=!1,this._definition=this.definition=U;let ct;typeof ie=="string"?(this._name=this.name=ie,this._source=this.source=be,this.execution=je,ct=Qe,this.__deprecated=!0):ie===Et.Global||ie===Et.Workspace?(this.target=ie,this._name=this.name=be,this._source=this.source=je,this.execution=Qe,ct=ot):(this.target=ie,this._name=this.name=be,this._source=this.source=je,this.execution=Qe,ct=ot),typeof ct=="string"?(this._problemMatchers=[ct],this._hasDefinedMatchers=!0):Array.isArray(ct)?(this._problemMatchers=ct,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(U){this.__id=U}get _deprecated(){return this.__deprecated}clear(){this.__id!==void 0&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._execution instanceof ze?this._definition={type:V.ProcessType,id:this._execution.computeId()}:this._execution instanceof Ze?this._definition={type:V.ShellType,id:this._execution.computeId()}:this._execution instanceof Ct?this._definition={type:V.ExtensionCallbackType,id:this._execution.computeId()}:this._definition={type:V.EmptyType,id:(0,R.generateUuid)()}}get definition(){return this._definition}set definition(U){if(U==null)throw(0,k.illegalArgument)("Kind can't be undefined or null");this.clear(),this._definition=U}get scope(){return this._scope}set target(U){this.clear(),this._scope=U}get name(){return this._name}set name(U){if(typeof U!="string")throw(0,k.illegalArgument)("name");this.clear(),this._name=U}get execution(){return this._execution}set execution(U){U===null&&(U=void 0),this.clear(),this._execution=U;const ie=this._definition.type;(V.EmptyType===ie||V.ProcessType===ie||V.ShellType===ie||V.ExtensionCallbackType===ie)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(U){if(Array.isArray(U))this.clear(),this._problemMatchers=U,this._hasDefinedMatchers=!0;else{this.clear(),this._problemMatchers=[],this._hasDefinedMatchers=!1;return}}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(U){U!==!0&&U!==!1&&(U=!1),this.clear(),this._isBackground=U}get source(){return this._source}set source(U){if(typeof U!="string"||U.length===0)throw(0,k.illegalArgument)("source must be a string of length > 0");this.clear(),this._source=U}get group(){return this._group}set group(U){U===null&&(U=void 0),this.clear(),this._group=U}get detail(){return this._detail}set detail(U){U===null&&(U=void 0),this._detail=U}get presentationOptions(){return this._presentationOptions}set presentationOptions(U){U==null&&(U=Object.create(null)),this.clear(),this._presentationOptions=U}get runOptions(){return this._runOptions}set runOptions(U){U==null&&(U=Object.create(null)),this.clear(),this._runOptions=U}};gt.ExtensionCallbackType="customExecution",gt.ProcessType="process",gt.ShellType="shell",gt.EmptyType="$empty",gt=V=Ve([O],gt),e.Task=gt;var pt;(function(x){x[x.SourceControl=1]="SourceControl",x[x.Window=10]="Window",x[x.Notification=15]="Notification"})(pt=e.ProgressLocation||(e.ProgressLocation={}));var St;(function(x){function U(ie){const be=ie;return(0,S.isNumber)(be.value)?be.tooltip&&!(0,S.isString)(be.tooltip)?(console.log("INVALID view badge, invalid tooltip",be.tooltip),!1):!0:(console.log("INVALID view badge, invalid value",be.value),!1)}x.isViewBadge=U})(St=e.ViewBadge||(e.ViewBadge={}));let Bt=H=class{static isTreeItem(U,ie){if(U instanceof H)return!0;const be=U;if(be.label!==void 0&&!(0,S.isString)(be.label)&&!be.label?.label)return console.log("INVALID tree item, invalid label",be.label),!1;if(be.id!==void 0&&!(0,S.isString)(be.id))return console.log("INVALID tree item, invalid id",be.id),!1;if(be.iconPath!==void 0&&!(0,S.isString)(be.iconPath)&&!C.URI.isUri(be.iconPath)&&(!be.iconPath||!(0,S.isString)(be.iconPath.id))){const je=be.iconPath;if(!je||!(0,S.isString)(je.light)&&!C.URI.isUri(je.light)&&!(0,S.isString)(je.dark)&&!C.URI.isUri(je.dark))return console.log("INVALID tree item, invalid iconPath",be.iconPath),!1}if(be.description!==void 0&&!(0,S.isString)(be.description)&&typeof be.description!="boolean")return console.log("INVALID tree item, invalid description",be.description),!1;if(be.resourceUri!==void 0&&!C.URI.isUri(be.resourceUri))return console.log("INVALID tree item, invalid resourceUri",be.resourceUri),!1;if(be.tooltip!==void 0&&!(0,S.isString)(be.tooltip)&&!(be.tooltip instanceof it))return console.log("INVALID tree item, invalid tooltip",be.tooltip),!1;if(be.command!==void 0&&!be.command.command)return console.log("INVALID tree item, invalid command",be.command),!1;if(be.collapsibleState!==void 0&&be.collapsibleState<Gt.None&&be.collapsibleState>Gt.Expanded)return console.log("INVALID tree item, invalid collapsibleState",be.collapsibleState),!1;if(be.contextValue!==void 0&&!(0,S.isString)(be.contextValue))return console.log("INVALID tree item, invalid contextValue",be.contextValue),!1;if(be.accessibilityInformation!==void 0&&!be.accessibilityInformation?.label)return console.log("INVALID tree item, invalid accessibilityInformation",be.accessibilityInformation),!1;if(be.checkboxState!==void 0){(0,h.checkProposedApiEnabled)(ie,"treeItemCheckbox");const je=(0,S.isNumber)(be.checkboxState)?be.checkboxState:(0,S.isObject)(be.checkboxState)&&(0,S.isNumber)(be.checkboxState.state)?be.checkboxState.state:void 0,Qe=!(0,S.isNumber)(be.checkboxState)&&(0,S.isObject)(be.checkboxState)?be.checkboxState.tooltip:void 0;if(je===void 0||je!==bt.Checked&&je!==bt.Unchecked||Qe!==void 0&&!(0,S.isString)(Qe))return console.log("INVALID tree item, invalid checkboxState",be.checkboxState),!1}return!0}constructor(U,ie=Gt.None){this.collapsibleState=ie,C.URI.isUri(U)?this.resourceUri=U:this.label=U}};Bt=H=Ve([O],Bt),e.TreeItem=Bt;var Gt;(function(x){x[x.None=0]="None",x[x.Collapsed=1]="Collapsed",x[x.Expanded=2]="Expanded"})(Gt=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));var bt;(function(x){x[x.Unchecked=0]="Unchecked",x[x.Checked=1]="Checked"})(bt=e.TreeItemCheckboxState||(e.TreeItemCheckboxState={}));let si=class{async asString(){return typeof this.value=="string"?this.value:JSON.stringify(this.value)}asFile(){}constructor(U,ie){this.value=U,this.id=ie??(0,R.generateUuid)()}};si=Ve([O],si),e.DataTransferItem=si;let oi=class{constructor(U){u.set(this,new Map);for(const[ie,be]of U??[]){const je=Ae(this,u,"f").get(ie);je?je.push(be):Ae(this,u,"f").set(ie,[be])}}get(U){return Ae(this,u,"f").get(U)?.[0]}set(U,ie){Ae(this,u,"f").set(U,[ie])}forEach(U,ie){for(const[be,je]of Ae(this,u,"f"))for(const Qe of je)U.call(ie,Qe,be,this)}*[(u=new WeakMap,Symbol.iterator)](){for(const[U,ie]of Ae(this,u,"f"))for(const be of ie)yield[U,be]}};oi=Ve([O],oi),e.DataTransfer=oi;let Zt=class{constructor(U){this.insertText=U}};Zt=Ve([O],Zt),e.DocumentDropEdit=Zt;let pi=class{constructor(U){this.insertText=U}};pi=Ve([O],pi),e.DocumentPasteEdit=pi;let _t=class{constructor(U,ie){this.id=U,this.color=ie}static isThemeIcon(U){return typeof U.id!="string"?(console.log("INVALID ThemeIcon, invalid id",U.id),!1):!0}};_t=Ve([O],_t),e.ThemeIcon=_t,_t.File=new _t("file"),_t.Folder=new _t("folder");let ai=class{constructor(U){this.id=U}};ai=Ve([O],ai),e.ThemeColor=ai;var Ri;(function(x){x[x.Global=1]="Global",x[x.Workspace=2]="Workspace",x[x.WorkspaceFolder=3]="WorkspaceFolder"})(Ri=e.ConfigurationTarget||(e.ConfigurationTarget={}));let ei=class{get base(){return this._base}set base(U){this._base=U,this._baseUri=C.URI.file(U)}get baseUri(){return this._baseUri}set baseUri(U){this._baseUri=U,this._base=U.fsPath}constructor(U,ie){if(typeof U!="string"&&(!U||!C.URI.isUri(U)&&!C.URI.isUri(U.uri)))throw(0,k.illegalArgument)("base");if(typeof ie!="string")throw(0,k.illegalArgument)("pattern");typeof U=="string"?this.baseUri=C.URI.file(U):C.URI.isUri(U)?this.baseUri=U:this.baseUri=U.uri,this.pattern=ie}toJSON(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}};ei=Ve([O],ei),e.RelativePattern=ei;let Wt=class{constructor(U,ie,be,je){this.enabled=typeof U=="boolean"?U:!0,typeof ie=="string"&&(this.condition=ie),typeof be=="string"&&(this.hitCondition=be),typeof je=="string"&&(this.logMessage=je)}get id(){return this._id||(this._id=(0,R.generateUuid)()),this._id}};Wt=Ve([O],Wt),e.Breakpoint=Wt;let lt=class extends Wt{constructor(U,ie,be,je,Qe){if(super(ie,be,je,Qe),U===null)throw(0,k.illegalArgument)("location");this.location=U}};lt=Ve([O],lt),e.SourceBreakpoint=lt;let vi=class extends Wt{constructor(U,ie,be,je,Qe){super(ie,be,je,Qe),this.functionName=U}};vi=Ve([O],vi),e.FunctionBreakpoint=vi;let Ht=class extends Wt{constructor(U,ie,be,je,Qe,ot,ct){if(super(je,Qe,ot,ct),!ie)throw(0,k.illegalArgument)("dataId");this.label=U,this.dataId=ie,this.canPersist=be}};Ht=Ve([O],Ht),e.DataBreakpoint=Ht;let Xt=class{constructor(U,ie,be){this.command=U,this.args=ie||[],this.options=be}};Xt=Ve([O],Xt),e.DebugAdapterExecutable=Xt;let li=class{constructor(U,ie){this.port=U,this.host=ie}};li=Ve([O],li),e.DebugAdapterServer=li;let Ei=class{constructor(U){this.path=U}};Ei=Ve([O],Ei),e.DebugAdapterNamedPipeServer=Ei;let ci=class{constructor(U){this.implementation=U}};ci=Ve([O],ci),e.DebugAdapterInlineImplementation=ci;let bi=class{constructor(U,ie){this.range=U,this.expression=ie}};bi=Ve([O],bi),e.EvaluatableExpression=bi;var Ii;(function(x){x[x.Invoke=0]="Invoke",x[x.Automatic=1]="Automatic"})(Ii=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));let ti=class{constructor(U,ie){this.range=U,this.text=ie}};ti=Ve([O],ti),e.InlineValueText=ti;let wi=class{constructor(U,ie,be=!0){this.range=U,this.variableName=ie,this.caseSensitiveLookup=be}};wi=Ve([O],wi),e.InlineValueVariableLookup=wi;let ni=class{constructor(U,ie){this.range=U,this.expression=ie}};ni=Ve([O],ni),e.InlineValueEvaluatableExpression=ni;let ri=class{constructor(U,ie){this.frameId=U,this.stoppedLocation=ie}};ri=Ve([O],ri),e.InlineValueContext=ri;var Oi;(function(x){x[x.Changed=1]="Changed",x[x.Created=2]="Created",x[x.Deleted=3]="Deleted"})(Oi=e.FileChangeType||(e.FileChangeType={}));let Si=W=class extends Error{static FileExists(U){return new W(U,y.FileSystemProviderErrorCode.FileExists,W.FileExists)}static FileNotFound(U){return new W(U,y.FileSystemProviderErrorCode.FileNotFound,W.FileNotFound)}static FileNotADirectory(U){return new W(U,y.FileSystemProviderErrorCode.FileNotADirectory,W.FileNotADirectory)}static FileIsADirectory(U){return new W(U,y.FileSystemProviderErrorCode.FileIsADirectory,W.FileIsADirectory)}static NoPermissions(U){return new W(U,y.FileSystemProviderErrorCode.NoPermissions,W.NoPermissions)}static Unavailable(U){return new W(U,y.FileSystemProviderErrorCode.Unavailable,W.Unavailable)}constructor(U,ie=y.FileSystemProviderErrorCode.Unknown,be){super(C.URI.isUri(U)?U.toString(!0):U),this.code=be?.name??"Unknown",(0,y.markAsFileSystemProviderError)(this,ie),Object.setPrototypeOf(this,W.prototype),typeof Error.captureStackTrace=="function"&&typeof be=="function"&&Error.captureStackTrace(this,be)}};Si=W=Ve([O],Si),e.FileSystemError=Si;let Qt=class{constructor(U,ie,be){this.start=U,this.end=ie,this.kind=be}};Qt=Ve([O],Qt),e.FoldingRange=Qt;var Fi;(function(x){x[x.Comment=1]="Comment",x[x.Imports=2]="Imports",x[x.Region=3]="Region"})(Fi=e.FoldingRangeKind||(e.FoldingRangeKind={}));var Li;(function(x){x[x.Collapsed=0]="Collapsed",x[x.Expanded=1]="Expanded"})(Li=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var Mi;(function(x){x[x.Editing=0]="Editing",x[x.Preview=1]="Preview"})(Mi=e.CommentMode||(e.CommentMode={}));var Ni;(function(x){x[x.Unresolved=0]="Unresolved",x[x.Resolved=1]="Resolved"})(Ni=e.CommentThreadState||(e.CommentThreadState={}));class Ui{constructor(U,ie=[]){this.tokenTypes=U,this.tokenModifiers=ie}}e.SemanticTokensLegend=Ui;function _i(x){return typeof x>"u"||(0,S.isStringArray)(x)}class ui{constructor(U){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,U){this._hasLegend=!0;for(let ie=0,be=U.tokenTypes.length;ie<be;ie++)this._tokenTypeStrToInt.set(U.tokenTypes[ie],ie);for(let ie=0,be=U.tokenModifiers.length;ie<be;ie++)this._tokenModifierStrToInt.set(U.tokenModifiers[ie],ie)}}push(U,ie,be,je,Qe){if(typeof U=="number"&&typeof ie=="number"&&typeof be=="number"&&typeof je=="number"&&(typeof Qe=="number"||typeof Qe>"u"))return typeof Qe>"u"&&(Qe=0),this._pushEncoded(U,ie,be,je,Qe);if(Z.isRange(U)&&typeof ie=="string"&&_i(be))return this._push(U,ie,be);throw(0,k.illegalArgument)()}_push(U,ie,be){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(U.start.line!==U.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(ie))throw new Error("`tokenType` is not in the provided legend");const je=U.start.line,Qe=U.start.character,ot=U.end.character-U.start.character,ct=this._tokenTypeStrToInt.get(ie);let Rt=0;if(be)for(const xt of be){if(!this._tokenModifierStrToInt.has(xt))throw new Error("`tokenModifier` is not in the provided legend");const Vt=this._tokenModifierStrToInt.get(xt);Rt|=1<<Vt>>>0}this._pushEncoded(je,Qe,ot,ct,Rt)}_pushEncoded(U,ie,be,je,Qe){if(this._dataIsSortedAndDeltaEncoded&&(U<this._prevLine||U===this._prevLine&&ie<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const Rt=this._data.length/5|0;let xt=0,Vt=0;for(let Kt=0;Kt<Rt;Kt++){let Yt=this._data[5*Kt],yi=this._data[5*Kt+1];Yt===0?(Yt=xt,yi+=Vt):Yt+=xt,this._data[5*Kt]=Yt,this._data[5*Kt+1]=yi,xt=Yt,Vt=yi}}let ot=U,ct=ie;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(ot-=this._prevLine,ot===0&&(ct-=this._prevChar)),this._data[this._dataLen++]=ot,this._data[this._dataLen++]=ct,this._data[this._dataLen++]=be,this._data[this._dataLen++]=je,this._data[this._dataLen++]=Qe,this._prevLine=U,this._prevChar=ie}static _sortAndDeltaEncode(U){const ie=[],be=U.length/5|0;for(let ct=0;ct<be;ct++)ie[ct]=ct;ie.sort((ct,Rt)=>{const xt=U[5*ct],Vt=U[5*Rt];if(xt===Vt){const Kt=U[5*ct+1],Yt=U[5*Rt+1];return Kt-Yt}return xt-Vt});const je=new Uint32Array(U.length);let Qe=0,ot=0;for(let ct=0;ct<be;ct++){const Rt=5*ie[ct],xt=U[Rt+0],Vt=U[Rt+1],Kt=U[Rt+2],Yt=U[Rt+3],yi=U[Rt+4],en=xt-Qe,In=en===0?Vt-ot:Vt,Di=5*ct;je[Di+0]=en,je[Di+1]=In,je[Di+2]=Kt,je[Di+3]=Yt,je[Di+4]=yi,Qe=xt,ot=Vt}return je}build(U){return this._dataIsSortedAndDeltaEncoded?new di(new Uint32Array(this._data),U):new di(ui._sortAndDeltaEncode(this._data),U)}}e.SemanticTokensBuilder=ui;class di{constructor(U,ie){this.resultId=ie,this.data=U}}e.SemanticTokens=di;class Ne{constructor(U,ie,be){this.start=U,this.deleteCount=ie,this.data=be}}e.SemanticTokensEdit=Ne;class jt{constructor(U,ie){this.resultId=ie,this.edits=U}}e.SemanticTokensEdits=jt;var Ci;(function(x){x[x.Separate=0]="Separate",x[x.MergeWithParent=1]="MergeWithParent"})(Ci=e.DebugConsoleMode||(e.DebugConsoleMode={}));let ht=class{constructor(){}};ht.Back={iconPath:new _t("arrow-left")},ht=Ve([O],ht),e.QuickInputButtons=ht;var Bi;(function(x){x[x.Separator=-1]="Separator",x[x.Default=0]="Default"})(Bi=e.QuickPickItemKind||(e.QuickPickItemKind={}));var zi;(function(x){x[x.Info=1]="Info",x[x.Warning=2]="Warning",x[x.Error=3]="Error"})(zi=e.InputBoxValidationSeverity||(e.InputBoxValidationSeverity={}));var ki;(function(x){x[x.UI=1]="UI",x[x.Workspace=2]="Workspace"})(ki=e.ExtensionKind||(e.ExtensionKind={}));class xi{static validate(U){if(typeof U.badge=="string"){let ie=(0,A.nextCharLength)(U.badge,0);if(ie<U.badge.length&&(ie+=(0,A.nextCharLength)(U.badge,ie)),U.badge.length>ie)throw new Error("The 'badge'-property must be undefined or a short character")}else if(U.badge&&!_t.isThemeIcon(U.badge))throw new Error("The 'badge'-property is not a valid ThemeIcon");if(!U.color&&!U.badge&&!U.tooltip)throw new Error("The decoration is empty");return!0}constructor(U,ie,be){this.badge=U,this.tooltip=ie,this.color=be}}e.FileDecoration=xi;let ii=class{constructor(U){this.kind=U}};ii=Ve([O],ii),e.ColorTheme=ii;var $i;(function(x){x[x.Light=1]="Light",x[x.Dark=2]="Dark",x[x.HighContrast=3]="HighContrast",x[x.HighContrastLight=4]="HighContrastLight"})($i=e.ColorThemeKind||(e.ColorThemeKind={}));class qt{static isNotebookRange(U){return U instanceof qt?!0:U?typeof U.start=="number"&&typeof U.end=="number":!1}get start(){return this._start}get end(){return this._end}get isEmpty(){return this._start===this._end}constructor(U,ie){if(U<0)throw(0,k.illegalArgument)("start must be positive");if(ie<0)throw(0,k.illegalArgument)("end must be positive");U<=ie?(this._start=U,this._end=ie):(this._start=ie,this._end=U)}with(U){let ie=this._start,be=this._end;return U.start!==void 0&&(ie=U.start),U.end!==void 0&&(be=U.end),ie===this._start&&be===this._end?this:new qt(ie,be)}}e.NotebookRange=qt;class hi{static validate(U){if(typeof U.kind!="number")throw new Error("NotebookCellData MUST have 'kind' property");if(typeof U.value!="string")throw new Error("NotebookCellData MUST have 'value' property");if(typeof U.languageId!="string")throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(U){return Array.isArray(U)&&U.every(ie=>hi.isNotebookCellData(ie))}static isNotebookCellData(U){return!0}constructor(U,ie,be,je,Qe,ot,ct){this.kind=U,this.value=ie,this.languageId=be,this.mime=je,this.outputs=Qe??[],this.metadata=ot,this.executionSummary=ct,hi.validate(this)}}e.NotebookCellData=hi;class Ti{constructor(U){this.cells=U}}e.NotebookData=Ti;class zt{static isNotebookCellOutputItem(U){return U instanceof zt?!0:U?typeof U.mime=="string"&&U.data instanceof Uint8Array:!1}static error(U){const ie={name:U.name,message:U.message,stack:U.stack};return zt.json(ie,"application/vnd.code.notebook.error")}static stdout(U){return zt.text(U,"application/vnd.code.notebook.stdout")}static stderr(U){return zt.text(U,"application/vnd.code.notebook.stderr")}static bytes(U,ie="application/octet-stream"){return new zt(U,ie)}static text(U,ie=I.Mimes.text){const be=Ae(zt,b,"f",E).encode(String(U));return new zt(be,ie)}static json(U,ie="text/x-json"){const be=JSON.stringify(U,void 0,"	");return zt.text(be,ie)}constructor(U,ie){this.data=U,this.mime=ie;const be=(0,I.normalizeMimeType)(ie,!0);if(!be)throw new Error(`INVALID mime type: ${ie}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=be}}e.NotebookCellOutputItem=zt,b=zt,E={value:new TextEncoder};class fi{static isNotebookCellOutput(U){return U instanceof fi?!0:!U||typeof U!="object"?!1:typeof U.id=="string"&&Array.isArray(U.items)}static ensureUniqueMimeTypes(U,ie=!1){const be=new Set,je=new Set;for(let Qe=0;Qe<U.length;Qe++){const ot=U[Qe],ct=(0,I.normalizeMimeType)(ot.mime);if(!be.has(ct)||(0,v.isTextStreamMime)(ct)){be.add(ct);continue}je.add(Qe),ie&&console.warn(`DUPLICATED mime type '${ot.mime}' will be dropped`)}return je.size===0?U:U.filter((Qe,ot)=>!je.has(ot))}constructor(U,ie,be){this.items=fi.ensureUniqueMimeTypes(U,!0),typeof ie=="string"?(this.id=ie,this.metadata=be):(this.id=(0,R.generateUuid)(),this.metadata=ie??be)}}e.NotebookCellOutput=fi;var Wi;(function(x){x[x.Markup=1]="Markup",x[x.Code=2]="Code"})(Wi=e.NotebookCellKind||(e.NotebookCellKind={}));var Hi;(function(x){x[x.Idle=1]="Idle",x[x.Pending=2]="Pending",x[x.Executing=3]="Executing"})(Hi=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var Vi;(function(x){x[x.Left=1]="Left",x[x.Right=2]="Right"})(Vi=e.NotebookCellStatusBarAlignment||(e.NotebookCellStatusBarAlignment={}));var ji;(function(x){x[x.Default=0]="Default",x[x.InCenter=1]="InCenter",x[x.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",x[x.AtTop=3]="AtTop"})(ji=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));class ne{constructor(U,ie){this.text=U,this.alignment=ie}}e.NotebookCellStatusBarItem=ne;var de;(function(x){x[x.Default=1]="Default",x[x.Preferred=2]="Preferred"})(de=e.NotebookControllerAffinity||(e.NotebookControllerAffinity={}));var Re;(function(x){x[x.Default=1]="Default",x[x.Preferred=2]="Preferred",x[x.Hidden=-1]="Hidden"})(Re=e.NotebookControllerAffinity2||(e.NotebookControllerAffinity2={}));class rt{constructor(U,ie=[]){this.uri=U,this.provides=(0,n.asArray)(ie)}}e.NotebookRendererScript=rt;class yt{constructor(U){this.label=U}}e.NotebookKernelSourceAction=yt;let Tt=class{constructor(U,ie){this.label=U,this.timestamp=ie}};Tt=Ve([O],Tt),e.TimelineItem=Tt;var sn;(function(x){x[x.Production=1]="Production",x[x.Development=2]="Development",x[x.Test=3]="Test"})(sn=e.ExtensionMode||(e.ExtensionMode={}));var on;(function(x){x[x.Node=1]="Node",x[x.Webworker=2]="Webworker"})(on=e.ExtensionRuntime||(e.ExtensionRuntime={}));var an;(function(x){x[x.Other=0]="Other",x[x.Comment=1]="Comment",x[x.String=2]="String",x[x.RegEx=3]="RegEx"})(an=e.StandardTokenType||(e.StandardTokenType={}));class ln{constructor(U,ie){this.ranges=U,this.wordPattern=ie}}e.LinkedEditingRanges=ln;class cn{constructor(U,ie){this._port=U,this._autoForwardAction=ie}get port(){return this._port}get autoForwardAction(){return this._autoForwardAction}}e.PortAttributes=cn;var un;(function(x){x[x.Queued=1]="Queued",x[x.Running=2]="Running",x[x.Passed=3]="Passed",x[x.Failed=4]="Failed",x[x.Skipped=5]="Skipped",x[x.Errored=6]="Errored"})(un=e.TestResultState||(e.TestResultState={}));var dn;(function(x){x[x.Run=1]="Run",x[x.Debug=2]="Debug",x[x.Coverage=3]="Coverage"})(dn=e.TestRunProfileKind||(e.TestRunProfileKind={}));let qi=class{constructor(U=void 0,ie=void 0,be=void 0){this.include=U,this.exclude=ie,this.profile=be}};qi=Ve([O],qi),e.TestRunRequest=qi;let Ki=T=class{static diff(U,ie,be){const je=new T(U);return je.expectedOutput=ie,je.actualOutput=be,je}constructor(U){this.message=U}};Ki=T=Ve([O],Ki),e.TestMessage=Ki;let Gi=class{constructor(U){this.id=U}};Gi=Ve([O],Gi),e.TestTag=Gi;let mi=class{constructor(U,ie){this.covered=U,this.total=ie}};mi=Ve([O],mi),e.CoveredCount=mi;let Xi=F=class{static fromDetails(U,ie){const be=new mi(0,0),je=new mi(0,0),Qe=new mi(0,0);for(const ct of ie)if("branches"in ct){be.total+=1,be.covered+=ct.executionCount>0?1:0;for(const Rt of ct.branches)je.total+=1,je.covered+=Rt.executionCount>0?1:0}else Qe.total+=1,Qe.covered+=ct.executionCount>0?1:0;const ot=new F(U,be,je.total>0?je:void 0,Qe.total>0?Qe:void 0);return ot.detailedCoverage=ie,ot}constructor(U,ie,be,je){this.uri=U,this.statementCoverage=ie,this.branchCoverage=be,this.functionCoverage=je}};Xi=F=Ve([O],Xi),e.FileCoverage=Xi;let Qi=class{constructor(U,ie,be=[]){this.executionCount=U,this.location=ie,this.branches=be}};Qi=Ve([O],Qi),e.StatementCoverage=Qi;let Yi=class{constructor(U,ie){this.executionCount=U,this.location=ie}};Yi=Ve([O],Yi),e.BranchCoverage=Yi;let Ji=class{constructor(U,ie){this.executionCount=U,this.location=ie}};Ji=Ve([O],Ji),e.FunctionCoverage=Ji;var hn;(function(x){x[x.None=0]="None",x[x.Option=1]="Option",x[x.Default=2]="Default",x[x.Preferred=3]="Preferred"})(hn=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}));var fn;(function(x){x[x.Untrusted=0]="Untrusted",x[x.Trusted=1]="Trusted",x[x.Unspecified=2]="Unspecified"})(fn=e.WorkspaceTrustState||(e.WorkspaceTrustState={}));var mn;(function(x){x[x.Notify=1]="Notify",x[x.OpenBrowser=2]="OpenBrowser",x[x.OpenPreview=3]="OpenPreview",x[x.Silent=4]="Silent",x[x.Ignore=5]="Ignore",x[x.OpenBrowserOnce=6]="OpenBrowserOnce"})(mn=e.PortAutoForwardAction||(e.PortAutoForwardAction={}));class gn{constructor(U,ie,be,je,Qe,ot){this.kind=U,this.name=ie,this.detail=be,this.uri=je,this.range=Qe,this.selectionRange=ot}}e.TypeHierarchyItem=gn;class pn{constructor(U){this.uri=U}}e.TextTabInput=pn;class vn{constructor(U,ie){this.original=U,this.modified=ie}}e.TextDiffTabInput=vn;class En{constructor(U,ie,be,je){this.base=U,this.input1=ie,this.input2=be,this.result=je}}e.TextMergeTabInput=En;class bn{constructor(U,ie){this.uri=U,this.viewType=ie}}e.CustomEditorTabInput=bn;class wn{constructor(U){this.viewType=U}}e.WebviewEditorTabInput=wn;class Sn{constructor(U,ie){this.uri=U,this.notebookType=ie}}e.NotebookEditorTabInput=Sn;class _n{constructor(U,ie,be){this.original=U,this.modified=ie,this.notebookType=be}}e.NotebookDiffEditorTabInput=_n;class yn{constructor(){}}e.TerminalEditorTabInput=yn;class Dn{constructor(U,ie){this.uri=U,this.inputBoxUri=ie}}e.InteractiveWindowInput=Dn}),define(De[95],Ie([1,0,47,13,10,249,125,6,16]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentLine=e.ExtHostDocumentData=e.setWordDefinitionFor=void 0;const C=new Map;function R(h,i){i?C.set(h,i):C.delete(h)}e.setWordDefinitionFor=R;function y(h){return C.get(h)}class f extends M.MirrorTextModel{constructor(i,o,u,b,E,g,w,s){super(o,u,b,E),this._proxy=i,this._languageId=g,this._isDirty=w,this.notebook=s,this._isDisposed=!1}dispose(){(0,n.ok)(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}equalLines(i){return(0,S.equals)(this._lines,i)}get document(){if(!this._document){const i=this;this._document={get uri(){return i._uri},get fileName(){return i._uri.fsPath},get isUntitled(){return i._uri.scheme===k.Schemas.untitled},get languageId(){return i._languageId},get version(){return i._versionId},get isClosed(){return i._isDisposed},get isDirty(){return i._isDirty},save(){return i._save()},getText(o){return o?i._getTextInRange(o):i.getText()},get eol(){return i._eol===`
`?A.EndOfLine.LF:A.EndOfLine.CRLF},get lineCount(){return i._lines.length},lineAt(o){return i._lineAt(o)},offsetAt(o){return i._offsetAt(o)},positionAt(o){return i._positionAt(o)},validateRange(o){return i._validateRange(o)},validatePosition(o){return i._validatePosition(o)},getWordRangeAtPosition(o,u){return i._getWordRangeAtPosition(o,u)}}}return Object.freeze(this._document)}_acceptLanguageId(i){(0,n.ok)(!this._isDisposed),this._languageId=i}_acceptIsDirty(i){(0,n.ok)(!this._isDisposed),this._isDirty=i}_save(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}_getTextInRange(i){const o=this._validateRange(i);if(o.isEmpty)return"";if(o.isSingleLine)return this._lines[o.start.line].substring(o.start.character,o.end.character);const u=this._eol,b=o.start.line,E=o.end.line,g=[];g.push(this._lines[b].substring(o.start.character));for(let w=b+1;w<E;w++)g.push(this._lines[w]);return g.push(this._lines[E].substring(0,o.end.character)),g.join(u)}_lineAt(i){let o;if(i instanceof A.Position?o=i.line:typeof i=="number"&&(o=i),typeof o!="number"||o<0||o>=this._lines.length||Math.floor(o)!==o)throw new Error("Illegal value for `line`");return new v(o,this._lines[o],o===this._lines.length-1)}_offsetAt(i){return i=this._validatePosition(i),this._ensureLineStarts(),this._lineStarts.getPrefixSum(i.line-1)+i.character}_positionAt(i){i=Math.floor(i),i=Math.max(0,i),this._ensureLineStarts();const o=this._lineStarts.getIndexOf(i),u=this._lines[o.index].length;return new A.Position(o.index,Math.min(o.remainder,u))}_validateRange(i){if(!(i instanceof A.Range))throw new Error("Invalid argument");const o=this._validatePosition(i.start),u=this._validatePosition(i.end);return o===i.start&&u===i.end?i:new A.Range(o.line,o.character,u.line,u.character)}_validatePosition(i){if(!(i instanceof A.Position))throw new Error("Invalid argument");if(this._lines.length===0)return i.with(0,0);let{line:o,character:u}=i,b=!1;if(o<0)o=0,u=0,b=!0;else if(o>=this._lines.length)o=this._lines.length-1,u=this._lines[o].length,b=!0;else{const E=this._lines[o].length;u<0?(u=0,b=!0):u>E&&(u=E,b=!0)}return b?new A.Position(o,u):i}_getWordRangeAtPosition(i,o){const u=this._validatePosition(i);if(!o)o=y(this._languageId);else if((0,_.regExpLeadsToEndlessLoop)(o))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${o.source}' because it matches the empty string.`);const b=(0,I.getWordAtText)(u.character+1,(0,I.ensureValidWordDefinition)(o),this._lines[u.line],0);if(b)return new A.Range(u.line,b.startColumn-1,u.line,b.endColumn-1)}}e.ExtHostDocumentData=f;class v{constructor(i,o,u){this._line=i,this._text=o,this._isLastLine=u}get lineNumber(){return this._line}get text(){return this._text}get range(){return new A.Range(this._line,0,this._line,this._text.length)}get rangeIncludingLineBreak(){return this._isLastLine?this.range:new A.Range(this._line,0,this._line+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this._text)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}e.ExtHostDocumentLine=v}),define(De[183],Ie([1,0,6,14,5]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTheming=void 0;let M=class{constructor(A){this._actual=new n.ColorTheme(n.ColorThemeKind.Dark),this._onDidChangeActiveColorTheme=new _.Emitter}get activeColorTheme(){return this._actual}$onColorThemeChange(A){let S;switch(A){case"light":S=n.ColorThemeKind.Light;break;case"hcDark":S=n.ColorThemeKind.HighContrast;break;case"hcLight":S=n.ColorThemeKind.HighContrastLight;break;default:S=n.ColorThemeKind.Dark}this._actual=new n.ColorTheme(S),this._onDidChangeActiveColorTheme.fire(this._actual)}get onDidChangeActiveColorTheme(){return this._onDidChangeActiveColorTheme.event}};M=Ve([We(0,k.IExtHostRpcService)],M),e.ExtHostTheming=M}),define(De[8],Ie([1,0,16,24,111,184,81,28,108,80,61,23,9,2,54,71,86,93,92,66,42,53,178,6]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfer=e.DataTransferItem=e.ViewBadge=e.TypeHierarchyItem=e.CodeActionTriggerKind=e.TestCoverage=e.TestResults=e.TestItem=e.TestTag=e.TestMessage=e.NotebookRendererScript=e.NotebookDocumentContentOptions=e.NotebookKernelSourceAction=e.NotebookStatusBarItem=e.NotebookExclusiveDocumentPattern=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookCellData=e.NotebookData=e.NotebookCellKind=e.NotebookCellExecutionState=e.NotebookCellExecutionSummary=e.NotebookRange=e.LanguageSelector=e.GlobPattern=e.TextEditorOpenOptions=e.FoldingRangeKind=e.FoldingRange=e.ProgressLocation=e.EndOfLine=e.TextEditorLineNumbersStyle=e.TextDocumentSaveReason=e.SelectionRange=e.Color=e.ColorPresentation=e.DocumentLink=e.InlayHintKind=e.InlayHintLabelPart=e.InlayHint=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.CompletionItem=e.CompletionItemKind=e.CompletionItemTag=e.CompletionContext=e.CompletionTriggerKind=e.DocumentHighlight=e.InlineValueContext=e.InlineValue=e.EvaluatableExpression=e.Hover=e.DefinitionLink=e.location=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolTag=e.SymbolKind=e.WorkspaceEdit=e.TextEdit=e.DecorationRenderOptions=e.DecorationRangeBehavior=e.ThemableDecorationRenderOptions=e.ThemableDecorationAttachmentRenderOptions=e.pathOrURIToURI=e.fromRangeOrRangeWithMessage=e.MarkdownString=e.isDecorationOptionsArr=e.ViewColumn=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.Diagnostic=e.DiagnosticTag=e.DocumentSelector=e.Position=e.TokenType=e.Range=e.Selection=void 0;var a;(function(_e){function Te(K){const{selectionStartLineNumber:Pe,selectionStartColumn:Me,positionLineNumber:Ge,positionColumn:ze}=K,Ze=new r.Position(Pe-1,Me-1),Dt=new r.Position(Ge-1,ze-1);return new r.Selection(Ze,Dt)}_e.to=Te;function me(K){const{anchor:Pe,active:Me}=K;return{selectionStartLineNumber:Pe.line+1,selectionStartColumn:Pe.character+1,positionLineNumber:Me.line+1,positionColumn:Me.character+1}}_e.from=me})(a=e.Selection||(e.Selection={}));var d;(function(_e){function Te(K){if(!K)return;const{start:Pe,end:Me}=K;return{startLineNumber:Pe.line+1,startColumn:Pe.character+1,endLineNumber:Me.line+1,endColumn:Me.character+1}}_e.from=Te;function me(K){if(!K)return;const{startLineNumber:Pe,startColumn:Me,endLineNumber:Ge,endColumn:ze}=K;return new r.Range(Pe-1,Me-1,Ge-1,ze-1)}_e.to=me})(d=e.Range||(e.Range={}));var l;(function(_e){function Te(me){switch(me){case 1:return r.StandardTokenType.Comment;case 0:return r.StandardTokenType.Other;case 3:return r.StandardTokenType.RegEx;case 2:return r.StandardTokenType.String}}_e.to=Te})(l=e.TokenType||(e.TokenType={}));var c;(function(_e){function Te(K){return new r.Position(K.lineNumber-1,K.column-1)}_e.to=Te;function me(K){return{lineNumber:K.line+1,column:K.character+1}}_e.from=me})(c=e.Position||(e.Position={}));var t;(function(_e){function Te(Pe,Me){return(0,n.coalesce)((0,n.asArray)(Pe).map(Ge=>me(Ge,Me)))}_e.from=Te;function me(Pe,Me){if(typeof Pe=="string")return{$serialized:!0,language:Pe};if(Pe)return{$serialized:!0,language:Pe.language,scheme:K(Pe.scheme,Me),pattern:X.from(Pe.pattern)??void 0,exclusive:Pe.exclusive,notebookType:Pe.notebookType}}function K(Pe,Me){return Me&&typeof Pe=="string"?Me.transformOutgoingScheme(Pe):Pe}})(t=e.DocumentSelector||(e.DocumentSelector={}));var m;(function(_e){function Te(K){switch(K){case r.DiagnosticTag.Unnecessary:return 1;case r.DiagnosticTag.Deprecated:return 2}}_e.from=Te;function me(K){switch(K){case 1:return r.DiagnosticTag.Unnecessary;case 2:return r.DiagnosticTag.Deprecated;default:return}}_e.to=me})(m=e.DiagnosticTag||(e.DiagnosticTag={}));var p;(function(_e){function Te(K){let Pe;return K.code&&((0,f.isString)(K.code)||(0,f.isNumber)(K.code)?Pe=String(K.code):Pe={value:String(K.code.value),target:K.code.target}),{...d.from(K.range),message:K.message,source:K.source,code:Pe,severity:L.from(K.severity),relatedInformation:K.relatedInformation&&K.relatedInformation.map(P.from),tags:Array.isArray(K.tags)?(0,n.coalesce)(K.tags.map(m.from)):void 0}}_e.from=Te;function me(K){const Pe=new r.Diagnostic(d.to(K),K.message,L.to(K.severity));return Pe.source=K.source,Pe.code=(0,f.isString)(K.code)?K.code:K.code?.value,Pe.relatedInformation=K.relatedInformation&&K.relatedInformation.map(P.to),Pe.tags=K.tags&&(0,n.coalesce)(K.tags.map(m.to)),Pe}_e.to=me})(p=e.Diagnostic||(e.Diagnostic={}));var P;(function(_e){function Te(K){return{...d.from(K.location.range),message:K.message,resource:K.location.uri}}_e.from=Te;function me(K){return new r.DiagnosticRelatedInformation(new r.Location(K.resource,d.to(K)),K.message)}_e.to=me})(P=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var L;(function(_e){function Te(K){switch(K){case r.DiagnosticSeverity.Error:return o.MarkerSeverity.Error;case r.DiagnosticSeverity.Warning:return o.MarkerSeverity.Warning;case r.DiagnosticSeverity.Information:return o.MarkerSeverity.Info;case r.DiagnosticSeverity.Hint:return o.MarkerSeverity.Hint}return o.MarkerSeverity.Error}_e.from=Te;function me(K){switch(K){case o.MarkerSeverity.Info:return r.DiagnosticSeverity.Information;case o.MarkerSeverity.Warning:return r.DiagnosticSeverity.Warning;case o.MarkerSeverity.Error:return r.DiagnosticSeverity.Error;case o.MarkerSeverity.Hint:return r.DiagnosticSeverity.Hint;default:return r.DiagnosticSeverity.Error}}_e.to=me})(L=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var V;(function(_e){function Te(K){return typeof K=="number"&&K>=r.ViewColumn.One?K-1:K===r.ViewColumn.Beside?s.SIDE_GROUP:s.ACTIVE_GROUP}_e.from=Te;function me(K){if(typeof K=="number"&&K>=0)return K+1;throw new Error("invalid 'EditorGroupColumn'")}_e.to=me})(V=e.ViewColumn||(e.ViewColumn={}));function H(_e){return typeof _e.range<"u"}function W(_e){return _e.length===0?!0:!!H(_e[0])}e.isDecorationOptionsArr=W;var T;(function(_e){function Te(ze){return ze.map(_e.from)}_e.fromMany=Te;function me(ze){return ze&&typeof ze=="object"&&typeof ze.language=="string"&&typeof ze.value=="string"}function K(ze){let Ze;if(me(ze)){const{language:gt,value:pt}=ze;Ze={value:"```"+gt+`
`+pt+"\n```\n"}}else r.MarkdownString.isMarkdownString(ze)?Ze={value:ze.value,isTrusted:ze.isTrusted,supportThemeIcons:ze.supportThemeIcons,supportHtml:ze.supportHtml,baseUri:ze.baseUri}:typeof ze=="string"?Ze={value:ze}:Ze={value:""};const Dt=Object.create(null);Ze.uris=Dt;const Et=gt=>{try{let pt=v.URI.parse(gt,!0);pt=pt.with({query:Pe(pt.query,Dt)}),Dt[gt]=pt}catch{}return""},Ct=new S.marked.Renderer;return Ct.link=Et,Ct.image=gt=>typeof gt=="string"?Et(I.parseHrefAndDimensions(gt).href):"",(0,S.marked)(Ze.value,{renderer:Ct}),Ze}_e.from=K;function Pe(ze,Ze){if(!ze)return ze;let Dt;try{Dt=(0,C.parse)(ze)}catch{}if(!Dt)return ze;let Et=!1;return Dt=(0,y.cloneAndChange)(Dt,Ct=>{if(v.URI.isUri(Ct)){const gt=`__uri_${Math.random().toString(16).slice(2,8)}`;return Ze[gt]=Ct,Et=!0,gt}else return}),Et?JSON.stringify(Dt):ze}function Me(ze){const Ze=new r.MarkdownString(ze.value,ze.supportThemeIcons);return Ze.isTrusted=ze.isTrusted,Ze.supportHtml=ze.supportHtml,Ze.baseUri=ze.baseUri?v.URI.from(ze.baseUri):void 0,Ze}_e.to=Me;function Ge(ze){if(!!ze)return typeof ze=="string"?ze:_e.from(ze)}_e.fromStrict=Ge})(T=e.MarkdownString||(e.MarkdownString={}));function F(_e){return W(_e)?_e.map(Te=>({range:d.from(Te.range),hoverMessage:Array.isArray(Te.hoverMessage)?T.fromMany(Te.hoverMessage):Te.hoverMessage?T.from(Te.hoverMessage):void 0,renderOptions:Te.renderOptions})):_e.map(Te=>({range:d.from(Te)}))}e.fromRangeOrRangeWithMessage=F;function O(_e){return typeof _e>"u"?_e:typeof _e=="string"?v.URI.file(_e):_e}e.pathOrURIToURI=O;var B;(function(_e){function Te(me){return typeof me>"u"?me:{contentText:me.contentText,contentIconPath:me.contentIconPath?O(me.contentIconPath):void 0,border:me.border,borderColor:me.borderColor,fontStyle:me.fontStyle,fontWeight:me.fontWeight,textDecoration:me.textDecoration,color:me.color,backgroundColor:me.backgroundColor,margin:me.margin,width:me.width,height:me.height}}_e.from=Te})(B=e.ThemableDecorationAttachmentRenderOptions||(e.ThemableDecorationAttachmentRenderOptions={}));var z;(function(_e){function Te(me){return typeof me>"u"?me:{backgroundColor:me.backgroundColor,outline:me.outline,outlineColor:me.outlineColor,outlineStyle:me.outlineStyle,outlineWidth:me.outlineWidth,border:me.border,borderColor:me.borderColor,borderRadius:me.borderRadius,borderSpacing:me.borderSpacing,borderStyle:me.borderStyle,borderWidth:me.borderWidth,fontStyle:me.fontStyle,fontWeight:me.fontWeight,textDecoration:me.textDecoration,cursor:me.cursor,color:me.color,opacity:me.opacity,letterSpacing:me.letterSpacing,gutterIconPath:me.gutterIconPath?O(me.gutterIconPath):void 0,gutterIconSize:me.gutterIconSize,overviewRulerColor:me.overviewRulerColor,before:me.before?B.from(me.before):void 0,after:me.after?B.from(me.after):void 0}}_e.from=Te})(z=e.ThemableDecorationRenderOptions||(e.ThemableDecorationRenderOptions={}));var j;(function(_e){function Te(me){if(typeof me>"u")return me;switch(me){case r.DecorationRangeBehavior.OpenOpen:return 0;case r.DecorationRangeBehavior.ClosedClosed:return 1;case r.DecorationRangeBehavior.OpenClosed:return 2;case r.DecorationRangeBehavior.ClosedOpen:return 3}}_e.from=Te})(j=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={}));var G;(function(_e){function Te(me){return{isWholeLine:me.isWholeLine,rangeBehavior:me.rangeBehavior?j.from(me.rangeBehavior):void 0,overviewRulerLane:me.overviewRulerLane,light:me.light?z.from(me.light):void 0,dark:me.dark?z.from(me.dark):void 0,backgroundColor:me.backgroundColor,outline:me.outline,outlineColor:me.outlineColor,outlineStyle:me.outlineStyle,outlineWidth:me.outlineWidth,border:me.border,borderColor:me.borderColor,borderRadius:me.borderRadius,borderSpacing:me.borderSpacing,borderStyle:me.borderStyle,borderWidth:me.borderWidth,fontStyle:me.fontStyle,fontWeight:me.fontWeight,textDecoration:me.textDecoration,cursor:me.cursor,color:me.color,opacity:me.opacity,letterSpacing:me.letterSpacing,gutterIconPath:me.gutterIconPath?O(me.gutterIconPath):void 0,gutterIconSize:me.gutterIconSize,overviewRulerColor:me.overviewRulerColor,before:me.before?B.from(me.before):void 0,after:me.after?B.from(me.after):void 0}}_e.from=Te})(G=e.DecorationRenderOptions||(e.DecorationRenderOptions={}));var Z;(function(_e){function Te(K){return{text:K.newText,eol:K.newEol&&it.from(K.newEol),range:d.from(K.range)}}_e.from=Te;function me(K){const Pe=new r.TextEdit(d.to(K.range),K.text);return Pe.newEol=typeof K.eol>"u"?void 0:it.to(K.eol),Pe}_e.to=me})(Z=e.TextEdit||(e.TextEdit={}));var he;(function(_e){function Te(K,Pe){const Me={edits:[]};if(K instanceof r.WorkspaceEdit){const Ge=new A.ResourceSet;for(const ze of K._allEntries())ze._type===1&&v.URI.isUri(ze.to)&&ze.from===void 0&&Ge.add(ze.to);for(const ze of K._allEntries())ze._type===1?Me.edits.push({oldResource:ze.from,newResource:ze.to,options:{...ze.options,contentsBase64:ze.options?.contents&&(0,k.encodeBase64)(k.VSBuffer.wrap(ze.options.contents))},metadata:ze.metadata}):ze._type===2?Me.edits.push({resource:ze.uri,textEdit:Z.from(ze.edit),versionId:Ge.has(ze.uri)?void 0:Pe?.getTextDocumentVersion(ze.uri),metadata:ze.metadata}):ze._type===6?Me.edits.push({resource:ze.uri,textEdit:{range:d.from(ze.range),text:ze.edit.value,insertAsSnippet:!0},versionId:Ge.has(ze.uri)?void 0:Pe?.getTextDocumentVersion(ze.uri),metadata:ze.metadata}):ze._type===3?Me.edits.push({metadata:ze.metadata,resource:ze.uri,cellEdit:ze.edit,notebookMetadata:ze.notebookMetadata,notebookVersionId:Pe?.getNotebookDocumentVersion(ze.uri)}):ze._type===5&&Me.edits.push({metadata:ze.metadata,resource:ze.uri,notebookVersionId:Pe?.getNotebookDocumentVersion(ze.uri),cellEdit:{editType:1,index:ze.index,count:ze.count,cells:ze.cells.map(vt.from)}})}return Me}_e.from=Te;function me(K){const Pe=new r.WorkspaceEdit;for(const Me of K.edits)Me.textEdit?Pe.replace(v.URI.revive(Me.resource),d.to(Me.textEdit.range),Me.textEdit.text):Pe.renameFile(v.URI.revive(Me.oldResource),v.URI.revive(Me.newResource),Me.options);return Pe}_e.to=me})(he=e.WorkspaceEdit||(e.WorkspaceEdit={}));var oe;(function(_e){const Te=Object.create(null);Te[r.SymbolKind.File]=0,Te[r.SymbolKind.Module]=1,Te[r.SymbolKind.Namespace]=2,Te[r.SymbolKind.Package]=3,Te[r.SymbolKind.Class]=4,Te[r.SymbolKind.Method]=5,Te[r.SymbolKind.Property]=6,Te[r.SymbolKind.Field]=7,Te[r.SymbolKind.Constructor]=8,Te[r.SymbolKind.Enum]=9,Te[r.SymbolKind.Interface]=10,Te[r.SymbolKind.Function]=11,Te[r.SymbolKind.Variable]=12,Te[r.SymbolKind.Constant]=13,Te[r.SymbolKind.String]=14,Te[r.SymbolKind.Number]=15,Te[r.SymbolKind.Boolean]=16,Te[r.SymbolKind.Array]=17,Te[r.SymbolKind.Object]=18,Te[r.SymbolKind.Key]=19,Te[r.SymbolKind.Null]=20,Te[r.SymbolKind.EnumMember]=21,Te[r.SymbolKind.Struct]=22,Te[r.SymbolKind.Event]=23,Te[r.SymbolKind.Operator]=24,Te[r.SymbolKind.TypeParameter]=25;function me(Pe){return typeof Te[Pe]=="number"?Te[Pe]:6}_e.from=me;function K(Pe){for(const Me in Te)if(Te[Me]===Pe)return Number(Me);return r.SymbolKind.Property}_e.to=K})(oe=e.SymbolKind||(e.SymbolKind={}));var ce;(function(_e){function Te(K){switch(K){case r.SymbolTag.Deprecated:return 1}}_e.from=Te;function me(K){switch(K){case 1:return r.SymbolTag.Deprecated}}_e.to=me})(ce=e.SymbolTag||(e.SymbolTag={}));var le;(function(_e){function Te(K){return{name:K.name,kind:oe.from(K.kind),tags:K.tags&&K.tags.map(ce.from),containerName:K.containerName,location:Fe.from(K.location)}}_e.from=Te;function me(K){const Pe=new r.SymbolInformation(K.name,oe.to(K.kind),K.containerName,Fe.to(K.location));return Pe.tags=K.tags&&K.tags.map(ce.to),Pe}_e.to=me})(le=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var fe;(function(_e){function Te(K){const Pe={name:K.name||"!!MISSING: name!!",detail:K.detail,range:d.from(K.range),selectionRange:d.from(K.selectionRange),kind:oe.from(K.kind),tags:K.tags?.map(ce.from)??[]};return K.children&&(Pe.children=K.children.map(Te)),Pe}_e.from=Te;function me(K){const Pe=new r.DocumentSymbol(K.name,K.detail,oe.to(K.kind),d.to(K.range),d.to(K.selectionRange));return(0,n.isNonEmptyArray)(K.tags)&&(Pe.tags=K.tags.map(ce.to)),K.children&&(Pe.children=K.children.map(me)),Pe}_e.to=me})(fe=e.DocumentSymbol||(e.DocumentSymbol={}));var Y;(function(_e){function Te(K){const Pe=new r.CallHierarchyItem(oe.to(K.kind),K.name,K.detail||"",v.URI.revive(K.uri),d.to(K.range),d.to(K.selectionRange));return Pe._sessionId=K._sessionId,Pe._itemId=K._itemId,Pe}_e.to=Te;function me(K,Pe,Me){if(Pe=Pe??K._sessionId,Me=Me??K._itemId,Pe===void 0||Me===void 0)throw new Error("invalid item");return{_sessionId:Pe,_itemId:Me,name:K.name,detail:K.detail,kind:oe.from(K.kind),uri:K.uri,range:d.from(K.range),selectionRange:d.from(K.selectionRange),tags:K.tags?.map(ce.from)}}_e.from=me})(Y=e.CallHierarchyItem||(e.CallHierarchyItem={}));var ge;(function(_e){function Te(me){return new r.CallHierarchyIncomingCall(Y.to(me.from),me.fromRanges.map(K=>d.to(K)))}_e.to=Te})(ge=e.CallHierarchyIncomingCall||(e.CallHierarchyIncomingCall={}));var we;(function(_e){function Te(me){return new r.CallHierarchyOutgoingCall(Y.to(me.to),me.fromRanges.map(K=>d.to(K)))}_e.to=Te})(we=e.CallHierarchyOutgoingCall||(e.CallHierarchyOutgoingCall={}));var Fe;(function(_e){function Te(K){return{range:K.range&&d.from(K.range),uri:K.uri}}_e.from=Te;function me(K){return new r.Location(v.URI.revive(K.uri),d.to(K.range))}_e.to=me})(Fe=e.location||(e.location={}));var xe;(function(_e){function Te(K){const Pe=K,Me=K;return{originSelectionRange:Pe.originSelectionRange?d.from(Pe.originSelectionRange):void 0,uri:Pe.targetUri?Pe.targetUri:Me.uri,range:d.from(Pe.targetRange?Pe.targetRange:Me.range),targetSelectionRange:Pe.targetSelectionRange?d.from(Pe.targetSelectionRange):void 0}}_e.from=Te;function me(K){return{targetUri:v.URI.revive(K.uri),targetRange:d.to(K.range),targetSelectionRange:K.targetSelectionRange?d.to(K.targetSelectionRange):void 0,originSelectionRange:K.originSelectionRange?d.to(K.originSelectionRange):void 0}}_e.to=me})(xe=e.DefinitionLink||(e.DefinitionLink={}));var Xe;(function(_e){function Te(K){return{range:d.from(K.range),contents:T.fromMany(K.contents)}}_e.from=Te;function me(K){return new r.Hover(K.contents.map(T.to),d.to(K.range))}_e.to=me})(Xe=e.Hover||(e.Hover={}));var ke;(function(_e){function Te(K){return{range:d.from(K.range),expression:K.expression}}_e.from=Te;function me(K){return new r.EvaluatableExpression(d.to(K.range),K.expression)}_e.to=me})(ke=e.EvaluatableExpression||(e.EvaluatableExpression={}));var ye;(function(_e){function Te(K){if(K instanceof r.InlineValueText)return{type:"text",range:d.from(K.range),text:K.text};if(K instanceof r.InlineValueVariableLookup)return{type:"variable",range:d.from(K.range),variableName:K.variableName,caseSensitiveLookup:K.caseSensitiveLookup};if(K instanceof r.InlineValueEvaluatableExpression)return{type:"expression",range:d.from(K.range),expression:K.expression};throw new Error("Unknown 'InlineValue' type")}_e.from=Te;function me(K){switch(K.type){case"text":return{range:d.to(K.range),text:K.text};case"variable":return{range:d.to(K.range),variableName:K.variableName,caseSensitiveLookup:K.caseSensitiveLookup};case"expression":return{range:d.to(K.range),expression:K.expression}}}_e.to=me})(ye=e.InlineValue||(e.InlineValue={}));var Ce;(function(_e){function Te(K){return{frameId:K.frameId,stoppedLocation:d.from(K.stoppedLocation)}}_e.from=Te;function me(K){return new r.InlineValueContext(K.frameId,d.to(K.stoppedLocation))}_e.to=me})(Ce=e.InlineValueContext||(e.InlineValueContext={}));var re;(function(_e){function Te(K){return{range:d.from(K.range),kind:K.kind}}_e.from=Te;function me(K){return new r.DocumentHighlight(d.to(K.range),K.kind)}_e.to=me})(re=e.DocumentHighlight||(e.DocumentHighlight={}));var ae;(function(_e){function Te(me){switch(me){case 1:return r.CompletionTriggerKind.TriggerCharacter;case 2:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;case 0:default:return r.CompletionTriggerKind.Invoke}}_e.to=Te})(ae=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var J;(function(_e){function Te(me){return{triggerKind:ae.to(me.triggerKind),triggerCharacter:me.triggerCharacter}}_e.to=Te})(J=e.CompletionContext||(e.CompletionContext={}));var D;(function(_e){function Te(K){switch(K){case r.CompletionItemTag.Deprecated:return 1}}_e.from=Te;function me(K){switch(K){case 1:return r.CompletionItemTag.Deprecated}}_e.to=me})(D=e.CompletionItemTag||(e.CompletionItemTag={}));var N;(function(_e){const Te=new Map([[r.CompletionItemKind.Method,0],[r.CompletionItemKind.Function,1],[r.CompletionItemKind.Constructor,2],[r.CompletionItemKind.Field,3],[r.CompletionItemKind.Variable,4],[r.CompletionItemKind.Class,5],[r.CompletionItemKind.Interface,7],[r.CompletionItemKind.Struct,6],[r.CompletionItemKind.Module,8],[r.CompletionItemKind.Property,9],[r.CompletionItemKind.Unit,12],[r.CompletionItemKind.Value,13],[r.CompletionItemKind.Constant,14],[r.CompletionItemKind.Enum,15],[r.CompletionItemKind.EnumMember,16],[r.CompletionItemKind.Keyword,17],[r.CompletionItemKind.Snippet,27],[r.CompletionItemKind.Text,18],[r.CompletionItemKind.Color,19],[r.CompletionItemKind.File,20],[r.CompletionItemKind.Reference,21],[r.CompletionItemKind.Folder,23],[r.CompletionItemKind.Event,10],[r.CompletionItemKind.Operator,11],[r.CompletionItemKind.TypeParameter,24],[r.CompletionItemKind.Issue,26],[r.CompletionItemKind.User,25]]);function me(Me){return Te.get(Me)??9}_e.from=me;const K=new Map([[0,r.CompletionItemKind.Method],[1,r.CompletionItemKind.Function],[2,r.CompletionItemKind.Constructor],[3,r.CompletionItemKind.Field],[4,r.CompletionItemKind.Variable],[5,r.CompletionItemKind.Class],[7,r.CompletionItemKind.Interface],[6,r.CompletionItemKind.Struct],[8,r.CompletionItemKind.Module],[9,r.CompletionItemKind.Property],[12,r.CompletionItemKind.Unit],[13,r.CompletionItemKind.Value],[14,r.CompletionItemKind.Constant],[15,r.CompletionItemKind.Enum],[16,r.CompletionItemKind.EnumMember],[17,r.CompletionItemKind.Keyword],[27,r.CompletionItemKind.Snippet],[18,r.CompletionItemKind.Text],[19,r.CompletionItemKind.Color],[20,r.CompletionItemKind.File],[21,r.CompletionItemKind.Reference],[23,r.CompletionItemKind.Folder],[10,r.CompletionItemKind.Event],[11,r.CompletionItemKind.Operator],[24,r.CompletionItemKind.TypeParameter],[25,r.CompletionItemKind.User],[26,r.CompletionItemKind.Issue]]);function Pe(Me){return K.get(Me)??r.CompletionItemKind.Property}_e.to=Pe})(N=e.CompletionItemKind||(e.CompletionItemKind={}));var $;(function(_e){function Te(me,K){const Pe=new r.CompletionItem(me.label);return Pe.insertText=me.insertText,Pe.kind=N.to(me.kind),Pe.tags=me.tags?.map(D.to),Pe.detail=me.detail,Pe.documentation=I.isMarkdownString(me.documentation)?T.to(me.documentation):me.documentation,Pe.sortText=me.sortText,Pe.filterText=me.filterText,Pe.preselect=me.preselect,Pe.commitCharacters=me.commitCharacters,h.Range.isIRange(me.range)?Pe.range=d.to(me.range):typeof me.range=="object"&&(Pe.range={inserting:d.to(me.range.insert),replacing:d.to(me.range.replace)}),Pe.keepWhitespace=typeof me.insertTextRules>"u"?!1:Boolean(me.insertTextRules&1),typeof me.insertTextRules<"u"&&me.insertTextRules&4?Pe.insertText=new r.SnippetString(me.insertText):(Pe.insertText=me.insertText,Pe.textEdit=Pe.range instanceof r.Range?new r.TextEdit(Pe.range,Pe.insertText):void 0),me.additionalTextEdits&&me.additionalTextEdits.length>0&&(Pe.additionalTextEdits=me.additionalTextEdits.map(Me=>Z.to(Me))),Pe.command=K&&me.command?K.fromInternal(me.command):void 0,Pe}_e.to=Te})($=e.CompletionItem||(e.CompletionItem={}));var q;(function(_e){function Te(K){if(typeof K.label!="string"&&!Array.isArray(K.label))throw new TypeError("Invalid label");return{label:K.label,documentation:T.fromStrict(K.documentation)}}_e.from=Te;function me(K){return{label:K.label,documentation:I.isMarkdownString(K.documentation)?T.to(K.documentation):K.documentation}}_e.to=me})(q=e.ParameterInformation||(e.ParameterInformation={}));var ee;(function(_e){function Te(K){return{label:K.label,documentation:T.fromStrict(K.documentation),parameters:Array.isArray(K.parameters)?K.parameters.map(q.from):[],activeParameter:K.activeParameter}}_e.from=Te;function me(K){return{label:K.label,documentation:I.isMarkdownString(K.documentation)?T.to(K.documentation):K.documentation,parameters:Array.isArray(K.parameters)?K.parameters.map(q.to):[],activeParameter:K.activeParameter}}_e.to=me})(ee=e.SignatureInformation||(e.SignatureInformation={}));var ue;(function(_e){function Te(K){return{activeSignature:K.activeSignature,activeParameter:K.activeParameter,signatures:Array.isArray(K.signatures)?K.signatures.map(ee.from):[]}}_e.from=Te;function me(K){return{activeSignature:K.activeSignature,activeParameter:K.activeParameter,signatures:Array.isArray(K.signatures)?K.signatures.map(ee.to):[]}}_e.to=me})(ue=e.SignatureHelp||(e.SignatureHelp={}));var Se;(function(_e){function Te(me,K){const Pe=new r.InlayHint(c.to(K.position),typeof K.label=="string"?K.label:K.label.map(se.to.bind(void 0,me)),K.kind&&ve.to(K.kind));return Pe.textEdits=K.textEdits&&K.textEdits.map(Z.to),Pe.tooltip=I.isMarkdownString(K.tooltip)?T.to(K.tooltip):K.tooltip,Pe.paddingLeft=K.paddingLeft,Pe.paddingRight=K.paddingRight,Pe}_e.to=Te})(Se=e.InlayHint||(e.InlayHint={}));var se;(function(_e){function Te(me,K){const Pe=new r.InlayHintLabelPart(K.label);return Pe.tooltip=I.isMarkdownString(K.tooltip)?T.to(K.tooltip):K.tooltip,i.Command.is(K.command)&&(Pe.command=me.fromInternal(K.command)),K.location&&(Pe.location=Fe.to(K.location)),Pe}_e.to=Te})(se=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var ve;(function(_e){function Te(K){return K}_e.from=Te;function me(K){return K}_e.to=me})(ve=e.InlayHintKind||(e.InlayHintKind={}));var Ee;(function(_e){function Te(K){return{range:d.from(K.range),url:K.target,tooltip:K.tooltip}}_e.from=Te;function me(K){let Pe;if(K.url)try{Pe=typeof K.url=="string"?v.URI.parse(K.url,!0):v.URI.revive(K.url)}catch{}return new r.DocumentLink(d.to(K.range),Pe)}_e.to=me})(Ee=e.DocumentLink||(e.DocumentLink={}));var Be;(function(_e){function Te(K){const Pe=new r.ColorPresentation(K.label);return K.textEdit&&(Pe.textEdit=Z.to(K.textEdit)),K.additionalTextEdits&&(Pe.additionalTextEdits=K.additionalTextEdits.map(Me=>Z.to(Me))),Pe}_e.to=Te;function me(K){return{label:K.label,textEdit:K.textEdit?Z.from(K.textEdit):void 0,additionalTextEdits:K.additionalTextEdits?K.additionalTextEdits.map(Pe=>Z.from(Pe)):void 0}}_e.from=me})(Be=e.ColorPresentation||(e.ColorPresentation={}));var $e;(function(_e){function Te(K){return new r.Color(K[0],K[1],K[2],K[3])}_e.to=Te;function me(K){return[K.red,K.green,K.blue,K.alpha]}_e.from=me})($e=e.Color||(e.Color={}));var tt;(function(_e){function Te(K){return{range:d.from(K.range)}}_e.from=Te;function me(K){return new r.SelectionRange(d.to(K.range))}_e.to=me})(tt=e.SelectionRange||(e.SelectionRange={}));var Ke;(function(_e){function Te(me){switch(me){case 2:return r.TextDocumentSaveReason.AfterDelay;case 1:return r.TextDocumentSaveReason.Manual;case 3:case 4:return r.TextDocumentSaveReason.FocusOut}}_e.to=Te})(Ke=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var et;(function(_e){function Te(K){switch(K){case r.TextEditorLineNumbersStyle.Off:return 0;case r.TextEditorLineNumbersStyle.Relative:return 2;case r.TextEditorLineNumbersStyle.On:default:return 1}}_e.from=Te;function me(K){switch(K){case 0:return r.TextEditorLineNumbersStyle.Off;case 2:return r.TextEditorLineNumbersStyle.Relative;case 1:default:return r.TextEditorLineNumbersStyle.On}}_e.to=me})(et=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var it;(function(_e){function Te(K){if(K===r.EndOfLine.CRLF)return 1;if(K===r.EndOfLine.LF)return 0}_e.from=Te;function me(K){if(K===1)return r.EndOfLine.CRLF;if(K===0)return r.EndOfLine.LF}_e.to=me})(it=e.EndOfLine||(e.EndOfLine={}));var dt;(function(_e){function Te(me){if(typeof me=="object")return me.viewId;switch(me){case r.ProgressLocation.SourceControl:return 3;case r.ProgressLocation.Window:return 10;case r.ProgressLocation.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}_e.from=Te})(dt=e.ProgressLocation||(e.ProgressLocation={}));var Oe;(function(_e){function Te(me){const K={start:me.start+1,end:me.end+1};return me.kind&&(K.kind=st.from(me.kind)),K}_e.from=Te})(Oe=e.FoldingRange||(e.FoldingRange={}));var st;(function(_e){function Te(me){if(me)switch(me){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}_e.from=Te})(st=e.FoldingRangeKind||(e.FoldingRangeKind={}));var Q;(function(_e){function Te(me){if(me)return{pinned:typeof me.preview=="boolean"?!me.preview:void 0,inactive:me.background,preserveFocus:me.preserveFocus,selection:typeof me.selection=="object"?d.from(me.selection):void 0,override:typeof me.override=="boolean"?b.DEFAULT_EDITOR_ASSOCIATION.id:void 0}}_e.from=Te})(Q=e.TextEditorOpenOptions||(e.TextEditorOpenOptions={}));var X;(function(_e){function Te(Me){return Me instanceof r.RelativePattern?Me.toJSON():typeof Me=="string"?Me:me(Me)||K(Me)?new r.RelativePattern(Me.baseUri??Me.base,Me.pattern).toJSON():Me}_e.from=Te;function me(Me){const Ge=Me;return Ge?v.URI.isUri(Ge.baseUri)&&typeof Ge.pattern=="string":!1}function K(Me){const Ge=Me;return Ge?typeof Ge.base=="string"&&typeof Ge.pattern=="string":!1}function Pe(Me){return typeof Me=="string"?Me:new r.RelativePattern(v.URI.revive(Me.baseUri),Me.pattern)}_e.to=Pe})(X=e.GlobPattern||(e.GlobPattern={}));var pe;(function(_e){function Te(me){if(me){if(Array.isArray(me))return me.map(Te);if(typeof me=="string")return me;{const K=me;return{language:K.language,scheme:K.scheme,pattern:X.from(K.pattern),exclusive:K.exclusive,notebookType:K.notebookType}}}else return}_e.from=Te})(pe=e.LanguageSelector||(e.LanguageSelector={}));var Le;(function(_e){function Te(K){return{start:K.start,end:K.end}}_e.from=Te;function me(K){return new r.NotebookRange(K.start,K.end)}_e.to=me})(Le=e.NotebookRange||(e.NotebookRange={}));var Ue;(function(_e){function Te(K){return{timing:typeof K.runStartTime=="number"&&typeof K.runEndTime=="number"?{startTime:K.runStartTime,endTime:K.runEndTime}:void 0,executionOrder:K.executionOrder,success:K.lastRunSuccess}}_e.to=Te;function me(K){return{lastRunSuccess:K.success,runStartTime:K.timing?.startTime,runEndTime:K.timing?.endTime,executionOrder:K.executionOrder}}_e.from=me})(Ue=e.NotebookCellExecutionSummary||(e.NotebookCellExecutionSummary={}));var He;(function(_e){function Te(me){if(me===E.NotebookCellExecutionState.Unconfirmed)return r.NotebookCellExecutionState.Pending;if(me===E.NotebookCellExecutionState.Pending)return;if(me===E.NotebookCellExecutionState.Executing)return r.NotebookCellExecutionState.Executing;throw new Error(`Unknown state: ${me}`)}_e.to=Te})(He=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var Je;(function(_e){function Te(K){switch(K){case r.NotebookCellKind.Markup:return E.CellKind.Markup;case r.NotebookCellKind.Code:default:return E.CellKind.Code}}_e.from=Te;function me(K){switch(K){case E.CellKind.Markup:return r.NotebookCellKind.Markup;case E.CellKind.Code:default:return r.NotebookCellKind.Code}}_e.to=me})(Je=e.NotebookCellKind||(e.NotebookCellKind={}));var nt;(function(_e){function Te(K){const Pe={metadata:K.metadata??Object.create(null),cells:[]};for(const Me of K.cells)r.NotebookCellData.validate(Me),Pe.cells.push(vt.from(Me));return Pe}_e.from=Te;function me(K){const Pe=new r.NotebookData(K.cells.map(vt.to));return(0,f.isEmptyObject)(K.metadata)||(Pe.metadata=K.metadata),Pe}_e.to=me})(nt=e.NotebookData||(e.NotebookData={}));var vt;(function(_e){function Te(K){return{cellKind:Je.from(K.kind),language:K.languageId,mime:K.mime,source:K.value,metadata:K.metadata,internalMetadata:Ue.from(K.executionSummary??{}),outputs:K.outputs?K.outputs.map(kt.from):[]}}_e.from=Te;function me(K){return new r.NotebookCellData(Je.to(K.cellKind),K.source,K.language,K.mime,K.outputs?K.outputs.map(kt.to):void 0,K.metadata,K.internalMetadata?Ue.to(K.internalMetadata):void 0)}_e.to=me})(vt=e.NotebookCellData||(e.NotebookCellData={}));var wt;(function(_e){function Te(K){return{mime:K.mime,valueBytes:k.VSBuffer.wrap(K.data)}}_e.from=Te;function me(K){return new r.NotebookCellOutputItem(K.valueBytes.buffer,K.mime)}_e.to=me})(wt=e.NotebookCellOutputItem||(e.NotebookCellOutputItem={}));var kt;(function(_e){function Te(K){return{outputId:K.id,items:K.items.map(wt.from),metadata:K.metadata}}_e.from=Te;function me(K){const Pe=K.items.map(wt.to);return new r.NotebookCellOutput(Pe,K.outputId,K.metadata)}_e.to=me})(kt=e.NotebookCellOutput||(e.NotebookCellOutput={}));var ut;(function(_e){function Te(Pe){return K(Pe)?{include:(0,f.withNullAsUndefined)(X.from(Pe.include)),exclude:(0,f.withNullAsUndefined)(X.from(Pe.exclude))}:(0,f.withNullAsUndefined)(X.from(Pe))}_e.from=Te;function me(Pe){return K(Pe)?{include:X.to(Pe.include),exclude:X.to(Pe.exclude)}:X.to(Pe)}_e.to=me;function K(Pe){const Me=Pe;return Me?!(0,f.isUndefinedOrNull)(Me.include)&&!(0,f.isUndefinedOrNull)(Me.exclude):!1}})(ut=e.NotebookExclusiveDocumentPattern||(e.NotebookExclusiveDocumentPattern={}));var at;(function(_e){function Te(me,K,Pe){const Me=typeof me.command=="string"?{title:"",command:me.command}:me.command;return{alignment:me.alignment===r.NotebookCellStatusBarAlignment.Left?1:2,command:K.toInternal(Me,Pe),text:me.text,tooltip:me.tooltip,accessibilityInformation:me.accessibilityInformation,priority:me.priority}}_e.from=Te})(at=e.NotebookStatusBarItem||(e.NotebookStatusBarItem={}));var Nt;(function(_e){function Te(me,K,Pe){const Me=typeof me.command=="string"?{title:"",command:me.command}:me.command;return{command:K.toInternal(Me,Pe),label:me.label,description:me.description,detail:me.detail}}_e.from=Te})(Nt=e.NotebookKernelSourceAction||(e.NotebookKernelSourceAction={}));var Ot;(function(_e){function Te(me){return{transientOutputs:me?.transientOutputs??!1,transientCellMetadata:me?.transientCellMetadata??{},transientDocumentMetadata:me?.transientDocumentMetadata??{},cellContentMetadata:me?.cellContentMetadata??{}}}_e.from=Te})(Ot=e.NotebookDocumentContentOptions||(e.NotebookDocumentContentOptions={}));var Ft;(function(_e){function Te(K){return{uri:K.uri,provides:K.provides}}_e.from=Te;function me(K){return new r.NotebookRendererScript(v.URI.revive(K.uri),K.provides)}_e.to=me})(Ft=e.NotebookRendererScript||(e.NotebookRendererScript={}));var ft;(function(_e){function Te(K){return{message:T.fromStrict(K.message)||"",type:0,expected:K.expectedOutput,actual:K.actualOutput,location:K.location&&{range:d.from(K.location.range),uri:K.location.uri}}}_e.from=Te;function me(K){const Pe=new r.TestMessage(typeof K.message=="string"?K.message:T.to(K.message));return Pe.actualOutput=K.actual,Pe.expectedOutput=K.expected,Pe.location=K.location?Fe.to(K.location):void 0,Pe}_e.to=me})(ft=e.TestMessage||(e.TestMessage={}));var It;(function(_e){_e.namespace=w.namespaceTestTag,_e.denamespace=w.denamespaceTestTag})(It=e.TestTag||(e.TestTag={}));var Ut;(function(_e){function Te(K){const Pe=(0,u.getPrivateApiFor)(K).controllerId;return{extId:g.TestId.fromExtHostTestItem(K,Pe).toString(),label:K.label,uri:v.URI.revive(K.uri),busy:K.busy,tags:K.tags.map(Me=>It.namespace(Pe,Me.id)),range:h.Range.lift(d.from(K.range)),description:K.description||null,sortText:K.sortText||null,error:K.error&&T.fromStrict(K.error)||null}}_e.from=Te;function me(K){return{parent:void 0,error:void 0,id:g.TestId.fromString(K.extId).localId,label:K.label,uri:v.URI.revive(K.uri),tags:(K.tags||[]).map(Pe=>{const{tagId:Me}=It.denamespace(Pe);return new r.TestTag(Me)}),children:{add:()=>{},delete:()=>{},forEach:()=>{},*[Symbol.iterator](){},get:()=>{},replace:()=>{},size:0},range:d.to(K.range||void 0),canResolveChildren:!1,busy:K.busy,description:K.description||void 0,sortText:K.sortText||void 0}}_e.toPlain=me})(Ut=e.TestItem||(e.TestItem={})),function(_e){function Te(K){return{id:K.id}}_e.from=Te;function me(K){return new r.TestTag(K.id)}_e.to=me}(It=e.TestTag||(e.TestTag={}));var Lt;(function(_e){const Te=(K,Pe)=>{const Me=[];for(const[ze,Ze]of Pe)g.TestId.compare(Ze.item.extId,ze)===2&&(Pe.delete(ze),Me.push(Ze));const Ge={...Ut.toPlain(K.item),parent:void 0,taskStates:K.tasks.map(ze=>({state:ze.state,duration:ze.duration,messages:ze.messages.filter(Ze=>Ze.type===0).map(ft.to)})),children:Me.map(ze=>Te(ze,Pe))};for(const ze of Ge.children)ze.parent=Ge;return Ge};function me(K){const Pe=[],Me=new Map;for(const Ge of K.items){Me.set(Ge.item.extId,Ge);const ze=g.TestId.root(Ge.item.extId);K.request.targets.some(Ze=>Ze.controllerId===ze&&Ze.testIds.includes(Ge.item.extId))&&Pe.push(Ge)}return{completedAt:K.completedAt,results:Pe.map(Ge=>Te(Ge,Me))}}_e.to=me})(Lt=e.TestResults||(e.TestResults={}));var qe;(function(_e){function Te(Me){return{covered:Me.covered,total:Me.covered}}function me(Me){return"line"in Me?c.from(Me):d.from(Me)}function K(Me){return"branches"in Me?{count:Me.executionCount,location:me(Me.location),type:1,branches:Me.branches.length?Me.branches.map(Ge=>({count:Ge.executionCount,location:Ge.location&&me(Ge.location)})):void 0}:{type:0,count:Me.executionCount,location:me(Me.location)}}_e.fromDetailed=K;function Pe(Me){return{uri:Me.uri,statement:Te(Me.statementCoverage),branch:Me.branchCoverage&&Te(Me.branchCoverage),function:Me.functionCoverage&&Te(Me.functionCoverage),details:Me.detailedCoverage?.map(K)}}_e.fromFile=Pe})(qe=e.TestCoverage||(e.TestCoverage={}));var At;(function(_e){function Te(me){switch(me){case 1:return r.CodeActionTriggerKind.Invoke;case 2:return r.CodeActionTriggerKind.Automatic}}_e.to=Te})(At=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Mt;(function(_e){function Te(K){const Pe=new r.TypeHierarchyItem(oe.to(K.kind),K.name,K.detail||"",v.URI.revive(K.uri),d.to(K.range),d.to(K.selectionRange));return Pe._sessionId=K._sessionId,Pe._itemId=K._itemId,Pe}_e.to=Te;function me(K,Pe,Me){if(Pe=Pe??K._sessionId,Me=Me??K._itemId,Pe===void 0||Me===void 0)throw new Error("invalid item");return{_sessionId:Pe,_itemId:Me,kind:oe.from(K.kind),name:K.name,detail:K.detail??"",uri:K.uri,range:d.from(K.range),selectionRange:d.from(K.selectionRange),tags:K.tags?.map(ce.from)}}_e.from=me})(Mt=e.TypeHierarchyItem||(e.TypeHierarchyItem={}));var $t;(function(_e){function Te(me){if(!!me)return{value:me.value,tooltip:me.tooltip}}_e.from=Te})($t=e.ViewBadge||(e.ViewBadge={}));var mt;(function(_e){function Te(Me,Ge,ze){const Ze=Ge.fileData;return Ze?new class extends r.DataTransferItem{asFile(){return{name:Ze.name,uri:v.URI.revive(Ze.uri),data:(0,M.once)(()=>ze())}}}("",Ge.id):Me===R.Mimes.uriList&&Ge.uriListData?new r.DataTransferItem(Pe(Ge.uriListData)):new r.DataTransferItem(Ge.asString)}_e.to=Te;async function me(Me,Ge){const ze=await Ge.asString();if(Me===R.Mimes.uriList)return{id:Ge.id,asString:"",fileData:void 0,uriListData:K(ze)};const Ze=Ge.asFile();return{id:Ge.id,asString:ze,fileData:Ze?{name:Ze.name,uri:Ze.uri}:void 0}}_e.from=me;function K(Me){return _.UriList.split(Me).map(Ge=>{if(Ge.startsWith("#"))return Ge;try{return v.URI.parse(Ge)}catch{}return Ge})}function Pe(Me){return _.UriList.create(Me.map(Ge=>typeof Ge=="string"?Ge:v.URI.revive(Ge)))}})(mt=e.DataTransferItem||(e.DataTransferItem={}));var Pt;(function(_e){function Te(K,Pe){const Me=K.items.map(([Ge,ze])=>[Ge,mt.to(Ge,ze,()=>Pe(ze.id))]);return new r.DataTransfer(Me)}_e.toDataTransfer=Te;async function me(K){const Pe={items:[]},Me=[];return K.forEach((Ge,ze)=>{Me.push((async()=>{Pe.items.push([ze,await mt.from(ze,Ge)])})())}),await Promise.all(Me),Pe}_e.toDataTransferDTO=me})(Pt=e.DataTransfer||(e.DataTransfer={}))}),define(De[185],Ie([1,0,2,11,6,8,152]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentSaveParticipant=void 0;class A{constructor(C,R,y,f={timeout:1500,errors:3}){this._logService=C,this._documents=R,this._mainThreadBulkEdits=y,this._thresholds=f,this._callbacks=new I.LinkedList,this._badListeners=new WeakMap}dispose(){this._callbacks.clear()}getOnWillSaveTextDocumentEvent(C){return(R,y,f)=>{const h={dispose:this._callbacks.push([R,y,C])};return Array.isArray(f)&&f.push(h),h}}async $participateInSave(C,R){const y=n.URI.revive(C);let f=!1;const v=setTimeout(()=>f=!0,this._thresholds.timeout),h=[];try{for(const i of[...this._callbacks]){if(f)break;const o=this._documents.getDocument(y),u=await this._deliverEventAsyncAndBlameBadListeners(i,{document:o,reason:M.TextDocumentSaveReason.to(R)});h.push(u)}}finally{clearTimeout(v)}return h}_deliverEventAsyncAndBlameBadListeners([C,R,y],f){const v=this._badListeners.get(C);return typeof v=="number"&&v>this._thresholds.errors?Promise.resolve(!1):this._deliverEventAsync(y,C,R,f).then(()=>!0,h=>{if(this._logService.error(`onWillSaveTextDocument-listener from extension '${y.identifier.value}' threw ERROR`),this._logService.error(h),!(h instanceof Error)||h.message!=="concurrent_edits"){const i=this._badListeners.get(C);this._badListeners.set(C,i?i+1:1),typeof i=="number"&&i>this._thresholds.errors&&this._logService.info(`onWillSaveTextDocument-listener from extension '${y.identifier.value}' will now be IGNORED because of timeouts and/or errors`)}return!1})}_deliverEventAsync(C,R,y,f){const v=[],h=Date.now(),{document:i,reason:o}=f,{version:u}=i,b=Object.freeze({document:i,reason:o,waitUntil(E){if(Object.isFrozen(v))throw(0,k.illegalState)("waitUntil can not be called async");v.push(Promise.resolve(E))}});try{R.apply(y,[b])}catch(E){return Promise.reject(E)}return Object.freeze(v),new Promise((E,g)=>{const w=setTimeout(()=>g(new Error("timeout")),this._thresholds.timeout);return Promise.all(v).then(s=>{this._logService.debug(`onWillSaveTextDocument-listener from extension '${C.identifier.value}' finished after ${Date.now()-h}ms`),clearTimeout(w),E(s)}).catch(s=>{clearTimeout(w),g(s)})}).then(E=>{const g={edits:[]};for(const w of E)if(Array.isArray(w)&&w.every(s=>s instanceof _.TextEdit))for(const{newText:s,newEol:r,range:a}of w)g.edits.push({resource:i.uri,versionId:void 0,textEdit:{range:a&&M.Range.from(a),text:s,eol:r&&M.EndOfLine.from(r)}});if(g.edits.length!==0)return u===i.version?this._mainThreadBulkEdits.$tryApplyWorkspaceEdit(g):Promise.reject(new Error("concurrent_edits"))})}}e.ExtHostDocumentSaveParticipant=A}),define(De[186],Ie([1,0,13,2,8,6,66]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookDocument=e.ExtHostCell=void 0;class A{constructor(y,f,v,h){this.start=y,this.deletedCount=f,this.deletedItems=v,this.items=h}asApiEvent(){return{range:new M.NotebookRange(this.start,this.start+this.deletedCount),addedCells:this.items.map(y=>y.apiCell),removedCells:this.deletedItems}}}class S{static asModelAddData(y,f){return{EOL:f.eol,lines:f.source,languageId:f.language,uri:f.uri,isDirty:!1,versionId:1,notebook:y}}constructor(y,f,v){this.notebook=y,this._extHostDocument=f,this._cellData=v,this.handle=v.handle,this.uri=k.URI.revive(v.uri),this.cellKind=v.cellKind,this._outputs=v.outputs.map(_.NotebookCellOutput.to),this._internalMetadata=v.internalMetadata??{},this._metadata=Object.freeze(v.metadata??{}),this._previousResult=Object.freeze(_.NotebookCellExecutionSummary.to(v.internalMetadata??{}))}get internalMetadata(){return this._internalMetadata}get apiCell(){if(!this._apiCell){const y=this,f=this._extHostDocument.getDocument(this.uri);if(!f)throw new Error(`MISSING extHostDocument for notebook cell: ${this.uri}`);const v={get index(){return y.notebook.getCellIndex(y)},notebook:y.notebook.apiNotebook,kind:_.NotebookCellKind.to(this._cellData.cellKind),document:f.document,get mime(){return y._mime},set mime(h){y._mime=h},get outputs(){return y._outputs.slice(0)},get metadata(){return y._metadata},get executionSummary(){return y._previousResult}};this._apiCell=Object.freeze(v)}return this._apiCell}setOutputs(y){this._outputs=y.map(_.NotebookCellOutput.to)}setOutputItems(y,f,v){const h=v.map(_.NotebookCellOutputItem.to),i=this._outputs.find(o=>o.id===y);if(i&&(f||(i.items.length=0),i.items.push(...h),i.items.length>1&&i.items.every(o=>I.isTextStreamMime(o.mime)))){const o=new Map,u=[];i.items.forEach(b=>{let E;o.has(b.mime)?E=o.get(b.mime):(E=[],o.set(b.mime,E),u.push(b.mime)),E.push(b.data)}),i.items.length=0,u.forEach(b=>{const E=I.compressOutputItemStreams(o.get(b));i.items.push({mime:b,data:E.buffer})})}}setMetadata(y){this._metadata=Object.freeze(y)}setInternalMetadata(y){this._internalMetadata=y,this._previousResult=Object.freeze(_.NotebookCellExecutionSummary.to(y))}setMime(y){}}e.ExtHostCell=S;class C{constructor(y,f,v,h,i){this._proxy=y,this._textDocumentsAndEditors=f,this._textDocuments=v,this.uri=h,this.handle=C._handlePool++,this._cells=[],this._versionId=0,this._isDirty=!1,this._disposed=!1,this._notebookType=i.viewType,this._metadata=Object.freeze(i.metadata??Object.create(null)),this._spliceNotebookCells([[0,0,i.cells]],!0,void 0),this._versionId=i.versionId}dispose(){this._disposed=!0}get apiNotebook(){if(!this._notebook){const y=this,f={get uri(){return y.uri},get version(){return y._versionId},get notebookType(){return y._notebookType},get isDirty(){return y._isDirty},get isUntitled(){return y.uri.scheme===n.Schemas.untitled},get isClosed(){return y._disposed},get metadata(){return y._metadata},get cellCount(){return y._cells.length},cellAt(v){return v=y._validateIndex(v),y._cells[v].apiCell},getCells(v){return(v?y._getCells(v):y._cells).map(i=>i.apiCell)},save(){return y._save()}};this._notebook=Object.freeze(f)}return this._notebook}acceptDocumentPropertiesChanged(y){y.metadata&&(this._metadata=Object.freeze({...this._metadata,...y.metadata}))}acceptDirty(y){this._isDirty=y}acceptModelChanged(y,f,v){this._versionId=y.versionId,this._isDirty=f,this.acceptDocumentPropertiesChanged({metadata:v});const h={notebook:this.apiNotebook,metadata:v,cellChanges:[],contentChanges:[]},i=[];for(const u of y.rawEvents)u.kind===I.NotebookCellsChangeType.ModelChange?this._spliceNotebookCells(u.changes,!1,h.contentChanges):u.kind===I.NotebookCellsChangeType.Move?this._moveCells(u.index,u.length,u.newIdx,h.contentChanges):u.kind===I.NotebookCellsChangeType.Output?(this._setCellOutputs(u.index,u.outputs),i.push({cell:this._cells[u.index].apiCell,outputs:this._cells[u.index].apiCell.outputs})):u.kind===I.NotebookCellsChangeType.OutputItem?(this._setCellOutputItems(u.index,u.outputId,u.append,u.outputItems),i.push({cell:this._cells[u.index].apiCell,outputs:this._cells[u.index].apiCell.outputs})):u.kind===I.NotebookCellsChangeType.ChangeCellLanguage?(this._changeCellLanguage(u.index,u.language),i.push({cell:this._cells[u.index].apiCell,document:this._cells[u.index].apiCell.document})):u.kind===I.NotebookCellsChangeType.ChangeCellContent?i.push({cell:this._cells[u.index].apiCell,document:this._cells[u.index].apiCell.document}):u.kind===I.NotebookCellsChangeType.ChangeCellMime?this._changeCellMime(u.index,u.mime):u.kind===I.NotebookCellsChangeType.ChangeCellMetadata?(this._changeCellMetadata(u.index,u.metadata),i.push({cell:this._cells[u.index].apiCell,metadata:this._cells[u.index].apiCell.metadata})):u.kind===I.NotebookCellsChangeType.ChangeCellInternalMetadata&&(this._changeCellInternalMetadata(u.index,u.internalMetadata),i.push({cell:this._cells[u.index].apiCell,executionSummary:this._cells[u.index].apiCell.executionSummary}));const o=new Map;for(let u=0;u<i.length;u++){const b=i[u],E=o.get(b.cell);if(E===void 0){const g=h.cellChanges.push({document:void 0,executionSummary:void 0,metadata:void 0,outputs:void 0,...b});o.set(b.cell,g-1)}else h.cellChanges[E]={...h.cellChanges[E],...b}}return Object.freeze(h),Object.freeze(h.cellChanges),Object.freeze(h.contentChanges),h}_validateIndex(y){return y=y|0,y<0?0:y>=this._cells.length?this._cells.length-1:y}_validateRange(y){let f=y.start|0,v=y.end|0;return f<0&&(f=0),v>this._cells.length&&(v=this._cells.length),y.with({start:f,end:v})}_getCells(y){y=this._validateRange(y);const f=[];for(let v=y.start;v<y.end;v++)f.push(this._cells[v]);return f}async _save(){return this._disposed?Promise.reject(new Error("Notebook has been closed")):this._proxy.$trySaveNotebook(this.uri)}_spliceNotebookCells(y,f,v){if(this._disposed)return;const h=[],i=[],o=[];if(y.reverse().forEach(u=>{const E=u[2].map(s=>{const r=new S(this,this._textDocumentsAndEditors,s);return f||i.push(S.asModelAddData(this.apiNotebook,s)),r}),g=new A(u[0],u[1],[],E),w=this._cells.splice(u[0],u[1],...E);for(const s of w)o.push(s.uri),g.deletedItems.push(s.apiCell);h.push(g)}),this._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({addedDocuments:i,removedDocuments:o}),v)for(const u of h)v.push(u.asApiEvent())}_moveCells(y,f,v,h){const i=this._cells.splice(y,f);this._cells.splice(v,0,...i);const o=[new A(y,f,i.map(u=>u.apiCell),[]),new A(v,0,[],i)];for(const u of o)h.push(u.asApiEvent())}_setCellOutputs(y,f){this._cells[y].setOutputs(f)}_setCellOutputItems(y,f,v,h){this._cells[y].setOutputItems(f,v,h)}_changeCellLanguage(y,f){const v=this._cells[y];v.apiCell.document.languageId!==f&&this._textDocuments.$acceptModelLanguageChanged(v.uri,f)}_changeCellMime(y,f){const v=this._cells[y];v.apiCell.mime=f}_changeCellMetadata(y,f){this._cells[y].setMetadata(f)}_changeCellInternalMetadata(y,f){this._cells[y].setInternalMetadata(f)}getCellFromApiCell(y){return this._cells.find(f=>f.apiCell===y)}getCellFromIndex(y){return this._cells[y]}getCell(y){return this._cells.find(f=>f.handle===y)}getCellIndex(y){return this._cells.indexOf(y)}}e.ExtHostNotebookDocument=C,C._handlePool=0}),define(De[96],Ie([1,0,11,8,6]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookEditor=void 0;class M{constructor(A,S,C,R,y,f){this.id=A,this._proxy=S,this.notebookData=C,this._selections=[],this._visibleRanges=[],this._visible=!1,this._selections=y,this._visibleRanges=R,this._viewColumn=f}get apiEditor(){if(!this._editor){const A=this;this._editor={get notebook(){return A.notebookData.apiNotebook},get selection(){return A._selections[0]},set selection(S){this.selections=[S]},get selections(){return A._selections},set selections(S){if(!Array.isArray(S)||!S.every(_.NotebookRange.isNotebookRange))throw(0,n.illegalArgument)("selections");A._selections=S,A._trySetSelections(S)},get visibleRanges(){return A._visibleRanges},revealRange(S,C){A._proxy.$tryRevealRange(A.id,k.NotebookRange.from(S),C??_.NotebookEditorRevealType.Default)},get viewColumn(){return A._viewColumn}},M.apiEditorsToExtHost.set(this._editor,this)}return this._editor}get visible(){return this._visible}_acceptVisibility(A){this._visible=A}_acceptVisibleRanges(A){this._visibleRanges=A}_acceptSelections(A){this._selections=A}_trySetSelections(A){this._proxy.$trySetSelections(this.id,A.map(k.NotebookRange.from))}_acceptViewColumn(A){this._viewColumn=A}}e.ExtHostNotebookEditor=M,M.apiEditorsToExtHost=new WeakMap}),define(De[187],Ie([1,0,5,12,8]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookEditors=void 0;let M=class{constructor(A,S){this._logService=A,this._notebooksAndEditors=S,this._onDidChangeNotebookEditorSelection=new n.Emitter,this._onDidChangeNotebookEditorVisibleRanges=new n.Emitter,this.onDidChangeNotebookEditorSelection=this._onDidChangeNotebookEditorSelection.event,this.onDidChangeNotebookEditorVisibleRanges=this._onDidChangeNotebookEditorVisibleRanges.event}$acceptEditorPropertiesChanged(A,S){this._logService.debug("ExtHostNotebook#$acceptEditorPropertiesChanged",A,S);const C=this._notebooksAndEditors.getEditorById(A);S.visibleRanges&&C._acceptVisibleRanges(S.visibleRanges.ranges.map(_.NotebookRange.to)),S.selections&&C._acceptSelections(S.selections.selections.map(_.NotebookRange.to)),S.visibleRanges&&this._onDidChangeNotebookEditorVisibleRanges.fire({notebookEditor:C.apiEditor,visibleRanges:C.apiEditor.visibleRanges}),S.selections&&this._onDidChangeNotebookEditorSelection.fire(Object.freeze({notebookEditor:C.apiEditor,selections:C.apiEditor.selections}))}$acceptEditorViewColumns(A){for(const S in A)this._notebooksAndEditors.getEditorById(S)._acceptViewColumn(_.ViewColumn.to(A[S]))}};M=Ve([We(0,k.ILogService)],M),e.ExtHostNotebookEditors=M}),define(De[188],Ie([1,0,8,155,134,20,60,11]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostProgress=void 0;class S{constructor(f){this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=f}async withProgress(f,v,h){const i=this._handles++,{title:o,location:u,cancellable:b}=v,E={label:(0,_.localize)(0,null,f.displayName||f.name),id:f.identifier.value};return this._proxy.$startProgress(i,{location:n.ProgressLocation.from(u),title:o,source:E,cancellable:b},f.isUnderDevelopment?void 0:f.identifier.value).catch(A.onUnexpectedExternalError),this._withProgress(i,h,!!b)}_withProgress(f,v,h){let i;h&&(i=new M.CancellationTokenSource,this._mapHandleToCancellationSource.set(f,i));const o=b=>{this._proxy.$progressEnd(b),this._mapHandleToCancellationSource.delete(b),i?.dispose()};let u;try{u=v(new R(this._proxy,f),h&&i?i.token:M.CancellationToken.None)}catch(b){throw o(f),b}return u.then(b=>o(f),b=>o(f)),u}$acceptProgressCanceled(f){const v=this._mapHandleToCancellationSource.get(f);v&&(v.cancel(),this._mapHandleToCancellationSource.delete(f))}}e.ExtHostProgress=S;function C(y,f){return y.message=f.message,typeof f.increment=="number"&&(typeof y.increment=="number"?y.increment+=f.increment:y.increment=f.increment),y}class R extends k.Progress{constructor(f,v){super(h=>this.throttledReport(h)),this._proxy=f,this._handle=v}throttledReport(f){this._proxy.$progressReport(this._handle,f)}}Ve([(0,I.throttle)(100,(y,f)=>C(y,f),()=>Object.create(null))],R.prototype,"throttledReport",null)}),define(De[97],Ie([1,0,54,93,42,67,53,8,2]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTestItemCollection=e.TestItemRootImpl=e.TestItemImpl=e.toItemFromContext=void 0;const C=(E,g,w,s)=>{let r=g;return{enumerable:!0,configurable:!1,get(){return r},set(a){if(!w(r,a)){const d=r;r=a,E.listener?.(s(a,d))}}}},R=(E,g)=>E===g,y={range:(E,g)=>E===g?!0:!E||!g?!1:E.isEqual(g),label:R,description:R,sortText:R,busy:R,error:R,canResolveChildren:R,tags:(E,g)=>!(E.length!==g.length||E.some(w=>!g.find(s=>w.id===s.id)))},f=E=>g=>({op:4,update:E(g)}),v=(E,g)=>({range:(()=>{let w;const s=f(r=>({range:n.Range.lift(A.Range.from(r))}));return{enumerable:!0,configurable:!1,get(){return w},set(r){E.listener?.({op:6}),y.range(w,r)||(w=r,E.listener?.(s(r)))}}})(),label:C(E,g,y.label,f(w=>({label:w}))),description:C(E,void 0,y.description,f(w=>({description:w}))),sortText:C(E,void 0,y.sortText,f(w=>({sortText:w}))),canResolveChildren:C(E,!1,y.canResolveChildren,w=>({op:2,state:w})),busy:C(E,!1,y.busy,f(w=>({busy:w}))),error:C(E,void 0,y.error,f(w=>({error:A.MarkdownString.fromStrict(w)||null}))),tags:C(E,[],y.tags,(w,s)=>({op:1,new:w.map(A.TestTag.from),old:s.map(A.TestTag.from)}))}),h=E=>{const g=_.TestId.fromString(E.extId),w=new o(g.controllerId,g.localId,E.label,S.URI.revive(E.uri)||void 0);return w.range=A.Range.to(E.range||void 0),w.description=E.description||void 0,w.sortText=E.sortText||void 0,w.tags=E.tags.map(s=>A.TestTag.to({id:(0,I.denamespaceTestTag)(s).tagId})),w},i=E=>{let g;for(const w of E.tests){const s=h(w.item);(0,k.getPrivateApiFor)(s).parent=g,g=s}return g};e.toItemFromContext=i;class o{constructor(g,w,s,r){if(w.includes("\0"))throw new Error(`Test IDs may not include the ${JSON.stringify(w)} symbol`);const a=(0,k.createPrivateApiFor)(this,g);Object.defineProperties(this,{id:{value:w,enumerable:!0,writable:!1},uri:{value:r,enumerable:!0,writable:!1},parent:{enumerable:!1,get(){return a.parent instanceof u?void 0:a.parent}},children:{value:(0,M.createTestItemChildren)(a,k.getPrivateApiFor,o),enumerable:!0,writable:!1},...v(a,s)})}}e.TestItemImpl=o;class u extends o{constructor(g,w){super(g,g,w,void 0),this._isRoot=!0}}e.TestItemRootImpl=u;class b extends M.TestItemCollection{constructor(g,w,s){super({controllerId:g,getDocumentVersion:r=>r&&s.getDocument(r)?.version,getApiFor:k.getPrivateApiFor,getChildren:r=>r.children,root:new u(g,w),toITestItem:A.TestItem.from})}}e.ExtHostTestItemCollection=b}),define(De[98],Ie([1,0,47,11,79,8,6]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTextEditor=e.ExtHostTextEditorOptions=e.TextEditorEdit=e.TextEditorDecorationType=void 0;class A{constructor(f,v,h){const i=A._Keys.nextId();f.$registerTextEditorDecorationType(v.identifier,i,M.DecorationRenderOptions.from(h)),this.value=Object.freeze({key:i,dispose(){f.$removeTextEditorDecorationType(i)}})}}e.TextEditorDecorationType=A,A._Keys=new _.IdGenerator("TextEditorDecorationType");class S{constructor(f,v){this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=f,this._documentVersionId=f.version,this._undoStopBefore=v.undoStopBefore,this._undoStopAfter=v.undoStopAfter}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replace(f,v){this._throwIfFinalized();let h=null;if(f instanceof I.Position)h=new I.Range(f,f);else if(f instanceof I.Range)h=f;else throw new Error("Unrecognized location");this._pushEdit(h,v,!1)}insert(f,v){this._throwIfFinalized(),this._pushEdit(new I.Range(f,f),v,!0)}delete(f){this._throwIfFinalized();let v=null;if(f instanceof I.Range)v=f;else throw new Error("Unrecognized location");this._pushEdit(v,null,!0)}_pushEdit(f,v,h){const i=this._document.validateRange(f);this._collectedEdits.push({range:i,text:v,forceMoveMarkers:h})}setEndOfLine(f){if(this._throwIfFinalized(),f!==I.EndOfLine.LF&&f!==I.EndOfLine.CRLF)throw(0,k.illegalArgument)("endOfLine");this._setEndOfLine=f}}e.TextEditorEdit=S;class C{constructor(f,v,h,i){this._proxy=f,this._id=v,this._accept(h),this._logService=i;const o=this;this.value={get tabSize(){return o._tabSize},set tabSize(u){o._setTabSize(u)},get indentSize(){return o._indentSize},set indentSize(u){o._setIndentSize(u)},get insertSpaces(){return o._insertSpaces},set insertSpaces(u){o._setInsertSpaces(u)},get cursorStyle(){return o._cursorStyle},set cursorStyle(u){o._setCursorStyle(u)},get lineNumbers(){return o._lineNumbers},set lineNumbers(u){o._setLineNumbers(u)}}}_accept(f){this._tabSize=f.tabSize,this._indentSize=f.indentSize,this._insertSpaces=f.insertSpaces,this._cursorStyle=f.cursorStyle,this._lineNumbers=M.TextEditorLineNumbersStyle.to(f.lineNumbers)}_validateTabSize(f){if(f==="auto")return"auto";if(typeof f=="number"){const v=Math.floor(f);return v>0?v:null}if(typeof f=="string"){const v=parseInt(f,10);return isNaN(v)?null:v>0?v:null}return null}_setTabSize(f){const v=this._validateTabSize(f);if(v!==null){if(typeof v=="number"){if(this._tabSize===v)return;this._tabSize=v}this._warnOnError("setTabSize",this._proxy.$trySetOptions(this._id,{tabSize:v}))}}_validateIndentSize(f){if(f==="tabSize")return"tabSize";if(typeof f=="number"){const v=Math.floor(f);return v>0?v:null}if(typeof f=="string"){const v=parseInt(f,10);return isNaN(v)?null:v>0?v:null}return null}_setIndentSize(f){const v=this._validateIndentSize(f);if(v!==null){if(typeof v=="number"){if(this._indentSize===v)return;this._indentSize=v}this._warnOnError("setIndentSize",this._proxy.$trySetOptions(this._id,{indentSize:v}))}}_validateInsertSpaces(f){return f==="auto"?"auto":f==="false"?!1:Boolean(f)}_setInsertSpaces(f){const v=this._validateInsertSpaces(f);if(typeof v=="boolean"){if(this._insertSpaces===v)return;this._insertSpaces=v}this._warnOnError("setInsertSpaces",this._proxy.$trySetOptions(this._id,{insertSpaces:v}))}_setCursorStyle(f){this._cursorStyle!==f&&(this._cursorStyle=f,this._warnOnError("setCursorStyle",this._proxy.$trySetOptions(this._id,{cursorStyle:f})))}_setLineNumbers(f){this._lineNumbers!==f&&(this._lineNumbers=f,this._warnOnError("setLineNumbers",this._proxy.$trySetOptions(this._id,{lineNumbers:M.TextEditorLineNumbersStyle.from(f)})))}assign(f){const v={};let h=!1;if(typeof f.tabSize<"u"){const i=this._validateTabSize(f.tabSize);i==="auto"?(h=!0,v.tabSize=i):typeof i=="number"&&this._tabSize!==i&&(this._tabSize=i,h=!0,v.tabSize=i)}if(typeof f.indentSize<"u"){const i=this._validateIndentSize(f.indentSize);i==="tabSize"?(h=!0,v.indentSize=i):typeof i=="number"&&this._indentSize!==i&&(this._indentSize=i,h=!0,v.indentSize=i)}if(typeof f.insertSpaces<"u"){const i=this._validateInsertSpaces(f.insertSpaces);i==="auto"?(h=!0,v.insertSpaces=i):this._insertSpaces!==i&&(this._insertSpaces=i,h=!0,v.insertSpaces=i)}typeof f.cursorStyle<"u"&&this._cursorStyle!==f.cursorStyle&&(this._cursorStyle=f.cursorStyle,h=!0,v.cursorStyle=f.cursorStyle),typeof f.lineNumbers<"u"&&this._lineNumbers!==f.lineNumbers&&(this._lineNumbers=f.lineNumbers,h=!0,v.lineNumbers=M.TextEditorLineNumbersStyle.from(f.lineNumbers)),h&&this._warnOnError("setOptions",this._proxy.$trySetOptions(this._id,v))}_warnOnError(f,v){v.catch(h=>{this._logService.warn(`ExtHostTextEditorOptions '${f}' failed:'`),this._logService.warn(h)})}}e.ExtHostTextEditorOptions=C;class R{constructor(f,v,h,i,o,u,b,E){this.id=f,this._proxy=v,this._logService=h,this._disposed=!1,this._hasDecorationsForKey=new Set,this._selections=o,this._options=new C(this._proxy,this.id,u,h),this._visibleRanges=b,this._viewColumn=E;const g=this;this.value=Object.freeze({get document(){return i.getValue()},set document(w){throw(0,k.readonly)("document")},get selection(){return g._selections&&g._selections[0]},set selection(w){if(!(w instanceof I.Selection))throw(0,k.illegalArgument)("selection");g._selections=[w],g._trySetSelection()},get selections(){return g._selections},set selections(w){if(!Array.isArray(w)||w.some(s=>!(s instanceof I.Selection)))throw(0,k.illegalArgument)("selections");g._selections=w,g._trySetSelection()},get visibleRanges(){return g._visibleRanges},set visibleRanges(w){throw(0,k.readonly)("visibleRanges")},get options(){return g._options.value},set options(w){g._disposed||g._options.assign(w)},get viewColumn(){return g._viewColumn},set viewColumn(w){throw(0,k.readonly)("viewColumn")},edit(w,s={undoStopBefore:!0,undoStopAfter:!0}){if(g._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const r=new S(i.getValue(),s);return w(r),g._applyEdit(r)},insertSnippet(w,s,r={undoStopBefore:!0,undoStopAfter:!0}){if(g._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let a;if(!s||Array.isArray(s)&&s.length===0)a=g._selections.map(d=>M.Range.from(d));else if(s instanceof I.Position){const{lineNumber:d,column:l}=M.Position.from(s);a=[{startLineNumber:d,startColumn:l,endLineNumber:d,endColumn:l}]}else if(s instanceof I.Range)a=[M.Range.from(s)];else{a=[];for(const d of s)if(d instanceof I.Range)a.push(M.Range.from(d));else{const{lineNumber:l,column:c}=M.Position.from(d);a.push({startLineNumber:l,startColumn:c,endLineNumber:l,endColumn:c})}}return v.$tryInsertSnippet(f,i.getValue().version,w.value,a,r)},setDecorations(w,s){const r=s.length===0;r&&!g._hasDecorationsForKey.has(w.key)||(r?g._hasDecorationsForKey.delete(w.key):g._hasDecorationsForKey.add(w.key),g._runOnProxy(()=>{if(M.isDecorationOptionsArr(s))return v.$trySetDecorations(f,w.key,M.fromRangeOrRangeWithMessage(s));{const a=new Array(4*s.length);for(let d=0,l=s.length;d<l;d++){const c=s[d];a[4*d]=c.start.line+1,a[4*d+1]=c.start.character+1,a[4*d+2]=c.end.line+1,a[4*d+3]=c.end.character+1}return v.$trySetDecorationsFast(f,w.key,a)}}))},revealRange(w,s){g._runOnProxy(()=>v.$tryRevealRange(f,M.Range.from(w),s||I.TextEditorRevealType.Default))},show(w){v.$tryShowEditor(f,M.ViewColumn.from(w))},hide(){v.$tryHideEditor(f)}})}dispose(){(0,n.ok)(!this._disposed),this._disposed=!0}_acceptOptions(f){(0,n.ok)(!this._disposed),this._options._accept(f)}_acceptVisibleRanges(f){(0,n.ok)(!this._disposed),this._visibleRanges=f}_acceptViewColumn(f){(0,n.ok)(!this._disposed),this._viewColumn=f}_acceptSelections(f){(0,n.ok)(!this._disposed),this._selections=f}async _trySetSelection(){const f=this._selections.map(M.Selection.from);return await this._runOnProxy(()=>this._proxy.$trySetSelections(this.id,f)),this.value}_applyEdit(f){const v=f.finalize();if(v.edits.length===0&&!v.setEndOfLine)return Promise.resolve(!0);const h=v.edits.map(o=>o.range);h.sort((o,u)=>o.end.line===u.end.line?o.end.character===u.end.character?o.start.line===u.start.line?o.start.character-u.start.character:o.start.line-u.start.line:o.end.character-u.end.character:o.end.line-u.end.line);for(let o=0,u=h.length-1;o<u;o++){const b=h[o].end;if(h[o+1].start.isBefore(b))return Promise.reject(new Error("Overlapping ranges are not allowed!"))}const i=v.edits.map(o=>({range:M.Range.from(o.range),text:o.text,forceMoveMarkers:o.forceMoveMarkers}));return this._proxy.$tryApplyEdits(this.id,v.documentVersionId,i,{setEndOfLine:typeof v.setEndOfLine=="number"?M.EndOfLine.from(v.setEndOfLine):void 0,undoStopBefore:v.undoStopBefore,undoStopAfter:v.undoStopAfter})}_runOnProxy(f){return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):f().then(()=>this,v=>(v instanceof Error&&v.name==="DISPOSED"||this._logService.warn(v),null))}}e.ExtHostTextEditor=R}),define(De[189],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allApiProposals=void 0,e.allApiProposals=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",codiconDecoration:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts",commentsResolvedState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsResolvedState.d.ts",contribCommentPeekContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts",contribCommentThreadAdditionalMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribEditorContentMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorMenus:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts",contribNotebookStaticPreloads:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",diffContentOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editSessionIdentityProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",envShellEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.envShellEvent.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",indentSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.indentSize.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookControllerAffinityHidden:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",profileContentHandlers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",telemetryLogger:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetryLogger.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalQuickFixProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeItemCheckbox:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeItemCheckbox.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",tunnels:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"})}),define(De[190],Ie([1,0,145,11,29,85,88,30,26,189,154,147]),function(te,e,n,k,_,M,I,A,S,C,R,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsRegistry=e.ExtensionsRegistryImpl=e.schema=e.ExtensionPoint=e.ExtensionPointUserDelta=e.ExtensionMessageCollector=void 0;const f=A.Registry.as(I.Extensions.JSONContribution);class v{constructor(w,s,r){this._messageHandler=w,this._extension=s,this._extensionPointId=r}_msg(w,s){this._messageHandler({type:w,message:s,extensionId:this._extension.identifier,extensionPointId:this._extensionPointId})}error(w){this._msg(_.default.Error,w)}warn(w){this._msg(_.default.Warning,w)}info(w){this._msg(_.default.Info,w)}}e.ExtensionMessageCollector=v;class h{static _toSet(w){const s=new Set;for(let r=0,a=w.length;r<a;r++)s.add(S.ExtensionIdentifier.toKey(w[r].description.identifier));return s}static compute(w,s){if(!w||!w.length)return new h(s,[]);if(!s||!s.length)return new h([],w);const r=this._toSet(w),a=this._toSet(s),d=s.filter(c=>!r.has(S.ExtensionIdentifier.toKey(c.description.identifier))),l=w.filter(c=>!a.has(S.ExtensionIdentifier.toKey(c.description.identifier)));return new h(d,l)}constructor(w,s){this.added=w,this.removed=s}}e.ExtensionPointUserDelta=h;class i{constructor(w,s){this.name=w,this.defaultExtensionKind=s,this._handler=null,this._users=null,this._delta=null}setHandler(w){if(this._handler!==null)throw new Error("Handler already set!");this._handler=w,this._handle()}acceptUsers(w){this._delta=h.compute(this._users,w),this._users=w,this._handle()}_handle(){if(!(this._handler===null||this._users===null||this._delta===null))try{this._handler(this._users,this._delta)}catch(w){(0,k.onUnexpectedError)(w)}}}e.ExtensionPoint=i;const o={type:"string",enum:["ui","workspace"],enumDescriptions:[n.localize(0,null),n.localize(1,null)]},u="vscode://schemas/vscode-extensions";e.schema={properties:{engines:{type:"object",description:n.localize(2,null),properties:{vscode:{type:"string",description:n.localize(3,null),default:"^1.22.0"}}},publisher:{description:n.localize(4,null),type:"string"},displayName:{description:n.localize(5,null),type:"string"},categories:{description:n.localize(6,null),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:S.EXTENSION_CATEGORIES},{type:"string",const:"Languages",deprecationMessage:n.localize(7,null)}]}},galleryBanner:{type:"object",description:n.localize(8,null),properties:{color:{description:n.localize(9,null),type:"string"},theme:{description:n.localize(10,null),type:"string",enum:["dark","light"]}}},contributes:{description:n.localize(11,null),type:"object",properties:{},default:{}},preview:{type:"boolean",description:n.localize(12,null)},enableProposedApi:{type:"boolean",deprecationMessage:n.localize(13,null)},enabledApiProposals:{markdownDescription:n.localize(14,null),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(C.allApiProposals),markdownEnumDescriptions:Object.values(C.allApiProposals)}},activationEvents:{description:n.localize(15,null),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:n.localize(16,null),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:n.localize(17,null),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:n.localize(18,null),body:"onCommand:${2:commandId}"},{label:"onDebug",description:n.localize(19,null),body:"onDebug"},{label:"onDebugInitialConfigurations",description:n.localize(20,null),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:n.localize(21,null),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:n.localize(22,null),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:n.localize(23,null),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:n.localize(24,null),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:n.localize(25,null),body:"onStartupFinished"},{label:"onTaskType",description:n.localize(26,null),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:n.localize(27,null),body:"onFileSystem:${1:scheme}"},{label:"onEditSession",description:n.localize(28,null),body:"onEditSession:${1:scheme}"},{label:"onSearch",description:n.localize(29,null),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:n.localize(30,null)},{label:"onUri",body:"onUri",description:n.localize(31,null)},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:n.localize(32,null)},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:n.localize(33,null)},{label:"onNotebook",body:"onNotebook:${1:type}",description:n.localize(34,null)},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:n.localize(35,null)},{label:"onRenderer",description:n.localize(36,null),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:n.localize(37,null)},{label:"onTerminalQuickFixRequest",body:"onTerminalQuickFixRequest:${1:quickFixId}",description:n.localize(38,null)},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:n.localize(39,null)},{label:"*",description:n.localize(40,null),body:"*"}]}},badges:{type:"array",description:n.localize(41,null),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:n.localize(42,null)},href:{type:"string",description:n.localize(43,null)},description:{type:"string",description:n.localize(44,null)}}}},markdown:{type:"string",description:n.localize(45,null),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:n.localize(46,null),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:n.localize(47,null),type:"array",uniqueItems:!0,items:{type:"string",pattern:M.EXTENSION_IDENTIFIER_PATTERN}},extensionPack:{description:n.localize(48,null),type:"array",uniqueItems:!0,items:{type:"string",pattern:M.EXTENSION_IDENTIFIER_PATTERN}},extensionKind:{description:n.localize(49,null),type:"array",items:o,default:["workspace"],defaultSnippets:[{body:["ui"],description:n.localize(50,null)},{body:["workspace"],description:n.localize(51,null)},{body:["ui","workspace"],description:n.localize(52,null)},{body:["workspace","ui"],description:n.localize(53,null)},{body:[],description:n.localize(54,null)}]},capabilities:{description:n.localize(55,null),type:"object",properties:{virtualWorkspaces:{description:n.localize(56,null),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:n.localize(57,null),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[n.localize(58,null),n.localize(59,null),n.localize(60,null)]},description:{type:"string",markdownDescription:n.localize(61,null)}}},untrustedWorkspaces:{description:n.localize(62,null),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:n.localize(63,null),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[n.localize(64,null),n.localize(65,null),n.localize(66,null)]},restrictedConfigurations:{description:n.localize(67,null),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:n.localize(68,null)}}}}},sponsor:{description:n.localize(69,null),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:n.localize(70,null),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:n.localize(71,null),type:"string"},"vscode:uninstall":{description:n.localize(72,null),type:"string"}}},icon:{type:"string",description:n.localize(73,null)},l10n:{type:"string",description:n.localize(74,null)}}};class b{constructor(){this._extensionPoints=new Map}registerExtensionPoint(w){if(this._extensionPoints.has(w.extensionPoint))throw new Error("Duplicate extension point: "+w.extensionPoint);const s=new i(w.extensionPoint,w.defaultExtensionKind);return this._extensionPoints.set(w.extensionPoint,s),w.activationEventsGenerator&&y.ImplicitActivationEvents.register(w.extensionPoint,w.activationEventsGenerator),e.schema.properties.contributes.properties[w.extensionPoint]=w.jsonSchema,f.registerSchema(u,e.schema),s}getExtensionPoints(){return Array.from(this._extensionPoints.values())}}e.ExtensionsRegistryImpl=b;const E={ExtensionsRegistry:"ExtensionsRegistry"};A.Registry.add(E.ExtensionsRegistry,new b),e.ExtensionsRegistry=A.Registry.as(E.ExtensionsRegistry),f.registerSchema(u,e.schema),f.registerSchema(R.productSchemaId,{properties:{extensionEnabledApiProposals:{description:n.localize(75,null),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(C.allApiProposals),markdownEnumDescriptions:Object.values(C.allApiProposals)}}]}}}})}),define(De[191],Ie([1,0,142,9,23,190,41,5]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskDefinitionRegistry=void 0;const S={type:"object",additionalProperties:!1,properties:{type:{type:"string",description:n.localize(0,null)},required:{type:"array",items:{type:"string"}},properties:{type:"object",description:n.localize(1,null),additionalProperties:{$ref:"http://json-schema.org/draft-07/schema#"}},when:{type:"string",markdownDescription:n.localize(2,null),default:""}}};var C;(function(f){function v(h,i,o){if(!h)return;const u=k.isString(h.type)?h.type:void 0;if(!u||u.length===0){o.error(n.localize(3,null));return}const b=[];if(Array.isArray(h.required))for(const E of h.required)k.isString(E)&&b.push(E);return{extensionId:i.value,taskType:u,required:b,properties:h.properties?_.deepClone(h.properties):{},when:h.when?I.ContextKeyExpr.deserialize(h.when):void 0}}f.from=v})(C||(C={}));const R=M.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"taskDefinitions",jsonSchema:{description:n.localize(4,null),type:"array",items:S}});class y{constructor(){this._onDefinitionsChanged=new A.Emitter,this.onDefinitionsChanged=this._onDefinitionsChanged.event,this.taskTypes=Object.create(null),this.readyPromise=new Promise((v,h)=>{R.setHandler((i,o)=>{this._schema=void 0;try{for(const u of o.removed){const b=u.value;for(const E of b)this.taskTypes&&E.type&&this.taskTypes[E.type]&&delete this.taskTypes[E.type]}for(const u of o.added){const b=u.value;for(const E of b){const g=C.from(E,u.description.identifier,u.collector);g&&(this.taskTypes[g.taskType]=g)}}(o.removed.length>0||o.added.length>0)&&this._onDefinitionsChanged.fire()}catch{}v(void 0)})})}onReady(){return this.readyPromise}get(v){return this.taskTypes[v]}all(){return Object.keys(this.taskTypes).map(v=>this.taskTypes[v])}getJsonSchema(){if(this._schema===void 0){const v=[];for(const h of this.all()){const i={type:"object",additionalProperties:!1};h.required.length>0&&(i.required=h.required.slice(0)),h.properties!==void 0?i.properties=_.deepClone(h.properties):i.properties=Object.create(null),i.properties.type={type:"string",enum:[h.taskType]},v.push(i)}this._schema={oneOf:v}}return this._schema}}e.TaskDefinitionRegistry=new y}),define(De[192],Ie([1,0,143,9,22,23,41,191]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskDefinition=e.TasksSchemaProperties=e.TaskSettingId=e.KeyedTaskIdentifier=e.TaskEvent=e.TaskRunSource=e.TaskRunType=e.TaskEventKind=e.TaskSorter=e.JsonSchemaVersion=e.ExecutionEngine=e.InMemoryTask=e.ContributedTask=e.ConfiguringTask=e.CustomTask=e.CommonTask=e.RunOptions=e.RunOnOptions=e.DependsOrder=e.TaskSourceKind=e.TaskScope=e.TaskGroup=e.CommandString=e.RuntimeType=e.PresentationOptions=e.PanelKind=e.RevealProblemKind=e.RevealKind=e.CommandOptions=e.CUSTOMIZED_TASK_TYPE=e.ShellQuoting=e.TASKS_CATEGORY=e.TASK_RUNNING_STATE=e.USER_TASKS_GROUP_KEY=void 0,e.USER_TASKS_GROUP_KEY="settings",e.TASK_RUNNING_STATE=new I.RawContextKey("taskRunning",!1,n.localize(0,null)),e.TASKS_CATEGORY={value:n.localize(1,null),original:"Tasks"};var S;(function(O){O[O.Escape=1]="Escape",O[O.Strong=2]="Strong",O[O.Weak=3]="Weak"})(S=e.ShellQuoting||(e.ShellQuoting={})),e.CUSTOMIZED_TASK_TYPE="$customized",function(O){function B(z){if(!z)return O.Strong;switch(z.toLowerCase()){case"escape":return O.Escape;case"strong":return O.Strong;case"weak":return O.Weak;default:return O.Strong}}O.from=B}(S=e.ShellQuoting||(e.ShellQuoting={}));var C;(function(O){O.defaults={cwd:"${workspaceFolder}"}})(C=e.CommandOptions||(e.CommandOptions={}));var R;(function(O){O[O.Always=1]="Always",O[O.Silent=2]="Silent",O[O.Never=3]="Never"})(R=e.RevealKind||(e.RevealKind={})),function(O){function B(z){switch(z.toLowerCase()){case"always":return O.Always;case"silent":return O.Silent;case"never":return O.Never;default:return O.Always}}O.fromString=B}(R=e.RevealKind||(e.RevealKind={}));var y;(function(O){O[O.Never=1]="Never",O[O.OnProblem=2]="OnProblem",O[O.Always=3]="Always"})(y=e.RevealProblemKind||(e.RevealProblemKind={})),function(O){function B(z){switch(z.toLowerCase()){case"always":return O.Always;case"never":return O.Never;case"onproblem":return O.OnProblem;default:return O.OnProblem}}O.fromString=B}(y=e.RevealProblemKind||(e.RevealProblemKind={}));var f;(function(O){O[O.Shared=1]="Shared",O[O.Dedicated=2]="Dedicated",O[O.New=3]="New"})(f=e.PanelKind||(e.PanelKind={})),function(O){function B(z){switch(z.toLowerCase()){case"shared":return O.Shared;case"dedicated":return O.Dedicated;case"new":return O.New;default:return O.Shared}}O.fromString=B}(f=e.PanelKind||(e.PanelKind={}));var v;(function(O){O.defaults={echo:!0,reveal:R.Always,revealProblems:y.Never,focus:!1,panel:f.Shared,showReuseMessage:!0,clear:!1}})(v=e.PresentationOptions||(e.PresentationOptions={}));var h;(function(O){O[O.Shell=1]="Shell",O[O.Process=2]="Process",O[O.CustomExecution=3]="CustomExecution"})(h=e.RuntimeType||(e.RuntimeType={})),function(O){function B(j){switch(j.toLowerCase()){case"shell":return O.Shell;case"process":return O.Process;case"customExecution":return O.CustomExecution;default:return O.Process}}O.fromString=B;function z(j){switch(j){case O.Shell:return"shell";case O.Process:return"process";case O.CustomExecution:return"customExecution";default:return"process"}}O.toString=z}(h=e.RuntimeType||(e.RuntimeType={}));var i;(function(O){function B(z){return k.isString(z)?z:z.value}O.value=B})(i=e.CommandString||(e.CommandString={}));var o;(function(O){O.Clean={_id:"clean",isDefault:!1},O.Build={_id:"build",isDefault:!1},O.Rebuild={_id:"rebuild",isDefault:!1},O.Test={_id:"test",isDefault:!1};function B(j){return j===O.Clean._id||j===O.Build._id||j===O.Rebuild._id||j===O.Test._id}O.is=B;function z(j){if(j!==void 0)return k.isString(j)?B(j)?{_id:j,isDefault:!1}:void 0:j}O.from=z})(o=e.TaskGroup||(e.TaskGroup={}));var u;(function(O){O[O.Global=1]="Global",O[O.Workspace=2]="Workspace",O[O.Folder=3]="Folder"})(u=e.TaskScope||(e.TaskScope={}));var b;(function(O){O.Workspace="workspace",O.Extension="extension",O.InMemory="inMemory",O.WorkspaceFile="workspaceFile",O.User="user";function B(z){switch(z){case O.User:return 2;case O.WorkspaceFile:return 5;default:return 6}}O.toConfigurationTarget=B})(b=e.TaskSourceKind||(e.TaskSourceKind={}));var E;(function(O){O.parallel="parallel",O.sequence="sequence"})(E=e.DependsOrder||(e.DependsOrder={}));var g;(function(O){O[O.default=1]="default",O[O.folderOpen=2]="folderOpen"})(g=e.RunOnOptions||(e.RunOnOptions={}));var w;(function(O){O.defaults={reevaluateOnRerun:!0,runOn:g.default,instanceLimit:1}})(w=e.RunOptions||(e.RunOptions={}));class s{constructor(B,z,j,G,Z,he){this._label="",this._id=B,z&&(this._label=z),j&&(this.type=j),this.runOptions=G,this.configurationProperties=Z,this._source=he}getDefinition(B){}getMapKey(){return this._id}getRecentlyUsedKey(){}getCommonTaskId(){const B={folder:this.getFolderId(),id:this._id};return JSON.stringify(B)}clone(){return this.fromObject(Object.assign({},this))}getWorkspaceFolder(){}getWorkspaceFileName(){}getTelemetryKind(){return"unknown"}matches(B,z=!1){if(B===void 0)return!1;if(k.isString(B))return B===this._label||B===this.configurationProperties.identifier||z&&B===this._id;const j=this.getDefinition(!0);return j!==void 0&&j._key===B._key}getQualifiedLabel(){const B=this.getWorkspaceFolder();return B?`${this._label} (${B.name})`:this._label}getTaskExecution(){return{id:this._id,task:this}}addTaskLoadMessages(B){this._taskLoadMessages===void 0&&(this._taskLoadMessages=[]),B&&(this._taskLoadMessages=this._taskLoadMessages.concat(B))}get taskLoadMessages(){return this._taskLoadMessages}}e.CommonTask=s;class r extends s{constructor(B,z,j,G,Z,he,oe,ce){super(B,j,void 0,oe,ce,z),this.command={},this._source=z,this.hasDefinedMatchers=he,Z&&(this.command=Z)}clone(){return new r(this._id,this._source,this._label,this.type,this.command,this.hasDefinedMatchers,this.runOptions,this.configurationProperties)}customizes(){if(this._source&&this._source.customizes)return this._source.customizes}getDefinition(B=!1){if(B&&this._source.customizes!==void 0)return this._source.customizes;{let z;switch(this.command?this.command.runtime:void 0){case h.Shell:z="shell";break;case h.Process:z="process";break;case h.CustomExecution:z="customExecution";break;case void 0:z="$composite";break;default:throw new Error("Unexpected task runtime")}return{type:z,_key:this._id,id:this._id}}}static is(B){return B instanceof r}getMapKey(){const B=this._source.config.workspaceFolder;return B?`${B.uri.toString()}|${this._id}|${this.instance}`:`${this._id}|${this.instance}`}getFolderId(){return this._source.kind===b.User?e.USER_TASKS_GROUP_KEY:this._source.config.workspaceFolder?.uri.toString()}getCommonTaskId(){return this._source.customizes?super.getCommonTaskId():this.getRecentlyUsedKey()??super.getCommonTaskId()}getRecentlyUsedKey(){const B=this.getFolderId();if(!B)return;let z=this.configurationProperties.identifier;this._source.kind!==b.Workspace&&(z+=this._source.kind);const j={type:e.CUSTOMIZED_TASK_TYPE,folder:B,id:z};return JSON.stringify(j)}getWorkspaceFolder(){return this._source.config.workspaceFolder}getWorkspaceFileName(){return this._source.config.workspace&&this._source.config.workspace.configuration?_.basename(this._source.config.workspace.configuration):void 0}getTelemetryKind(){return this._source.customizes?"workspace>extension":"workspace"}fromObject(B){return new r(B._id,B._source,B._label,B.type,B.command,B.hasDefinedMatchers,B.runOptions,B.configurationProperties)}}e.CustomTask=r;class a extends s{constructor(B,z,j,G,Z,he,oe){super(B,j,G,he,oe,z),this._source=z,this.configures=Z}static is(B){return B instanceof a}fromObject(B){return B}getDefinition(){return this.configures}getWorkspaceFileName(){return this._source.config.workspace&&this._source.config.workspace.configuration?_.basename(this._source.config.workspace.configuration):void 0}getWorkspaceFolder(){return this._source.config.workspaceFolder}getFolderId(){return this._source.kind===b.User?e.USER_TASKS_GROUP_KEY:this._source.config.workspaceFolder?.uri.toString()}getRecentlyUsedKey(){const B=this.getFolderId();if(!B)return;let z=this.configurationProperties.identifier;this._source.kind!==b.Workspace&&(z+=this._source.kind);const j={type:e.CUSTOMIZED_TASK_TYPE,folder:B,id:z};return JSON.stringify(j)}}e.ConfiguringTask=a;class d extends s{constructor(B,z,j,G,Z,he,oe,ce,le){super(B,j,G,ce,le,z),this.defines=Z,this.hasDefinedMatchers=oe,this.command=he,this.icon=le.icon,this.hide=le.hide}clone(){return new d(this._id,this._source,this._label,this.type,this.defines,this.command,this.hasDefinedMatchers,this.runOptions,this.configurationProperties)}getDefinition(){return this.defines}static is(B){return B instanceof d}getMapKey(){const B=this._source.workspaceFolder;return B?`${this._source.scope.toString()}|${B.uri.toString()}|${this._id}|${this.instance}`:`${this._source.scope.toString()}|${this._id}|${this.instance}`}getFolderId(){if(this._source.scope===3&&this._source.workspaceFolder)return this._source.workspaceFolder.uri.toString()}getRecentlyUsedKey(){const B={type:"contributed",scope:this._source.scope,id:this._id};return B.folder=this.getFolderId(),JSON.stringify(B)}getWorkspaceFolder(){return this._source.workspaceFolder}getTelemetryKind(){return"extension"}fromObject(B){return new d(B._id,B._source,B._label,B.type,B.defines,B.command,B.hasDefinedMatchers,B.runOptions,B.configurationProperties)}}e.ContributedTask=d;class l extends s{constructor(B,z,j,G,Z,he){super(B,j,G,Z,he,z),this._source=z}clone(){return new l(this._id,this._source,this._label,this.type,this.runOptions,this.configurationProperties)}static is(B){return B instanceof l}getTelemetryKind(){return"composite"}getMapKey(){return`${this._id}|${this.instance}`}getFolderId(){}fromObject(B){return new l(B._id,B._source,B._label,B.type,B.runOptions,B.configurationProperties)}}e.InMemoryTask=l;var c;(function(O){O[O.Process=1]="Process",O[O.Terminal=2]="Terminal"})(c=e.ExecutionEngine||(e.ExecutionEngine={})),function(O){O._default=O.Terminal}(c=e.ExecutionEngine||(e.ExecutionEngine={}));var t;(function(O){O[O.V0_1_0=1]="V0_1_0",O[O.V2_0_0=2]="V2_0_0"})(t=e.JsonSchemaVersion||(e.JsonSchemaVersion={}));class m{constructor(B){this._order=new Map;for(let z=0;z<B.length;z++)this._order.set(B[z].uri.toString(),z)}compare(B,z){const j=B.getWorkspaceFolder(),G=z.getWorkspaceFolder();if(j&&G){let Z=this._order.get(j.uri.toString());Z=Z===void 0?0:Z+1;let he=this._order.get(G.uri.toString());return he=he===void 0?0:he+1,Z===he?B._label.localeCompare(z._label):Z-he}else return!j&&G?-1:j&&!G?1:0}}e.TaskSorter=m;var p;(function(O){O.DependsOnStarted="dependsOnStarted",O.AcquiredInput="acquiredInput",O.Start="start",O.ProcessStarted="processStarted",O.Active="active",O.Inactive="inactive",O.Changed="changed",O.Terminated="terminated",O.ProcessEnded="processEnded",O.End="end"})(p=e.TaskEventKind||(e.TaskEventKind={}));var P;(function(O){O.SingleRun="singleRun",O.Background="background"})(P=e.TaskRunType||(e.TaskRunType={}));var L;(function(O){O[O.System=0]="System",O[O.User=1]="User",O[O.FolderOpen=2]="FolderOpen",O[O.ConfigurationChange=3]="ConfigurationChange",O[O.Reconnect=4]="Reconnect"})(L=e.TaskRunSource||(e.TaskRunSource={}));var V;(function(O){function B(z,j,G,Z){if(j){const he={kind:z,taskId:j._id,taskName:j.configurationProperties.name,runType:j.configurationProperties.isBackground?"background":"singleRun",group:j.configurationProperties.group,processId:void 0,exitCode:void 0,terminalId:G,__task:j};return z==="start"?he.resolvedVariables=Z:z==="processStarted"?he.processId=Z:z==="processEnded"&&(he.exitCode=Z),Object.freeze(he)}else return Object.freeze({kind:"changed"})}O.create=B})(V=e.TaskEvent||(e.TaskEvent={}));var H;(function(O){function B(j){const G=Object.keys(j).sort();let Z="";for(const he of G){let oe=j[he];oe instanceof Object?oe=B(oe):typeof oe=="string"&&(oe=oe.replace(/,/g,",,")),Z+=he+","+oe+","}return Z}function z(j){const Z={_key:B(j),type:j.taskType};return Object.assign(Z,j),Z}O.create=z})(H=e.KeyedTaskIdentifier||(e.KeyedTaskIdentifier={}));var W;(function(O){O.AutoDetect="task.autoDetect",O.SaveBeforeRun="task.saveBeforeRun",O.ShowDecorations="task.showDecorations",O.ProblemMatchersNeverPrompt="task.problemMatchers.neverPrompt",O.SlowProviderWarning="task.slowProviderWarning",O.QuickOpenHistory="task.quickOpen.history",O.QuickOpenDetail="task.quickOpen.detail",O.QuickOpenSkip="task.quickOpen.skip",O.QuickOpenShowAll="task.quickOpen.showAll",O.AllowAutomaticTasks="task.allowAutomaticTasks",O.Reconnection="task.reconnection"})(W=e.TaskSettingId||(e.TaskSettingId={}));var T;(function(O){O.Tasks="tasks",O.SuppressTaskName="tasks.suppressTaskName",O.Windows="tasks.windows",O.Osx="tasks.osx",O.Linux="tasks.linux",O.ShowOutput="tasks.showOutput",O.IsShellCommand="tasks.isShellCommand",O.ServiceTestSetting="tasks.service.testSetting"})(T=e.TasksSchemaProperties||(e.TasksSchemaProperties={}));var F;(function(O){function B(z,j){const G=A.TaskDefinitionRegistry.get(z.type);if(G===void 0){const ce=M.deepClone(z);return delete ce._key,H.create(ce)}const Z=Object.create(null);Z.type=G.taskType;const he=new Set;G.required.forEach(ce=>he.add(ce));const oe=G.properties;for(const ce of Object.keys(oe)){const le=z[ce];if(le!=null)Z[ce]=le;else if(he.has(ce)){const fe=oe[ce];if(fe.default!==void 0)Z[ce]=M.deepClone(fe.default);else switch(fe.type){case"boolean":Z[ce]=!1;break;case"number":case"integer":Z[ce]=0;break;case"string":Z[ce]="";break;default:j.error(n.localize(2,null,JSON.stringify(z,void 0,0),ce));return}}}return H.create(Z)}O.createTaskIdentifier=B})(F=e.TaskDefinition||(e.TaskDefinition={}))}),define(De[193],Ie([1,0,11]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanceledLazyPromise=e.LazyPromise=void 0;class k{constructor(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}get[Symbol.toStringTag](){return this.toString()}_ensureActual(){return this._actual||(this._actual=new Promise((I,A)=>{this._actualOk=I,this._actualErr=A,this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)})),this._actual}resolveOk(I){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=I,this._actual&&this._actualOk(I))}resolveErr(I){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=I,this._actual?this._actualErr(I):(0,n.onUnexpectedError)(I))}then(I,A){return this._ensureActual().then(I,A)}catch(I){return this._ensureActual().then(void 0,I)}finally(I){return this._ensureActual().finally(I)}}e.LazyPromise=k;class _ extends k{constructor(){super(),this._hasErr=!0,this._err=new n.CancellationError}}e.CanceledLazyPromise=_}),define(De[43],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableObjectWithBuffers=e.getStringIdentifierForProxy=e.createProxyIdentifier=e.ProxyIdentifier=void 0;class n{constructor(S){this._proxyIdentifierBrand=void 0,this.sid=S,this.nid=++n.count}}e.ProxyIdentifier=n,n.count=0;const k=[];function _(A){const S=new n(A);return k[S.nid]=S,S}e.createProxyIdentifier=_;function M(A){return k[A].sid}e.getStringIdentifierForProxy=M;class I{constructor(S){this.value=S}}e.SerializableObjectWithBuffers=I}),define(De[4],Ie([1,0,43]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostContext=e.MainContext=e.ExtHostTestingResource=e.ISuggestResultDtoField=e.ISuggestDataDtoField=e.IdObject=e.CandidatePortSource=e.NotebookEditorRevealType=e.CellOutputKind=e.WebviewMessageArrayBufferViewType=e.WebviewEditorCapabilities=e.TabModelOperationKind=e.TabInputKind=e.TextEditorRevealType=void 0;var k;(function(i){i[i.Default=0]="Default",i[i.InCenter=1]="InCenter",i[i.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",i[i.AtTop=3]="AtTop"})(k=e.TextEditorRevealType||(e.TextEditorRevealType={}));var _;(function(i){i[i.UnknownInput=0]="UnknownInput",i[i.TextInput=1]="TextInput",i[i.TextDiffInput=2]="TextDiffInput",i[i.TextMergeInput=3]="TextMergeInput",i[i.NotebookInput=4]="NotebookInput",i[i.NotebookDiffInput=5]="NotebookDiffInput",i[i.CustomEditorInput=6]="CustomEditorInput",i[i.WebviewEditorInput=7]="WebviewEditorInput",i[i.TerminalEditorInput=8]="TerminalEditorInput",i[i.InteractiveEditorInput=9]="InteractiveEditorInput"})(_=e.TabInputKind||(e.TabInputKind={}));var M;(function(i){i[i.TAB_OPEN=0]="TAB_OPEN",i[i.TAB_CLOSE=1]="TAB_CLOSE",i[i.TAB_UPDATE=2]="TAB_UPDATE",i[i.TAB_MOVE=3]="TAB_MOVE"})(M=e.TabModelOperationKind||(e.TabModelOperationKind={}));var I;(function(i){i[i.Editable=0]="Editable",i[i.SupportsHotExit=1]="SupportsHotExit"})(I=e.WebviewEditorCapabilities||(e.WebviewEditorCapabilities={}));var A;(function(i){i[i.Int8Array=1]="Int8Array",i[i.Uint8Array=2]="Uint8Array",i[i.Uint8ClampedArray=3]="Uint8ClampedArray",i[i.Int16Array=4]="Int16Array",i[i.Uint16Array=5]="Uint16Array",i[i.Int32Array=6]="Int32Array",i[i.Uint32Array=7]="Uint32Array",i[i.Float32Array=8]="Float32Array",i[i.Float64Array=9]="Float64Array",i[i.BigInt64Array=10]="BigInt64Array",i[i.BigUint64Array=11]="BigUint64Array"})(A=e.WebviewMessageArrayBufferViewType||(e.WebviewMessageArrayBufferViewType={}));var S;(function(i){i[i.Text=1]="Text",i[i.Error=2]="Error",i[i.Rich=3]="Rich"})(S=e.CellOutputKind||(e.CellOutputKind={}));var C;(function(i){i[i.Default=0]="Default",i[i.InCenter=1]="InCenter",i[i.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",i[i.AtTop=3]="AtTop"})(C=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));var R;(function(i){i[i.None=0]="None",i[i.Process=1]="Process",i[i.Output=2]="Output"})(R=e.CandidatePortSource||(e.CandidatePortSource={}));class y{static mixin(o){return o._id=y._n++,o}}e.IdObject=y,y._n=0;var f;(function(i){i.label="a",i.kind="b",i.detail="c",i.documentation="d",i.sortText="e",i.filterText="f",i.preselect="g",i.insertText="h",i.insertTextRules="i",i.range="j",i.commitCharacters="k",i.additionalTextEdits="l",i.kindModifier="m",i.commandIdent="n",i.commandId="o",i.commandArguments="p"})(f=e.ISuggestDataDtoField||(e.ISuggestDataDtoField={}));var v;(function(i){i.defaultRanges="a",i.completions="b",i.isIncomplete="c",i.duration="d"})(v=e.ISuggestResultDtoField||(e.ISuggestResultDtoField={}));var h;(function(i){i[i.Workspace=0]="Workspace",i[i.TextDocument=1]="TextDocument"})(h=e.ExtHostTestingResource||(e.ExtHostTestingResource={})),e.MainContext={MainThreadAuthentication:(0,n.createProxyIdentifier)("MainThreadAuthentication"),MainThreadBulkEdits:(0,n.createProxyIdentifier)("MainThreadBulkEdits"),MainThreadClipboard:(0,n.createProxyIdentifier)("MainThreadClipboard"),MainThreadCommands:(0,n.createProxyIdentifier)("MainThreadCommands"),MainThreadComments:(0,n.createProxyIdentifier)("MainThreadComments"),MainThreadConfiguration:(0,n.createProxyIdentifier)("MainThreadConfiguration"),MainThreadConsole:(0,n.createProxyIdentifier)("MainThreadConsole"),MainThreadDebugService:(0,n.createProxyIdentifier)("MainThreadDebugService"),MainThreadDecorations:(0,n.createProxyIdentifier)("MainThreadDecorations"),MainThreadDiagnostics:(0,n.createProxyIdentifier)("MainThreadDiagnostics"),MainThreadDialogs:(0,n.createProxyIdentifier)("MainThreadDiaglogs"),MainThreadDocuments:(0,n.createProxyIdentifier)("MainThreadDocuments"),MainThreadDocumentContentProviders:(0,n.createProxyIdentifier)("MainThreadDocumentContentProviders"),MainThreadTextEditors:(0,n.createProxyIdentifier)("MainThreadTextEditors"),MainThreadEditorInsets:(0,n.createProxyIdentifier)("MainThreadEditorInsets"),MainThreadEditorTabs:(0,n.createProxyIdentifier)("MainThreadEditorTabs"),MainThreadErrors:(0,n.createProxyIdentifier)("MainThreadErrors"),MainThreadTreeViews:(0,n.createProxyIdentifier)("MainThreadTreeViews"),MainThreadDownloadService:(0,n.createProxyIdentifier)("MainThreadDownloadService"),MainThreadKeytar:(0,n.createProxyIdentifier)("MainThreadKeytar"),MainThreadLanguageFeatures:(0,n.createProxyIdentifier)("MainThreadLanguageFeatures"),MainThreadLanguages:(0,n.createProxyIdentifier)("MainThreadLanguages"),MainThreadLogger:(0,n.createProxyIdentifier)("MainThreadLogger"),MainThreadMessageService:(0,n.createProxyIdentifier)("MainThreadMessageService"),MainThreadOutputService:(0,n.createProxyIdentifier)("MainThreadOutputService"),MainThreadProgress:(0,n.createProxyIdentifier)("MainThreadProgress"),MainThreadQuickOpen:(0,n.createProxyIdentifier)("MainThreadQuickOpen"),MainThreadStatusBar:(0,n.createProxyIdentifier)("MainThreadStatusBar"),MainThreadSecretState:(0,n.createProxyIdentifier)("MainThreadSecretState"),MainThreadStorage:(0,n.createProxyIdentifier)("MainThreadStorage"),MainThreadTelemetry:(0,n.createProxyIdentifier)("MainThreadTelemetry"),MainThreadTerminalService:(0,n.createProxyIdentifier)("MainThreadTerminalService"),MainThreadWebviews:(0,n.createProxyIdentifier)("MainThreadWebviews"),MainThreadWebviewPanels:(0,n.createProxyIdentifier)("MainThreadWebviewPanels"),MainThreadWebviewViews:(0,n.createProxyIdentifier)("MainThreadWebviewViews"),MainThreadCustomEditors:(0,n.createProxyIdentifier)("MainThreadCustomEditors"),MainThreadUrls:(0,n.createProxyIdentifier)("MainThreadUrls"),MainThreadUriOpeners:(0,n.createProxyIdentifier)("MainThreadUriOpeners"),MainThreadProfileContentHandlers:(0,n.createProxyIdentifier)("MainThreadProfileContentHandlers"),MainThreadWorkspace:(0,n.createProxyIdentifier)("MainThreadWorkspace"),MainThreadFileSystem:(0,n.createProxyIdentifier)("MainThreadFileSystem"),MainThreadExtensionService:(0,n.createProxyIdentifier)("MainThreadExtensionService"),MainThreadSCM:(0,n.createProxyIdentifier)("MainThreadSCM"),MainThreadSearch:(0,n.createProxyIdentifier)("MainThreadSearch"),MainThreadTask:(0,n.createProxyIdentifier)("MainThreadTask"),MainThreadWindow:(0,n.createProxyIdentifier)("MainThreadWindow"),MainThreadLabelService:(0,n.createProxyIdentifier)("MainThreadLabelService"),MainThreadNotebook:(0,n.createProxyIdentifier)("MainThreadNotebook"),MainThreadNotebookDocuments:(0,n.createProxyIdentifier)("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:(0,n.createProxyIdentifier)("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:(0,n.createProxyIdentifier)("MainThreadNotebookKernels"),MainThreadNotebookRenderers:(0,n.createProxyIdentifier)("MainThreadNotebookRenderers"),MainThreadInteractive:(0,n.createProxyIdentifier)("MainThreadInteractive"),MainThreadTheming:(0,n.createProxyIdentifier)("MainThreadTheming"),MainThreadTunnelService:(0,n.createProxyIdentifier)("MainThreadTunnelService"),MainThreadTimeline:(0,n.createProxyIdentifier)("MainThreadTimeline"),MainThreadTesting:(0,n.createProxyIdentifier)("MainThreadTesting"),MainThreadLocalization:(0,n.createProxyIdentifier)("MainThreadLocalizationShape")},e.ExtHostContext={ExtHostCommands:(0,n.createProxyIdentifier)("ExtHostCommands"),ExtHostConfiguration:(0,n.createProxyIdentifier)("ExtHostConfiguration"),ExtHostDiagnostics:(0,n.createProxyIdentifier)("ExtHostDiagnostics"),ExtHostDebugService:(0,n.createProxyIdentifier)("ExtHostDebugService"),ExtHostDecorations:(0,n.createProxyIdentifier)("ExtHostDecorations"),ExtHostDocumentsAndEditors:(0,n.createProxyIdentifier)("ExtHostDocumentsAndEditors"),ExtHostDocuments:(0,n.createProxyIdentifier)("ExtHostDocuments"),ExtHostDocumentContentProviders:(0,n.createProxyIdentifier)("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:(0,n.createProxyIdentifier)("ExtHostDocumentSaveParticipant"),ExtHostEditors:(0,n.createProxyIdentifier)("ExtHostEditors"),ExtHostTreeViews:(0,n.createProxyIdentifier)("ExtHostTreeViews"),ExtHostFileSystem:(0,n.createProxyIdentifier)("ExtHostFileSystem"),ExtHostFileSystemInfo:(0,n.createProxyIdentifier)("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:(0,n.createProxyIdentifier)("ExtHostFileSystemEventService"),ExtHostLanguages:(0,n.createProxyIdentifier)("ExtHostLanguages"),ExtHostLanguageFeatures:(0,n.createProxyIdentifier)("ExtHostLanguageFeatures"),ExtHostQuickOpen:(0,n.createProxyIdentifier)("ExtHostQuickOpen"),ExtHostExtensionService:(0,n.createProxyIdentifier)("ExtHostExtensionService"),ExtHostLogLevelServiceShape:(0,n.createProxyIdentifier)("ExtHostLogLevelServiceShape"),ExtHostTerminalService:(0,n.createProxyIdentifier)("ExtHostTerminalService"),ExtHostSCM:(0,n.createProxyIdentifier)("ExtHostSCM"),ExtHostSearch:(0,n.createProxyIdentifier)("ExtHostSearch"),ExtHostTask:(0,n.createProxyIdentifier)("ExtHostTask"),ExtHostWorkspace:(0,n.createProxyIdentifier)("ExtHostWorkspace"),ExtHostWindow:(0,n.createProxyIdentifier)("ExtHostWindow"),ExtHostWebviews:(0,n.createProxyIdentifier)("ExtHostWebviews"),ExtHostWebviewPanels:(0,n.createProxyIdentifier)("ExtHostWebviewPanels"),ExtHostCustomEditors:(0,n.createProxyIdentifier)("ExtHostCustomEditors"),ExtHostWebviewViews:(0,n.createProxyIdentifier)("ExtHostWebviewViews"),ExtHostEditorInsets:(0,n.createProxyIdentifier)("ExtHostEditorInsets"),ExtHostEditorTabs:(0,n.createProxyIdentifier)("ExtHostEditorTabs"),ExtHostProgress:(0,n.createProxyIdentifier)("ExtHostProgress"),ExtHostComments:(0,n.createProxyIdentifier)("ExtHostComments"),ExtHostSecretState:(0,n.createProxyIdentifier)("ExtHostSecretState"),ExtHostStorage:(0,n.createProxyIdentifier)("ExtHostStorage"),ExtHostUrls:(0,n.createProxyIdentifier)("ExtHostUrls"),ExtHostUriOpeners:(0,n.createProxyIdentifier)("ExtHostUriOpeners"),ExtHostProfileContentHandlers:(0,n.createProxyIdentifier)("ExtHostProfileContentHandlers"),ExtHostOutputService:(0,n.createProxyIdentifier)("ExtHostOutputService"),ExtHosLabelService:(0,n.createProxyIdentifier)("ExtHostLabelService"),ExtHostNotebook:(0,n.createProxyIdentifier)("ExtHostNotebook"),ExtHostNotebookDocuments:(0,n.createProxyIdentifier)("ExtHostNotebookDocuments"),ExtHostNotebookEditors:(0,n.createProxyIdentifier)("ExtHostNotebookEditors"),ExtHostNotebookKernels:(0,n.createProxyIdentifier)("ExtHostNotebookKernels"),ExtHostNotebookRenderers:(0,n.createProxyIdentifier)("ExtHostNotebookRenderers"),ExtHostInteractive:(0,n.createProxyIdentifier)("ExtHostInteractive"),ExtHostTheming:(0,n.createProxyIdentifier)("ExtHostTheming"),ExtHostTunnelService:(0,n.createProxyIdentifier)("ExtHostTunnelService"),ExtHostAuthentication:(0,n.createProxyIdentifier)("ExtHostAuthentication"),ExtHostTimeline:(0,n.createProxyIdentifier)("ExtHostTimeline"),ExtHostTesting:(0,n.createProxyIdentifier)("ExtHostTesting"),ExtHostTelemetry:(0,n.createProxyIdentifier)("ExtHostTelemetry"),ExtHostLocalization:(0,n.createProxyIdentifier)("ExtHostLocalization")}}),define(De[72],Ie([1,0,3,12,4,14]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullApiDeprecationService=e.ExtHostApiDeprecationService=e.IExtHostApiDeprecationService=void 0,e.IExtHostApiDeprecationService=(0,n.createDecorator)("IExtHostApiDeprecationService");let I=class{constructor(S,C){this._extHostLogService=C,this._reportedUsages=new Set,this._telemetryShape=S.getProxy(_.MainContext.MainThreadTelemetry)}report(S,C,R){const y=this.getUsageKey(S,C);this._reportedUsages.has(y)||(this._reportedUsages.add(y),C.isUnderDevelopment&&this._extHostLogService.warn(`[Deprecation Warning] '${S}' is deprecated. ${R}`),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:C.identifier.value,apiId:S}))}getUsageKey(S,C){return`${S}-${C.identifier.value}`}};I=Ve([We(0,M.IExtHostRpcService),We(1,k.ILogService)],I),e.ExtHostApiDeprecationService=I,e.NullApiDeprecationService=Object.freeze(new class{report(A,S,C){}})}),define(De[194],Ie([1,0,5,4,6,26]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostAuthentication=void 0;class I{constructor(S){this._authenticationProviders=new Map,this._providers=[],this._onDidChangeSessions=new n.Emitter,this.onDidChangeSessions=this._onDidChangeSessions.event,this._inFlightRequests=new Map,this._proxy=S.getProxy(k.MainContext.MainThreadAuthentication)}$setProviders(S){return this._providers=S,Promise.resolve()}async getSession(S,C,R,y={}){const f=M.ExtensionIdentifier.toKey(S.identifier),v=this._inFlightRequests.get(f)||[],h=[...R].sort().join(" ");let i=v.find(o=>o.providerId===C&&o.scopes===h);if(i)return i.result;{const o=this._getSession(S,f,C,R,y);i={providerId:C,scopes:h,result:o},v.push(i),this._inFlightRequests.set(f,v);try{await o}finally{const u=v.findIndex(b=>b.providerId===C&&b.scopes===h);u>-1&&(v.splice(u),this._inFlightRequests.set(f,v))}return o}}async _getSession(S,C,R,y,f={}){await this._proxy.$ensureProvider(R);const v=S.displayName||S.name;return this._proxy.$getSession(R,y,C,v,f)}async removeSession(S,C){const R=this._authenticationProviders.get(S);return R?R.provider.removeSession(C):this._proxy.$removeSession(S,C)}registerAuthenticationProvider(S,C,R,y){if(this._authenticationProviders.get(S))throw new Error(`An authentication provider with id '${S}' is already registered.`);this._authenticationProviders.set(S,{label:C,provider:R,options:y??{supportsMultipleAccounts:!1}}),this._providers.find(v=>v.id===S)||this._providers.push({id:S,label:C});const f=R.onDidChangeSessions(v=>{this._proxy.$sendDidChangeSessions(S,{added:v.added??[],changed:v.changed??[],removed:v.removed??[]})});return this._proxy.$registerAuthenticationProvider(S,C,y?.supportsMultipleAccounts??!1),new _.Disposable(()=>{f.dispose(),this._authenticationProviders.delete(S);const v=this._providers.findIndex(h=>h.id===S);v>-1&&this._providers.splice(v),this._proxy.$unregisterAuthenticationProvider(S)})}$createSession(S,C){const R=this._authenticationProviders.get(S);if(R)return Promise.resolve(R.provider.createSession(C));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$removeSession(S,C){const R=this._authenticationProviders.get(S);if(R)return Promise.resolve(R.provider.removeSession(C));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$getSessions(S,C){const R=this._authenticationProviders.get(S);if(R)return Promise.resolve(R.provider.getSessions(C));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$onDidChangeAuthenticationSessions(S,C){return this._onDidChangeSessions.fire({provider:{id:S,label:C}}),Promise.resolve()}}e.ExtHostAuthentication=I}),define(De[195],Ie([1,0,4,14,8]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostBulkEdits=void 0;let M=class{constructor(A,S){this._proxy=A.getProxy(n.MainContext.MainThreadBulkEdits),this._versionInformationProvider={getTextDocumentVersion:C=>S.getDocument(C)?.version,getNotebookDocumentVersion:()=>{}}}applyWorkspaceEdit(A,S,C){const R=_.WorkspaceEdit.from(A,this._versionInformationProvider);return this._proxy.$tryApplyWorkspaceEdit(R,void 0,C?.isRefactoring??!1)}};M=Ve([We(0,k.IExtHostRpcService)],M),e.ExtHostBulkEdits=M}),define(De[196],Ie([1,0,4]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostClipboard=void 0;class k{constructor(M){const I=M.getProxy(n.MainContext.MainThreadClipboard);this.value=Object.freeze({readText(){return I.$readText()},writeText(A){return I.$writeText(A)}})}}e.ExtHostClipboard=k});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[38],Ie([1,0,9,6,8,23,4,16,12,80,54,250,2,7,3,14,97,24,43,45]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E){"use strict";var g,w;Object.defineProperty(e,"__esModule",{value:!0}),e.ApiCommand=e.ApiCommandResult=e.ApiCommandArgument=e.CommandsConverter=e.IExtHostCommands=e.ExtHostCommands=void 0;let s=class{constructor(t,m){g.set(this,void 0),this._commands=new Map,this._apiCommands=new Map,w.set(this,void 0),Ye(this,g,t.getProxy(I.MainContext.MainThreadCommands),"f"),this._logService=m,Ye(this,w,t.getProxy(I.MainContext.MainThreadTelemetry),"f"),this.converter=new r(this,p=>{const P=this._apiCommands.get(p);return P?.result===d.Void?P:void 0},m),this._argumentProcessors=[{processArgument(p){return(0,C.revive)(p)}},{processArgument(p){return(0,M.cloneAndChange)(p,function(P){if(R.Range.isIRange(P))return _.Range.to(P);if(y.Position.isIPosition(P))return _.Position.to(P);if(R.Range.isIRange(P.range)&&f.URI.isUri(P.uri))return _.location.to(P);if(P instanceof u.VSBuffer)return P.buffer.buffer;if(!Array.isArray(P))return P})}}]}registerArgumentProcessor(t){this._argumentProcessors.push(t)}registerApiCommand(t){const m=this.registerCommand(!1,t.id,async(...p)=>{const P=t.args.map((V,H)=>{if(!V.validate(p[H]))throw new Error(`Invalid argument '${V.name}' when running '${t.id}', received: ${p[H]}`);return V.convert(p[H])}),L=await this.executeCommand(t.internalId,...P);return t.result.convert(L,p,this.converter)},void 0,{description:t.description,args:t.args,returns:t.result.description});return this._apiCommands.set(t.id,t),new k.Disposable(()=>{m.dispose(),this._apiCommands.delete(t.id)})}registerCommand(t,m,p,P,L,V){if(this._logService.trace("ExtHostCommands#registerCommand",m),!m.trim().length)throw new Error("invalid id");if(this._commands.has(m))throw new Error(`command '${m}' already exists`);return this._commands.set(m,{callback:p,thisArg:P,description:L,extension:V}),t&&Ae(this,g,"f").$registerCommand(m),new k.Disposable(()=>{this._commands.delete(m)&&t&&Ae(this,g,"f").$unregisterCommand(m)})}executeCommand(t,...m){return this._logService.trace("ExtHostCommands#executeCommand",t),this._doExecuteCommand(t,m,!0)}async _doExecuteCommand(t,m,p){if(this._commands.has(t))return Ae(this,g,"f").$fireCommandActivationEvent(t),this._executeContributedCommand(t,m,!1);{let P=!1;const L=(0,M.cloneAndChange)(m,function(V){if(V instanceof k.Position)return _.Position.from(V);if(V instanceof k.Range)return _.Range.from(V);if(V instanceof k.Location)return _.location.from(V);if(k.NotebookRange.isNotebookRange(V))return _.NotebookRange.from(V);if(V instanceof ArrayBuffer)return P=!0,u.VSBuffer.wrap(new Uint8Array(V));if(V instanceof Uint8Array)return P=!0,u.VSBuffer.wrap(V);if(V instanceof u.VSBuffer)return P=!0,V;if(!Array.isArray(V))return V});try{const V=await Ae(this,g,"f").$executeCommand(t,P?new b.SerializableObjectWithBuffers(L):L,p);return(0,C.revive)(V)}catch(V){if(V instanceof Error&&V.message==="$executeCommand:retry")return this._doExecuteCommand(t,m,!1);throw V}}}async _executeContributedCommand(t,m,p){const P=this._commands.get(t);if(!P)throw new Error("Unknown command");const{callback:L,thisArg:V,description:H}=P;if(H)for(let T=0;T<H.args.length;T++)try{(0,n.validateConstraint)(m[T],H.args[T].constraint)}catch{throw new Error(`Running the contributed command: '${t}' failed. Illegal argument '${H.args[T].name}' - ${H.args[T].description}`)}const W=Date.now();try{return await L.apply(V,m)}catch(T){if(t===this.converter.delegatingCommandId){const F=this.converter.getActualCommand(...m);F&&(t=F.command)}throw this._logService.error(T,t,P.extension?.identifier),p?new class extends Error{constructor(){super((0,E.toErrorMessage)(T)),this.id=t,this.source=P.extension?.displayName??P.extension?.name}}:T}finally{this._reportTelemetry(P,t,Date.now()-W)}}_reportTelemetry(t,m,p){!t.extension||t.extension.isBuiltin||Ae(this,w,"f").$publicLog2("Extension:ActionExecuted",{extensionId:t.extension.identifier.value,id:m,duration:p})}$executeContributedCommand(t,...m){return this._logService.trace("ExtHostCommands#$executeContributedCommand",t),this._commands.has(t)?(m=m.map(p=>this._argumentProcessors.reduce((P,L)=>L.processArgument(P),p)),this._executeContributedCommand(t,m,!0)):Promise.reject(new Error(`Contributed command '${t}' does not exist.`))}getCommands(t=!1){return this._logService.trace("ExtHostCommands#getCommands",t),Ae(this,g,"f").$getCommands().then(m=>(t&&(m=m.filter(p=>p[0]!=="_")),m))}$getContributedCommandHandlerDescriptions(){const t=Object.create(null);for(const[m,p]of this._commands){const{description:P}=p;P&&(t[m]=P)}return Promise.resolve(t)}};g=new WeakMap,w=new WeakMap,s=Ve([We(0,i.IExtHostRpcService),We(1,S.ILogService)],s),e.ExtHostCommands=s,e.IExtHostCommands=(0,h.createDecorator)("IExtHostCommands");class r{constructor(t,m,p){this._commands=t,this._lookupApiCommand=m,this._logService=p,this.delegatingCommandId=`__vsc${Date.now().toString(36)}`,this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}toInternal(t,m){if(!t)return;const p={$ident:void 0,id:t.command,title:t.title,tooltip:t.tooltip};if(!t.command)return p;const P=this._lookupApiCommand(t.command);if(P)p.id=P.internalId,p.arguments=P.args.map((L,V)=>L.convert(t.arguments&&t.arguments[V]));else if((0,A.isNonEmptyArray)(t.arguments)){const L=`${t.command}/${++this._cachIdPool}`;this._cache.set(L,t),m.add((0,v.toDisposable)(()=>{this._cache.delete(L),this._logService.trace("CommandsConverter#DISPOSE",L)})),p.$ident=L,p.id=this.delegatingCommandId,p.arguments=[L],this._logService.trace("CommandsConverter#CREATE",t.command,L)}return p}fromInternal(t){return typeof t.$ident=="string"?this._cache.get(t.$ident):{command:t.id,title:t.title,arguments:t.arguments}}getActualCommand(...t){return this._cache.get(t[0])}_executeConvertedCommand(...t){const m=this.getActualCommand(...t);return this._logService.trace("CommandsConverter#EXECUTE",t[0],m?m.command:"MISSING"),m?this._commands.executeCommand(m.command,...m.arguments||[]):Promise.reject(`Actual command not found, wanted to execute ${t[0]}`)}}e.CommandsConverter=r;class a{constructor(t,m,p,P){this.name=t,this.description=m,this.validate=p,this.convert=P}optional(){return new a(this.name,`(optional) ${this.description}`,t=>t==null||this.validate(t),t=>t===void 0?void 0:t===null?null:this.convert(t))}with(t,m){return new a(t??this.name,m??this.description,this.validate,this.convert)}}e.ApiCommandArgument=a,a.Uri=new a("uri","Uri of a text document",c=>f.URI.isUri(c),c=>c),a.Position=new a("position","A position in a text document",c=>k.Position.isPosition(c),_.Position.from),a.Range=new a("range","A range in a text document",c=>k.Range.isRange(c),_.Range.from),a.Selection=new a("selection","A selection in a text document",c=>k.Selection.isSelection(c),_.Selection.from),a.Number=new a("number","",c=>typeof c=="number",c=>c),a.String=new a("string","",c=>typeof c=="string",c=>c),a.CallHierarchyItem=new a("item","A call hierarchy item",c=>c instanceof k.CallHierarchyItem,_.CallHierarchyItem.from),a.TypeHierarchyItem=new a("item","A type hierarchy item",c=>c instanceof k.TypeHierarchyItem,_.TypeHierarchyItem.from),a.TestItem=new a("testItem","A VS Code TestItem",c=>c instanceof o.TestItemImpl,_.TestItem.from);class d{constructor(t,m){this.description=t,this.convert=m}}e.ApiCommandResult=d,d.Void=new d("no result",c=>c);class l{constructor(t,m,p,P,L){this.id=t,this.internalId=m,this.description=p,this.args=P,this.result=L}}e.ApiCommand=l}),define(De[197],Ie([1,0,2,8,6,71,38,16,83,87,13]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostApiCommands=void 0;const y=[new I.ApiCommand("vscode.executeDocumentHighlights","_executeDocumentHighlights","Execute document highlight provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of DocumentHighlight-instances.",v(k.DocumentHighlight.to))),new I.ApiCommand("vscode.executeDocumentSymbolProvider","_executeDocumentSymbolProvider","Execute document symbol provider.",[I.ApiCommandArgument.Uri],new I.ApiCommandResult("A promise that resolves to an array of SymbolInformation and DocumentSymbol instances.",(i,o)=>{if((0,A.isFalsyOrEmpty)(i))return;class u extends _.SymbolInformation{static to(E){const g=new u(E.name,k.SymbolKind.to(E.kind),E.containerName||"",new _.Location(o[0],k.Range.to(E.range)));return g.detail=E.detail,g.range=g.location.range,g.selectionRange=k.Range.to(E.selectionRange),g.children=E.children?E.children.map(u.to):[],g}}return i.map(u.to)})),new I.ApiCommand("vscode.executeFormatDocumentProvider","_executeFormatDocumentProvider","Execute document format provider.",[I.ApiCommandArgument.Uri,new I.ApiCommandArgument("options","Formatting options",i=>!0,i=>i)],new I.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new I.ApiCommand("vscode.executeFormatRangeProvider","_executeFormatRangeProvider","Execute range format provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Range,new I.ApiCommandArgument("options","Formatting options",i=>!0,i=>i)],new I.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new I.ApiCommand("vscode.executeFormatOnTypeProvider","_executeFormatOnTypeProvider","Execute format on type provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position,new I.ApiCommandArgument("ch","Trigger character",i=>typeof i=="string",i=>i),new I.ApiCommandArgument("options","Formatting options",i=>!0,i=>i)],new I.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new I.ApiCommand("vscode.executeDefinitionProvider","_executeDefinitionProvider","Execute all definition providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",h)),new I.ApiCommand("vscode.executeTypeDefinitionProvider","_executeTypeDefinitionProvider","Execute all type definition providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",h)),new I.ApiCommand("vscode.executeDeclarationProvider","_executeDeclarationProvider","Execute all declaration providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",h)),new I.ApiCommand("vscode.executeImplementationProvider","_executeImplementationProvider","Execute all implementation providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",h)),new I.ApiCommand("vscode.executeReferenceProvider","_executeReferenceProvider","Execute all reference providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Location-instances.",v(k.location.to))),new I.ApiCommand("vscode.executeHoverProvider","_executeHoverProvider","Execute all hover providers.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to an array of Hover-instances.",v(k.Hover.to))),new I.ApiCommand("vscode.executeSelectionRangeProvider","_executeSelectionRangeProvider","Execute selection range provider.",[I.ApiCommandArgument.Uri,new I.ApiCommandArgument("position","A position in a text document",i=>Array.isArray(i)&&i.every(o=>_.Position.isPosition(o)),i=>i.map(k.Position.from))],new I.ApiCommandResult("A promise that resolves to an array of ranges.",i=>i.map(o=>{let u;for(const b of o.reverse())u=new _.SelectionRange(k.Range.to(b),u);return u}))),new I.ApiCommand("vscode.executeWorkspaceSymbolProvider","_executeWorkspaceSymbolProvider","Execute all workspace symbol providers.",[I.ApiCommandArgument.String.with("query","Search string")],new I.ApiCommandResult("A promise that resolves to an array of SymbolInformation-instances.",i=>i.map(k.WorkspaceSymbol.to))),new I.ApiCommand("vscode.prepareCallHierarchy","_executePrepareCallHierarchy","Prepare call hierarchy at a position inside a document",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A CallHierarchyItem or undefined",i=>i.map(k.CallHierarchyItem.to))),new I.ApiCommand("vscode.provideIncomingCalls","_executeProvideIncomingCalls","Compute incoming calls for an item",[I.ApiCommandArgument.CallHierarchyItem],new I.ApiCommandResult("A CallHierarchyItem or undefined",i=>i.map(k.CallHierarchyIncomingCall.to))),new I.ApiCommand("vscode.provideOutgoingCalls","_executeProvideOutgoingCalls","Compute outgoing calls for an item",[I.ApiCommandArgument.CallHierarchyItem],new I.ApiCommandResult("A CallHierarchyItem or undefined",i=>i.map(k.CallHierarchyOutgoingCall.to))),new I.ApiCommand("vscode.prepareRename","_executePrepareRename","Execute the prepareRename of rename provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A promise that resolves to a range and placeholder text.",i=>{if(!!i)return{range:k.Range.to(i.range),placeholder:i.text}})),new I.ApiCommand("vscode.executeDocumentRenameProvider","_executeDocumentRenameProvider","Execute rename provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position,I.ApiCommandArgument.String.with("newName","The new symbol name")],new I.ApiCommandResult("A promise that resolves to a WorkspaceEdit.",i=>{if(!!i){if(i.rejectReason)throw new Error(i.rejectReason);return k.WorkspaceEdit.to(i)}})),new I.ApiCommand("vscode.executeLinkProvider","_executeLinkProvider","Execute document link provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Number.with("linkResolveCount","Number of links that should be resolved, only when links are unresolved.").optional()],new I.ApiCommandResult("A promise that resolves to an array of DocumentLink-instances.",i=>i.map(k.DocumentLink.to))),new I.ApiCommand("vscode.provideDocumentSemanticTokensLegend","_provideDocumentSemanticTokensLegend","Provide semantic tokens legend for a document",[I.ApiCommandArgument.Uri],new I.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",i=>{if(!!i)return new _.SemanticTokensLegend(i.tokenTypes,i.tokenModifiers)})),new I.ApiCommand("vscode.provideDocumentSemanticTokens","_provideDocumentSemanticTokens","Provide semantic tokens for a document",[I.ApiCommandArgument.Uri],new I.ApiCommandResult("A promise that resolves to SemanticTokens.",i=>{if(!i)return;const o=(0,S.decodeSemanticTokensDto)(i);if(o.type==="full")return new _.SemanticTokens(o.data,void 0)})),new I.ApiCommand("vscode.provideDocumentRangeSemanticTokensLegend","_provideDocumentRangeSemanticTokensLegend","Provide semantic tokens legend for a document range",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Range.optional()],new I.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",i=>{if(!!i)return new _.SemanticTokensLegend(i.tokenTypes,i.tokenModifiers)})),new I.ApiCommand("vscode.provideDocumentRangeSemanticTokens","_provideDocumentRangeSemanticTokens","Provide semantic tokens for a document range",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Range],new I.ApiCommandResult("A promise that resolves to SemanticTokens.",i=>{if(!i)return;const o=(0,S.decodeSemanticTokensDto)(i);if(o.type==="full")return new _.SemanticTokens(o.data,void 0)})),new I.ApiCommand("vscode.executeCompletionItemProvider","_executeCompletionItemProvider","Execute completion item provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position,I.ApiCommandArgument.String.with("triggerCharacter","Trigger completion when the user types the character, like `,` or `(`").optional(),I.ApiCommandArgument.Number.with("itemResolveCount","Number of completions to resolve (too large numbers slow down completions)").optional()],new I.ApiCommandResult("A promise that resolves to a CompletionList-instance.",(i,o,u)=>{if(!i)return new _.CompletionList([]);const b=i.suggestions.map(E=>k.CompletionItem.to(E,u));return new _.CompletionList(b,i.incomplete)})),new I.ApiCommand("vscode.executeSignatureHelpProvider","_executeSignatureHelpProvider","Execute signature help provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position,I.ApiCommandArgument.String.with("triggerCharacter","Trigger signature help when the user types the character, like `,` or `(`").optional()],new I.ApiCommandResult("A promise that resolves to SignatureHelp.",i=>{if(i)return k.SignatureHelp.to(i)})),new I.ApiCommand("vscode.executeCodeLensProvider","_executeCodeLensProvider","Execute code lens provider.",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Number.with("itemResolveCount","Number of lenses that should be resolved and returned. Will only return resolved lenses, will impact performance)").optional()],new I.ApiCommandResult("A promise that resolves to an array of CodeLens-instances.",(i,o,u)=>v(b=>new _.CodeLens(k.Range.to(b.range),b.command&&u.fromInternal(b.command)))(i))),new I.ApiCommand("vscode.executeCodeActionProvider","_executeCodeActionProvider","Execute code action provider.",[I.ApiCommandArgument.Uri,new I.ApiCommandArgument("rangeOrSelection","Range in a text document. Some refactoring provider requires Selection object.",i=>_.Range.isRange(i),i=>_.Selection.isSelection(i)?k.Selection.from(i):k.Range.from(i)),I.ApiCommandArgument.String.with("kind","Code action kind to return code actions for").optional(),I.ApiCommandArgument.Number.with("itemResolveCount","Number of code actions to resolve (too large numbers slow down code actions)").optional()],new I.ApiCommandResult("A promise that resolves to an array of Command-instances.",(i,o,u)=>v(b=>{if(b._isSynthetic){if(!b.command)throw new Error("Synthetic code actions must have a command");return u.fromInternal(b.command)}else{const E=new _.CodeAction(b.title,b.kind?new _.CodeActionKind(b.kind):void 0);return b.edit&&(E.edit=k.WorkspaceEdit.to(b.edit)),b.command&&(E.command=u.fromInternal(b.command)),E.isPreferred=b.isPreferred,E}})(i))),new I.ApiCommand("vscode.executeDocumentColorProvider","_executeDocumentColorProvider","Execute document color provider.",[I.ApiCommandArgument.Uri],new I.ApiCommandResult("A promise that resolves to an array of ColorInformation objects.",i=>i?i.map(o=>new _.ColorInformation(k.Range.to(o.range),k.Color.to(o.color))):[])),new I.ApiCommand("vscode.executeColorPresentationProvider","_executeColorPresentationProvider","Execute color presentation provider.",[new I.ApiCommandArgument("color","The color to show and insert",i=>i instanceof _.Color,k.Color.from),new I.ApiCommandArgument("context","Context object with uri and range",i=>!0,i=>({uri:i.uri,range:k.Range.from(i.range)}))],new I.ApiCommandResult("A promise that resolves to an array of ColorPresentation objects.",i=>i?i.map(k.ColorPresentation.to):[])),new I.ApiCommand("vscode.executeInlayHintProvider","_executeInlayHintProvider","Execute inlay hints provider",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Range],new I.ApiCommandResult("A promise that resolves to an array of Inlay objects",(i,o,u)=>i.map(k.InlayHint.to.bind(void 0,u)))),new I.ApiCommand("vscode.resolveNotebookContentProviders","_resolveNotebookContentProvider","Resolve Notebook Content Providers",[],new I.ApiCommandResult("A promise that resolves to an array of NotebookContentProvider static info objects.",v(i=>({viewType:i.viewType,displayName:i.displayName,options:{transientOutputs:i.options.transientOutputs,transientCellMetadata:i.options.transientCellMetadata,transientDocumentMetadata:i.options.transientDocumentMetadata},filenamePattern:i.filenamePattern.map(o=>k.NotebookExclusiveDocumentPattern.to(o))})))),new I.ApiCommand("vscode.executeInlineValueProvider","_executeInlineValueProvider","Execute inline value provider",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Range],new I.ApiCommandResult("A promise that resolves to an array of InlineValue objects",i=>i.map(k.InlineValue.to))),new I.ApiCommand("vscode.open","_workbench.open","Opens the provided resource in the editor. Can be a text or binary file, or an http(s) URL. If you need more control over the options for opening a text file, use vscode.window.showTextDocument instead.",[new I.ApiCommandArgument("uriOrString","Uri-instance or string (only http/https)",i=>n.URI.isUri(i)||typeof i=="string"&&(0,C.matchesSomeScheme)(i,R.Schemas.http,R.Schemas.https),i=>i),new I.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",i=>i===void 0||typeof i=="number"||typeof i=="object",i=>i&&(typeof i=="number"?[k.ViewColumn.from(i),void 0]:[k.ViewColumn.from(i.viewColumn),k.TextEditorOpenOptions.from(i)])).optional(),I.ApiCommandArgument.String.with("label","").optional()],I.ApiCommandResult.Void),new I.ApiCommand("vscode.openWith","_workbench.openWith","Opens the provided resource with a specific editor.",[I.ApiCommandArgument.Uri.with("resource","Resource to open"),I.ApiCommandArgument.String.with("viewId","Custom editor view id or 'default' to use VS Code's default editor"),new I.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",i=>i===void 0||typeof i=="number"||typeof i=="object",i=>i&&(typeof i=="number"?[k.ViewColumn.from(i),void 0]:[k.ViewColumn.from(i.viewColumn),k.TextEditorOpenOptions.from(i)])).optional()],I.ApiCommandResult.Void),new I.ApiCommand("vscode.diff","_workbench.diff","Opens the provided resources in the diff editor to compare their contents.",[I.ApiCommandArgument.Uri.with("left","Left-hand side resource of the diff editor"),I.ApiCommandArgument.Uri.with("right","Right-hand side resource of the diff editor"),I.ApiCommandArgument.String.with("title","Human readable title for the diff editor").optional(),new I.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",i=>i===void 0||typeof i=="object",i=>i&&[k.ViewColumn.from(i.viewColumn),k.TextEditorOpenOptions.from(i)]).optional()],I.ApiCommandResult.Void),new I.ApiCommand("vscode.prepareTypeHierarchy","_executePrepareTypeHierarchy","Prepare type hierarchy at a position inside a document",[I.ApiCommandArgument.Uri,I.ApiCommandArgument.Position],new I.ApiCommandResult("A TypeHierarchyItem or undefined",i=>i.map(k.TypeHierarchyItem.to))),new I.ApiCommand("vscode.provideSupertypes","_executeProvideSupertypes","Compute supertypes for an item",[I.ApiCommandArgument.TypeHierarchyItem],new I.ApiCommandResult("A TypeHierarchyItem or undefined",i=>i.map(k.TypeHierarchyItem.to))),new I.ApiCommand("vscode.provideSubtypes","_executeProvideSubtypes","Compute subtypes for an item",[I.ApiCommandArgument.TypeHierarchyItem],new I.ApiCommandResult("A TypeHierarchyItem or undefined",i=>i.map(k.TypeHierarchyItem.to))),new I.ApiCommand("vscode.revealTestInExplorer","_revealTestInExplorer","Reveals a test instance in the explorer",[I.ApiCommandArgument.TestItem],I.ApiCommandResult.Void),new I.ApiCommand("vscode.experimental.editSession.continue","_workbench.editSessions.actions.continueEditSession","Continue the current edit session in a different workspace",[I.ApiCommandArgument.Uri.with("workspaceUri","The target workspace to continue the current edit session in")],I.ApiCommandResult.Void)];class f{static register(o){y.forEach(o.registerApiCommand,o)}}e.ExtHostApiCommands=f;function v(i){return o=>{if(Array.isArray(o))return o.map(i)}}function h(i){if(!Array.isArray(i))return;const o=[];for(const u of i)M.isLocationLink(u)?o.push(k.DefinitionLink.to(u)):o.push(k.location.to(u));return o}}),define(De[198],Ie([1,0,15,60,5,7,2,71,26,8,6,25,4]),function(te,e,n,k,_,M,I,A,S,C,R,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtHostComments=void 0;function v(h,i,o){const u=h.getProxy(f.MainContext.MainThreadComments);class b{constructor(){this._commentControllers=new Map,this._commentControllersByExtension=new Map,i.registerArgumentProcessor({processArgument:c=>{if(c&&c.$mid===6){const t=this._commentControllers.get(c.handle);return t?t.value:c}else if(c&&c.$mid===7){const t=this._commentControllers.get(c.commentControlHandle);if(!t)return c;const m=t.getCommentThread(c.commentThreadHandle);return m?m.value:c}else if(c&&(c.$mid===9||c.$mid===8)){const t=this._commentControllers.get(c.thread.commentControlHandle);if(!t)return c;const m=t.getCommentThread(c.thread.commentThreadHandle);return m?c.$mid===8?m.value:{thread:m.value,text:c.text}:c}else if(c&&c.$mid===10){const t=this._commentControllers.get(c.thread.commentControlHandle);if(!t)return c;const m=t.getCommentThread(c.thread.commentThreadHandle);if(!m)return c;const p=c.commentUniqueId,P=m.getCommentByUniqueId(p);return P||c}else if(c&&c.$mid===11){const t=this._commentControllers.get(c.thread.commentControlHandle);if(!t)return c;const m=t.getCommentThread(c.thread.commentThreadHandle);if(!m)return c;const p=c.text,P=c.commentUniqueId,L=m.getCommentByUniqueId(P);return L?(typeof L.body=="string"?L.body=p:L.body.value=p,L):c}return c}})}createCommentController(c,t,m){const p=b.handlePool++,P=new g(c,p,t,m);this._commentControllers.set(P.handle,P);const L=this._commentControllersByExtension.get(S.ExtensionIdentifier.toKey(c.identifier))||[];return L.push(P),this._commentControllersByExtension.set(S.ExtensionIdentifier.toKey(c.identifier),L),P.value}$createCommentThreadTemplate(c,t,m){const p=this._commentControllers.get(c);!p||p.$createCommentThreadTemplate(t,m)}async $updateCommentThreadTemplate(c,t,m){const p=this._commentControllers.get(c);!p||p.$updateCommentThreadTemplate(t,m)}$deleteCommentThread(c,t){this._commentControllers.get(c)?.$deleteCommentThread(t)}$provideCommentingRanges(c,t,m){const p=this._commentControllers.get(c);if(!p||!p.commentingRangeProvider)return Promise.resolve(void 0);const P=o.getDocument(I.URI.revive(t));return(0,n.asPromise)(()=>p.commentingRangeProvider.provideCommentingRanges(P,m)).then(L=>L?L.map(V=>C.Range.from(V)):void 0)}$toggleReaction(c,t,m,p,P){const L=this._commentControllers.get(c);return!L||!L.reactionHandler?Promise.resolve(void 0):(0,n.asPromise)(()=>{const V=L.getCommentThread(t);if(V){const H=V.getCommentByUniqueId(p.uniqueIdInThread);if(L!==void 0&&H&&L.reactionHandler)return L.reactionHandler(H,r(P))}return Promise.resolve(void 0)})}dispose(){}}b.handlePool=0;class E{set threadId(c){this._id=c}get threadId(){return this._id}get id(){return this._id}get resource(){return this._uri}get uri(){return this._uri}set range(c){c.isEqual(this._range)||(this._range=c,this.modifications.range=c,this._onDidUpdateCommentThread.fire())}get range(){return this._range}set canReply(c){this._canReply!==c&&(this._canReply=c,this.modifications.canReply=c,this._onDidUpdateCommentThread.fire())}get canReply(){return this._canReply}get label(){return this._label}set label(c){this._label=c,this.modifications.label=c,this._onDidUpdateCommentThread.fire()}get contextValue(){return this._contextValue}set contextValue(c){this._contextValue=c,this.modifications.contextValue=c,this._onDidUpdateCommentThread.fire()}get comments(){return this._comments}set comments(c){this._comments=c,this.modifications.comments=c,this._onDidUpdateCommentThread.fire()}get collapsibleState(){return this._collapseState}set collapsibleState(c){this._collapseState=c,this.modifications.collapsibleState=c,this._onDidUpdateCommentThread.fire()}get state(){return(0,y.checkProposedApiEnabled)(this.extensionDescription,"commentsResolvedState"),this._state}set state(c){(0,y.checkProposedApiEnabled)(this.extensionDescription,"commentsResolvedState"),this._state=c,this.modifications.state=c,this._onDidUpdateCommentThread.fire()}get isDisposed(){return this._isDiposed}constructor(c,t,m,p,P,L,V,H){this._commentControllerHandle=t,this._id=m,this._uri=p,this._range=P,this._comments=L,this.extensionDescription=V,this._isTemplate=H,this.handle=E._handlePool++,this.commentHandle=0,this.modifications=Object.create(null),this._onDidUpdateCommentThread=new _.Emitter,this.onDidUpdateCommentThread=this._onDidUpdateCommentThread.event,this._canReply=!0,this._commentsMap=new Map,this._acceptInputDisposables=new M.MutableDisposable,this._acceptInputDisposables.value=new M.DisposableStore,this._id===void 0&&(this._id=`${c}.${this.handle}`),u.$createCommentThread(t,this.handle,this._id,this._uri,C.Range.from(this._range),V.identifier,this._isTemplate),this._localDisposables=[],this._isDiposed=!1,this._localDisposables.push(this.onDidUpdateCommentThread(()=>{this.eventuallyUpdateCommentThread()})),this.comments=L,this._localDisposables.push({dispose:()=>{u.$deleteCommentThread(t,this.handle)}});const W=this;this.value={get uri(){return W.uri},get range(){return W.range},set range(T){W.range=T},get comments(){return W.comments},set comments(T){W.comments=T},get collapsibleState(){return W.collapsibleState},set collapsibleState(T){W.collapsibleState=T},get canReply(){return W.canReply},set canReply(T){W.canReply=T},get contextValue(){return W.contextValue},set contextValue(T){W.contextValue=T},get label(){return W.label},set label(T){W.label=T},get state(){return W.state},set state(T){W.state=T},dispose:()=>{W.dispose()}}}updateIsTemplate(){this._isTemplate&&(this._isTemplate=!1,this.modifications.isTemplate=!1)}eventuallyUpdateCommentThread(){if(this._isDiposed)return;this.updateIsTemplate(),this._acceptInputDisposables.value||(this._acceptInputDisposables.value=new M.DisposableStore);const c=m=>Object.prototype.hasOwnProperty.call(this.modifications,m),t={};c("range")&&(t.range=C.Range.from(this._range)),c("label")&&(t.label=this.label),c("contextValue")&&(t.contextValue=this.contextValue??null),c("comments")&&(t.comments=this._comments.map(m=>w(this,m,this._commentsMap))),c("collapsibleState")&&(t.collapseState=a(this._collapseState)),c("canReply")&&(t.canReply=this.canReply),c("state")&&(t.state=d(this._state)),c("isTemplate")&&(t.isTemplate=this._isTemplate),this.modifications={},u.$updateCommentThread(this._commentControllerHandle,this.handle,this._id,this._uri,t)}getCommentByUniqueId(c){for(const t of this._commentsMap){const m=t[0],p=t[1];if(c===p)return m}}dispose(){this._isDiposed=!0,this._acceptInputDisposables.dispose(),this._localDisposables.forEach(c=>c.dispose())}}E._handlePool=0,Ve([(0,k.debounce)(100)],E.prototype,"eventuallyUpdateCommentThread",null);class g{get id(){return this._id}get label(){return this._label}get handle(){return this._handle}get commentingRangeProvider(){return this._commentingRangeProvider}set commentingRangeProvider(c){this._commentingRangeProvider=c,u.$updateCommentingRanges(this.handle)}get reactionHandler(){return this._reactionHandler}set reactionHandler(c){this._reactionHandler=c,u.$updateCommentControllerFeatures(this.handle,{reactionHandler:!!c})}get options(){return this._options}set options(c){this._options=c,u.$updateCommentControllerFeatures(this.handle,{options:this._options})}constructor(c,t,m,p){this._extension=c,this._handle=t,this._id=m,this._label=p,this._threads=new Map,u.$registerCommentController(this.handle,m,p);const P=this;this.value=Object.freeze({id:P.id,label:P.label,get options(){return P.options},set options(L){P.options=L},get commentingRangeProvider(){return P.commentingRangeProvider},set commentingRangeProvider(L){P.commentingRangeProvider=L},get reactionHandler(){return P.reactionHandler},set reactionHandler(L){P.reactionHandler=L},createCommentThread(L,V,H){return P.createCommentThread(L,V,H).value},dispose:()=>{P.dispose()}}),this._localDisposables=[],this._localDisposables.push({dispose:()=>{u.$unregisterCommentController(this.handle)}})}createCommentThread(c,t,m,p){if(typeof c=="string"){const P=new E(this.id,this.handle,c,t,m,p,this._extension,!1);return this._threads.set(P.handle,P),P}else{const P=new E(this.id,this.handle,void 0,c,t,m,this._extension,!1);return this._threads.set(P.handle,P),P}}$createCommentThreadTemplate(c,t){const m=new E(this.id,this.handle,void 0,I.URI.revive(c),C.Range.to(t),[],this._extension,!0);return m.collapsibleState=A.CommentThreadCollapsibleState.Expanded,this._threads.set(m.handle,m),m}$updateCommentThreadTemplate(c,t){const m=this._threads.get(c);m&&(m.range=C.Range.to(t))}$deleteCommentThread(c){this._threads.get(c)?.dispose(),this._threads.delete(c)}getCommentThread(c){return this._threads.get(c)}dispose(){this._threads.forEach(c=>{c.dispose()}),this._localDisposables.forEach(c=>c.dispose())}}function w(l,c,t){let m=t.get(c);m||(m=++l.commentHandle,t.set(c,m));const p=c.author&&c.author.iconPath?c.author.iconPath.toString():void 0;return{mode:c.mode,contextValue:c.contextValue,uniqueIdInThread:m,body:typeof c.body=="string"?c.body:C.MarkdownString.from(c.body),userName:c.author.name,userIconPath:p,label:c.label,commentReactions:c.reactions?c.reactions.map(P=>s(P)):void 0,timestamp:c.timestamp?.toJSON()}}function s(l){return{label:l.label,iconPath:l.iconPath?C.pathOrURIToURI(l.iconPath):void 0,count:l.count,hasReacted:l.authorHasReacted}}function r(l){return{label:l.label||"",count:l.count||0,iconPath:l.iconPath?I.URI.revive(l.iconPath):"",authorHasReacted:l.hasReacted||!1}}function a(l){if(l!==void 0)switch(l){case R.CommentThreadCollapsibleState.Expanded:return A.CommentThreadCollapsibleState.Expanded;case R.CommentThreadCollapsibleState.Collapsed:return A.CommentThreadCollapsibleState.Collapsed}return A.CommentThreadCollapsibleState.Collapsed}function d(l){if(l!==void 0)switch(l){case R.CommentThreadState.Unresolved:return A.CommentThreadState.Unresolved;case R.CommentThreadState.Resolved:return A.CommentThreadState.Resolved}return A.CommentThreadState.Unresolved}return new b}e.createExtHostComments=v}),define(De[199],Ie([1,0,23,4,27,14]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractExtHostConsoleForwarder=void 0;let I=class{constructor(R,y){this._mainThreadConsole=R.getProxy(k.MainContext.MainThreadConsole),this._includeStack=y.consoleForward.includeStack,this._logNative=y.consoleForward.logNative,this._wrapConsoleMethod("info","log"),this._wrapConsoleMethod("log","log"),this._wrapConsoleMethod("warn","warn"),this._wrapConsoleMethod("error","error")}_wrapConsoleMethod(R,y){const f=this,v=console[R];Object.defineProperty(console,R,{set:()=>{},get:()=>function(){f._handleConsoleCall(R,y,v,arguments)}})}_handleConsoleCall(R,y,f,v){this._mainThreadConsole.$logExtensionHostMessage({type:"__$console",severity:y,arguments:S(v,this._includeStack)}),this._logNative&&this._nativeConsoleLogMessage(R,f,v)}};I=Ve([We(0,M.IExtHostRpcService),We(1,_.IExtHostInitDataService)],I),e.AbstractExtHostConsoleForwarder=I;const A=1e5;function S(C,R){const y=[];if(C.length)for(let f=0;f<C.length;f++){let v=C[f];if(typeof v>"u")v="undefined";else if(v instanceof Error){const h=v;h.stack?v=h.stack:v=h.toString()}y.push(v)}if(R){const f=new Error().stack;f&&y.push({__$stack:f.split(`
`).slice(3).join(`
`)})}try{const f=(0,n.safeStringify)(y);return f.length>A?"Output omitted for a large object that exceeds the limits":f}catch(f){return`Output omitted for an object that cannot be inspected ('${f.toString()}')`}}}),define(De[99],Ie([1,0,2,4,6,3,14,12,16,10,19,25]),function(te,e,n,k,_,M,I,A,S,C,R,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDecorations=e.ExtHostDecorations=void 0;let f=class Pi{constructor(h,i){this._logService=i,this._provider=new Map,this._proxy=h.getProxy(k.MainContext.MainThreadDecorations)}registerFileDecorationProvider(h,i){const o=Pi._handlePool++;this._provider.set(o,{provider:h,extensionDescription:i}),this._proxy.$registerDecorationProvider(o,i.identifier.value);const u=h.onDidChangeFileDecorations&&h.onDidChangeFileDecorations(b=>{if(!b){this._proxy.$onDidChange(o,null);return}const E=(0,S.asArray)(b);if(E.length<=Pi._maxEventSize){this._proxy.$onDidChange(o,E);return}this._logService.warn("[Decorations] CAPPING events from decorations provider",i.identifier.value,E.length);const g=E.map(r=>({uri:r,rank:(0,C.count)(r.path,"/")})),w=(0,S.groupBy)(g,(r,a)=>r.rank-a.rank||(0,C.compare)(r.uri.path,a.uri.path)),s=[];e:for(const r of w){let a;for(const d of r){const l=(0,R.dirname)(d.uri.path);if(a!==l&&(a=l,s.push(d.uri)>=Pi._maxEventSize))break e}}this._proxy.$onDidChange(o,s)});return new _.Disposable(()=>{u?.dispose(),this._proxy.$unregisterDecorationProvider(o),this._provider.delete(o)})}async $provideDecorations(h,i,o){if(!this._provider.has(h))return Object.create(null);const u=Object.create(null),{provider:b,extensionDescription:E}=this._provider.get(h);return await Promise.all(i.map(async g=>{try{const{uri:w,id:s}=g,r=await Promise.resolve(b.provideFileDecoration(n.URI.revive(w),o));if(!r)return;try{_.FileDecoration.validate(r),r.badge&&typeof r.badge!="string"&&(0,y.checkProposedApiEnabled)(E,"codiconDecoration"),u[s]=[r.propagate,r.tooltip,r.badge,r.color]}catch(a){this._logService.warn(`INVALID decoration from extension '${E}': ${a}`)}}catch(w){this._logService.error(w)}})),u}};f._handlePool=0,f._maxEventSize=250,f=Ve([We(0,I.IExtHostRpcService),We(1,A.ILogService)],f),e.ExtHostDecorations=f,e.IExtHostDecorations=(0,M.createDecorator)("IExtHostDecorations")});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[200],Ie([1,0,132,86,2,4,6,8,5,12,28,37]),function(te,e,n,k,_,M,I,A,S,C,R,y){"use strict";var f,v,h;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDiagnostics=e.DiagnosticCollection=void 0;class i{constructor(b,E,g,w,s,r,a){this._name=b,this._owner=E,this._maxDiagnosticsPerFile=g,this._modelVersionIdProvider=w,f.set(this,void 0),v.set(this,void 0),h.set(this,void 0),this._isDisposed=!1,Ye(this,h,new R.ResourceMap(d=>s.getComparisonKey(d)),"f"),Ye(this,f,r,"f"),Ye(this,v,a,"f")}dispose(){this._isDisposed||(Ae(this,v,"f").fire([...Ae(this,h,"f").keys()]),Ae(this,f,"f")?.$clear(this._owner),Ae(this,h,"f").clear(),this._isDisposed=!0)}get name(){return this._checkDisposed(),this._name}set(b,E){if(!b){this.clear();return}this._checkDisposed();let g=[];if(_.URI.isUri(b)){if(!E){this.delete(b);return}Ae(this,h,"f").set(b,E.slice()),g=[b]}else if(Array.isArray(b)){g=[];let s;b=[...b].sort(i._compareIndexedTuplesByUri);for(const r of b){const[a,d]=r;if((!s||a.toString()!==s.toString())&&(s&&Ae(this,h,"f").get(s).length===0&&Ae(this,h,"f").delete(s),s=a,g.push(a),Ae(this,h,"f").set(a,[])),d)Ae(this,h,"f").get(a)?.push(...d);else{const l=Ae(this,h,"f").get(a);l&&(l.length=0)}}}if(Ae(this,v,"f").fire(g),!Ae(this,f,"f"))return;const w=[];for(const s of g){let r=[];const a=Ae(this,h,"f").get(s);if(a)if(a.length>this._maxDiagnosticsPerFile){r=[];const d=[I.DiagnosticSeverity.Error,I.DiagnosticSeverity.Warning,I.DiagnosticSeverity.Information,I.DiagnosticSeverity.Hint];e:for(let l=0;l<4;l++)for(const c of a)if(c.severity===d[l]&&r.push({...A.Diagnostic.from(c),modelVersionId:this._modelVersionIdProvider(s)})===this._maxDiagnosticsPerFile)break e;r.push({severity:k.MarkerSeverity.Info,message:(0,n.localize)(0,null,a.length-this._maxDiagnosticsPerFile),startLineNumber:r[r.length-1].startLineNumber,startColumn:r[r.length-1].startColumn,endLineNumber:r[r.length-1].endLineNumber,endColumn:r[r.length-1].endColumn})}else r=a.map(d=>({...A.Diagnostic.from(d),modelVersionId:this._modelVersionIdProvider(s)}));w.push([s,r])}Ae(this,f,"f").$changeMany(this._owner,w)}delete(b){this._checkDisposed(),Ae(this,v,"f").fire([b]),Ae(this,h,"f").delete(b),Ae(this,f,"f")?.$changeMany(this._owner,[[b,void 0]])}clear(){this._checkDisposed(),Ae(this,v,"f").fire([...Ae(this,h,"f").keys()]),Ae(this,h,"f").clear(),Ae(this,f,"f")?.$clear(this._owner)}forEach(b,E){this._checkDisposed();for(const[g,w]of this)b.call(E,g,w,this)}*[(f=new WeakMap,v=new WeakMap,h=new WeakMap,Symbol.iterator)](){this._checkDisposed();for(const b of Ae(this,h,"f").keys())yield[b,this.get(b)]}get(b){this._checkDisposed();const E=Ae(this,h,"f").get(b);return Array.isArray(E)?Object.freeze(E.slice(0)):[]}has(b){return this._checkDisposed(),Array.isArray(Ae(this,h,"f").get(b))}_checkDisposed(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}static _compareIndexedTuplesByUri(b,E){return b[0].toString()<E[0].toString()?-1:b[0].toString()>E[0].toString()?1:0}}e.DiagnosticCollection=i;let o=class gi{static _mapper(b){const E=new R.ResourceMap;for(const g of b)E.set(g,g);return{uris:Object.freeze(Array.from(E.values()))}}constructor(b,E,g,w){this._logService=E,this._fileSystemInfoService=g,this._extHostDocumentsAndEditors=w,this._collections=new Map,this._onDidChangeDiagnostics=new S.DebounceEmitter({merge:s=>s.flat(),delay:50}),this.onDidChangeDiagnostics=S.Event.map(this._onDidChangeDiagnostics.event,gi._mapper),this._proxy=b.getProxy(M.MainContext.MainThreadDiagnostics)}createDiagnosticCollection(b,E){const{_collections:g,_proxy:w,_onDidChangeDiagnostics:s,_logService:r,_fileSystemInfoService:a,_extHostDocumentsAndEditors:d}=this,l=new class{$changeMany(m,p){w.$changeMany(m,p),r.trace("[DiagnosticCollection] change many (extension, owner, uris)",b.value,m,p.length===0?"CLEARING":p)}$clear(m){w.$clear(m),r.trace("[DiagnosticCollection] remove all (extension, owner)",b.value,m)}dispose(){w.dispose()}};let c;if(!E)E="_generated_diagnostic_collection_name_#"+gi._idPool++,c=E;else if(!g.has(E))c=E;else{this._logService.warn(`DiagnosticCollection with name '${E}' does already exist.`);do c=E+gi._idPool++;while(g.has(c))}return new class extends i{constructor(){super(E,c,gi._maxDiagnosticsPerFile,m=>d.getDocument(m)?.version,a.extUri,l,s),g.set(c,this)}dispose(){super.dispose(),g.delete(c)}}}getDiagnostics(b){if(b)return this._getDiagnostics(b);{const E=new Map,g=[];for(const w of this._collections.values())w.forEach((s,r)=>{let a=E.get(s.toString());typeof a>"u"&&(a=g.length,E.set(s.toString(),a),g.push([s,[]])),g[a][1]=g[a][1].concat(...r)});return g}}_getDiagnostics(b){let E=[];for(const g of this._collections.values())g.has(b)&&(E=E.concat(g.get(b)));return E}$acceptMarkersChange(b){if(!this._mirrorCollection){const E="_generated_mirror",g=new i(E,E,gi._maxDiagnosticsPerFile,w=>{},this._fileSystemInfoService.extUri,void 0,this._onDidChangeDiagnostics);this._collections.set(E,g),this._mirrorCollection=g}for(const[E,g]of b)this._mirrorCollection.set(_.URI.revive(E),g.map(A.Diagnostic.to))}};o._idPool=0,o._maxDiagnosticsPerFile=1e3,o=Ve([We(1,C.ILogService),We(2,y.IExtHostFileSystemInfo)],o),e.ExtHostDiagnostics=o}),define(De[201],Ie([1,0,2,4]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDialogs=void 0;class _{constructor(I){this._proxy=I.getProxy(k.MainContext.MainThreadDialogs)}showOpenDialog(I){return this._proxy.$showOpenDialog(I).then(A=>A?A.map(S=>n.URI.revive(S)):void 0)}showSaveDialog(I){return this._proxy.$showSaveDialog(I).then(A=>A?n.URI.revive(A):void 0)}}e.ExtHostDialogs=_}),define(De[202],Ie([1,0,11,2,6,4,13,20,10]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentContentProvider=void 0;class C{constructor(y,f,v){this._documentsAndEditors=f,this._logService=v,this._documentContentProviders=new Map,this._proxy=y.getProxy(M.MainContext.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(y,f){if(Object.keys(I.Schemas).indexOf(y)>=0)throw new Error(`scheme '${y}' already registered`);const v=C._handlePool++;this._documentContentProviders.set(v,f),this._proxy.$registerTextContentProvider(v,y);let h;return typeof f.onDidChange=="function"&&(h=f.onDidChange(i=>{if(i.scheme!==y){this._logService.warn(`Provider for scheme '${y}' is firing event for schema '${i.scheme}' which will be IGNORED`);return}this._documentsAndEditors.getDocument(i)&&this.$provideTextDocumentContent(v,i).then(o=>{if(!o&&typeof o!="string")return;const u=this._documentsAndEditors.getDocument(i);if(!u)return;const b=(0,S.splitLines)(o);if(!u.equalLines(b))return this._proxy.$onVirtualDocumentChange(i,o)},n.onUnexpectedError)})),new _.Disposable(()=>{this._documentContentProviders.delete(v)&&this._proxy.$unregisterTextContentProvider(v),h&&(h.dispose(),h=void 0)})}$provideTextDocumentContent(y,f){const v=this._documentContentProviders.get(y);return v?Promise.resolve(v.provideTextDocumentContent(k.URI.revive(f),A.CancellationToken.None)):Promise.reject(new Error(`unsupported uri-scheme: ${f.scheme}`))}}e.ExtHostDocumentContentProvider=C,C._handlePool=0}),define(De[203],Ie([1,0,5,7,2,4,95,8,9,23,6]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocuments=void 0;class y{constructor(v,h){this._onDidAddDocument=new n.Emitter,this._onDidRemoveDocument=new n.Emitter,this._onDidChangeDocument=new n.Emitter,this._onDidSaveDocument=new n.Emitter,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new k.DisposableStore,this._documentLoader=new Map,this._proxy=v.getProxy(M.MainContext.MainThreadDocuments),this._documentsAndEditors=h,this._documentsAndEditors.onDidRemoveDocuments(i=>{for(const o of i)this._onDidRemoveDocument.fire(o.document)},void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments(i=>{for(const o of i)this._onDidAddDocument.fire(o.document)},void 0,this._toDispose)}dispose(){this._toDispose.dispose()}getAllDocumentData(){return[...this._documentsAndEditors.allDocuments()]}getDocumentData(v){if(!v)return;const h=this._documentsAndEditors.getDocument(v);if(h)return h}getDocument(v){const h=this.getDocumentData(v);if(!h?.document)throw new Error(`Unable to retrieve document from URI '${v}'`);return h.document}ensureDocumentData(v){const h=this._documentsAndEditors.getDocument(v);if(h)return Promise.resolve(h);let i=this._documentLoader.get(v.toString());return i||(i=this._proxy.$tryOpenDocument(v).then(o=>{this._documentLoader.delete(v.toString());const u=_.URI.revive(o);return(0,S.assertIsDefined)(this._documentsAndEditors.getDocument(u))},o=>(this._documentLoader.delete(v.toString()),Promise.reject(o))),this._documentLoader.set(v.toString(),i)),i}createDocumentData(v){return this._proxy.$tryCreateDocument(v).then(h=>_.URI.revive(h))}$acceptModelLanguageChanged(v,h){const i=_.URI.revive(v),o=this._documentsAndEditors.getDocument(i);if(!o)throw new Error("unknown document");this._onDidRemoveDocument.fire(o.document),o._acceptLanguageId(h),this._onDidAddDocument.fire(o.document)}$acceptModelSaved(v){const h=_.URI.revive(v),i=this._documentsAndEditors.getDocument(h);if(!i)throw new Error("unknown document");this.$acceptDirtyStateChanged(v,!1),this._onDidSaveDocument.fire(i.document)}$acceptDirtyStateChanged(v,h){const i=_.URI.revive(v),o=this._documentsAndEditors.getDocument(i);if(!o)throw new Error("unknown document");o._acceptIsDirty(h),this._onDidChangeDocument.fire({document:o.document,contentChanges:[],reason:void 0})}$acceptModelChanged(v,h,i){const o=_.URI.revive(v),u=this._documentsAndEditors.getDocument(o);if(!u)throw new Error("unknown document");u._acceptIsDirty(i),u.onEvents(h);let b;h.isUndoing?b=R.TextDocumentChangeReason.Undo:h.isRedoing&&(b=R.TextDocumentChangeReason.Redo),this._onDidChangeDocument.fire((0,C.deepFreeze)({document:u.document,contentChanges:h.changes.map(E=>({range:A.Range.to(E.range),rangeOffset:E.rangeOffset,rangeLength:E.rangeLength,text:E.text})),reason:b}))}setWordDefinitionFor(v,h){(0,I.setWordDefinitionFor)(v,h)}}e.ExtHostDocuments=y}),define(De[55],Ie([1,0,47,5,7,2,3,4,95,14,98,8,12,28,13,172,204]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDocumentsAndEditors=e.ExtHostDocumentsAndEditors=void 0;class u{constructor(g){this.value=g,this._count=0}ref(){this._count++}unref(){return--this._count===0}}let b=class{constructor(g,w){this._extHostRpc=g,this._logService=w,this._activeEditorId=null,this._editors=new Map,this._documents=new v.ResourceMap,this._onDidAddDocuments=new k.Emitter,this._onDidRemoveDocuments=new k.Emitter,this._onDidChangeVisibleTextEditors=new k.Emitter,this._onDidChangeActiveTextEditor=new k.Emitter,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}$acceptDocumentsAndEditorsDelta(g){this.acceptDocumentsAndEditorsDelta(g)}acceptDocumentsAndEditorsDelta(g){const w=[],s=[],r=[];if(g.removedDocuments)for(const a of g.removedDocuments){const d=M.URI.revive(a),l=this._documents.get(d);l?.unref()&&(this._documents.delete(d),w.push(l.value))}if(g.addedDocuments)for(const a of g.addedDocuments){const d=M.URI.revive(a.uri);let l=this._documents.get(d);if(l&&d.scheme!==h.Schemas.vscodeNotebookCell&&d.scheme!==h.Schemas.vscodeInteractiveInput)throw new Error(`document '${d} already exists!'`);l||(l=new u(new S.ExtHostDocumentData(this._extHostRpc.getProxy(A.MainContext.MainThreadDocuments),d,a.lines,a.EOL,a.versionId,a.languageId,a.isDirty,a.notebook)),this._documents.set(d,l),s.push(l.value)),l.ref()}if(g.removedEditors)for(const a of g.removedEditors){const d=this._editors.get(a);this._editors.delete(a),d&&r.push(d)}if(g.addedEditors)for(const a of g.addedEditors){const d=M.URI.revive(a.documentUri);n.ok(this._documents.has(d),`document '${d}' does not exist`),n.ok(!this._editors.has(a.id),`editor '${a.id}' already exists!`);const l=this._documents.get(d).value,c=new R.ExtHostTextEditor(a.id,this._extHostRpc.getProxy(A.MainContext.MainThreadTextEditors),this._logService,new o.Lazy(()=>l.document),a.selections.map(y.Selection.to),a.options,a.visibleRanges.map(t=>y.Range.to(t)),typeof a.editorPosition=="number"?y.ViewColumn.to(a.editorPosition):void 0);this._editors.set(a.id,c)}g.newActiveEditor!==void 0&&(n.ok(g.newActiveEditor===null||this._editors.has(g.newActiveEditor),`active editor '${g.newActiveEditor}' does not exist`),this._activeEditorId=g.newActiveEditor),(0,_.dispose)(w),(0,_.dispose)(r),g.removedDocuments&&this._onDidRemoveDocuments.fire(w),g.addedDocuments&&this._onDidAddDocuments.fire(s),(g.removedEditors||g.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors().map(a=>a.value)),g.newActiveEditor!==void 0&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}getDocument(g){return this._documents.get(g)?.value}allDocuments(){return i.Iterable.map(this._documents.values(),g=>g.value)}getEditor(g){return this._editors.get(g)}activeEditor(g){if(!this._activeEditorId)return;const w=this._editors.get(this._activeEditorId);return g?w:w?.value}allEditors(){return[...this._editors.values()]}};b=Ve([We(0,C.IExtHostRpcService),We(1,f.ILogService)],b),e.ExtHostDocumentsAndEditors=b,e.IExtHostDocumentsAndEditors=(0,I.createDecorator)("IExtHostDocumentsAndEditors")}),define(De[56],Ie([1,0,8,4,2,5,3,6,14,9,78]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorTabs=e.IExtHostEditorTabs=void 0,e.IExtHostEditorTabs=(0,I.createDecorator)("IExtHostEditorTabs");class y{constructor(o,u,b){this._activeTabIdGetter=b,this._parentGroup=u,this.acceptDtoUpdate(o)}get apiObject(){if(!this._apiObject){const o=this,u={get isActive(){return o._dto.id===o._activeTabIdGetter()},get label(){return o._dto.label},get input(){return o._input},get isDirty(){return o._dto.isDirty},get isPinned(){return o._dto.isPinned},get isPreview(){return o._dto.isPreview},get group(){return o._parentGroup.apiObject}};this._apiObject=Object.freeze(u)}return this._apiObject}get tabId(){return this._dto.id}acceptDtoUpdate(o){this._dto=o,this._input=this._initInput()}_initInput(){switch(this._dto.input.kind){case 1:return new A.TextTabInput(_.URI.revive(this._dto.input.uri));case 2:return new A.TextDiffTabInput(_.URI.revive(this._dto.input.original),_.URI.revive(this._dto.input.modified));case 3:return new A.TextMergeTabInput(_.URI.revive(this._dto.input.base),_.URI.revive(this._dto.input.input1),_.URI.revive(this._dto.input.input2),_.URI.revive(this._dto.input.result));case 6:return new A.CustomEditorTabInput(_.URI.revive(this._dto.input.uri),this._dto.input.viewType);case 7:return new A.WebviewEditorTabInput(this._dto.input.viewType);case 4:return new A.NotebookEditorTabInput(_.URI.revive(this._dto.input.uri),this._dto.input.notebookType);case 5:return new A.NotebookDiffEditorTabInput(_.URI.revive(this._dto.input.original),_.URI.revive(this._dto.input.modified),this._dto.input.notebookType);case 8:return new A.TerminalEditorTabInput;case 9:return new A.InteractiveWindowInput(_.URI.revive(this._dto.input.uri),_.URI.revive(this._dto.input.inputBoxUri));default:return}}}class f{constructor(o,u){this._tabs=[],this._activeTabId="",this._dto=o,this._activeGroupIdGetter=u;for(const b of o.tabs)b.isActive&&(this._activeTabId=b.id),this._tabs.push(new y(b,this,()=>this.activeTabId()))}get apiObject(){if(!this._apiObject){const o=this,u={get isActive(){return o._dto.groupId===o._activeGroupIdGetter()},get viewColumn(){return n.ViewColumn.to(o._dto.viewColumn)},get activeTab(){return o._tabs.find(b=>b.tabId===o._activeTabId)?.apiObject},get tabs(){return Object.freeze(o._tabs.map(b=>b.apiObject))}};this._apiObject=Object.freeze(u)}return this._apiObject}get groupId(){return this._dto.groupId}get tabs(){return this._tabs}acceptGroupDtoUpdate(o){this._dto=o}acceptTabOperation(o){if(o.kind===0){const b=new y(o.tabDto,this,()=>this.activeTabId());return this._tabs.splice(o.index,0,b),o.tabDto.isActive&&(this._activeTabId=b.tabId),b}else if(o.kind===1){const b=this._tabs.splice(o.index,1)[0];if(!b)throw new Error(`Tab close updated received for index ${o.index} which does not exist`);return b.tabId===this._activeTabId&&(this._activeTabId=""),b}else if(o.kind===3){if(o.oldIndex===void 0)throw new Error("Invalid old index on move IPC");const b=this._tabs.splice(o.oldIndex,1)[0];if(!b)throw new Error(`Tab move updated received for index ${o.oldIndex} which does not exist`);return this._tabs.splice(o.index,0,b),b}const u=this._tabs.find(b=>b.tabId===o.tabDto.id);if(!u)throw new Error("INVALID tab");return o.tabDto.isActive?this._activeTabId=o.tabDto.id:this._activeTabId===o.tabDto.id&&!o.tabDto.isActive&&(this._activeTabId=""),u.acceptDtoUpdate(o.tabDto),u}activeTabId(){return this._activeTabId}}let v=class{constructor(o){this._onDidChangeTabs=new M.Emitter,this._onDidChangeTabGroups=new M.Emitter,this._extHostTabGroups=[],this._proxy=o.getProxy(k.MainContext.MainThreadEditorTabs)}get tabGroups(){if(!this._apiObject){const o=this,u={onDidChangeTabGroups:o._onDidChangeTabGroups.event,onDidChangeTabs:o._onDidChangeTabs.event,get all(){return Object.freeze(o._extHostTabGroups.map(b=>b.apiObject))},get activeTabGroup(){const b=o._activeGroupId;return(0,C.assertIsDefined)(o._extHostTabGroups.find(g=>g.groupId===b)?.apiObject)},close:async(b,E)=>{const g=Array.isArray(b)?b:[b];return g.length?h(g[0])?this._closeGroups(g,E):this._closeTabs(g,E):!0}};this._apiObject=Object.freeze(u)}return this._apiObject}$acceptEditorTabModel(o){const u=new Set(this._extHostTabGroups.map(a=>a.groupId)),b=new Set(o.map(a=>a.groupId)),E=(0,R.diffSets)(u,b),g=this._extHostTabGroups.filter(a=>E.removed.includes(a.groupId)).map(a=>a.apiObject),w=[],s=[];this._extHostTabGroups=o.map(a=>{const d=new f(a,()=>this._activeGroupId);return E.added.includes(d.groupId)?w.push(d.apiObject):s.push(d.apiObject),d});const r=(0,C.assertIsDefined)(o.find(a=>a.isActive===!0)?.groupId);r!==void 0&&this._activeGroupId!==r&&(this._activeGroupId=r),this._onDidChangeTabGroups.fire(Object.freeze({opened:w,closed:g,changed:s}))}$acceptTabGroupUpdate(o){const u=this._extHostTabGroups.find(b=>b.groupId===o.groupId);if(!u)throw new Error("Update Group IPC call received before group creation.");u.acceptGroupDtoUpdate(o),o.isActive&&(this._activeGroupId=o.groupId),this._onDidChangeTabGroups.fire(Object.freeze({changed:[u.apiObject],opened:[],closed:[]}))}$acceptTabOperation(o){const u=this._extHostTabGroups.find(E=>E.groupId===o.groupId);if(!u)throw new Error("Update Tabs IPC call received before group creation.");const b=u.acceptTabOperation(o);switch(o.kind){case 0:this._onDidChangeTabs.fire(Object.freeze({opened:[b.apiObject],closed:[],changed:[]}));return;case 1:this._onDidChangeTabs.fire(Object.freeze({opened:[],closed:[b.apiObject],changed:[]}));return;case 3:case 2:this._onDidChangeTabs.fire(Object.freeze({opened:[],closed:[],changed:[b.apiObject]}));return}}_findExtHostTabFromApi(o){for(const u of this._extHostTabGroups)for(const b of u.tabs)if(b.apiObject===o)return b}_findExtHostTabGroupFromApi(o){return this._extHostTabGroups.find(u=>u.apiObject===o)}async _closeTabs(o,u){const b=[];for(const E of o){const g=this._findExtHostTabFromApi(E);if(!g)throw new Error("Tab close: Invalid tab not found!");b.push(g.tabId)}return this._proxy.$closeTab(b,u)}async _closeGroups(o,u){const b=[];for(const E of o){const g=this._findExtHostTabGroupFromApi(E);if(!g)throw new Error("Group close: Invalid group not found!");b.push(g.groupId)}return this._proxy.$closeGroup(b,u)}};v=Ve([We(0,S.IExtHostRpcService)],v),e.ExtHostEditorTabs=v;function h(i){return i.tabs!==void 0}}),define(De[205],Ie([1,0,2,4,7,6,8,251,10,24,25]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystem=void 0;class y{constructor(){this._schemes=[]}add(h){this._stateMachine=void 0,this._schemes.push(h)}delete(h){const i=this._schemes.indexOf(h);i>=0&&(this._schemes.splice(i,1),this._stateMachine=void 0)}_initStateMachine(){if(!this._stateMachine){const h=this._schemes.sort(),i=[];let o,u,b=14,E=14;for(const g of h){let w=o?(0,S.commonPrefixLength)(o,g):0;for(w===0?u=1:u=E;w<g.length;w++)w+1===g.length?(b=E,E=9):E+=1,i.push([u,g.toUpperCase().charCodeAt(w),E]),i.push([u,g.toLowerCase().charCodeAt(w),E]),u=E;o=g,E=b}i.push([9,58,10]),i.push([10,47,12]),this._stateMachine=new A.StateMachine(i)}}provideDocumentLinks(h){this._initStateMachine();const i=[],o=A.LinkComputer.computeLinks({getLineContent(u){return h.lineAt(u-1).text},getLineCount(){return h.lineCount}},this._stateMachine);for(const u of o){const b=I.DocumentLink.to(u);b.target&&i.push(b)}return i}}class f{constructor(h,i){this._extHostLanguageFeatures=i,this._linkProvider=new y,this._fsProvider=new Map,this._registeredSchemes=new Set,this._watches=new Map,this._handlePool=0,this._proxy=h.getProxy(k.MainContext.MainThreadFileSystem)}dispose(){this._linkProviderRegistration?.dispose()}registerFileSystemProvider(h,i,o,u={}){if(this._registeredSchemes.has(i))throw new Error(`a provider for the scheme '${i}' is already registered`);this._linkProviderRegistration||(this._linkProviderRegistration=this._extHostLanguageFeatures.registerDocumentLinkProvider(h,"*",this._linkProvider));const b=this._handlePool++;this._linkProvider.add(i),this._registeredSchemes.add(i),this._fsProvider.set(b,o);let E=2;u.isCaseSensitive&&(E+=1024),u.isReadonly&&(E+=2048),typeof o.copy=="function"&&(E+=8),typeof o.open=="function"&&typeof o.close=="function"&&typeof o.read=="function"&&typeof o.write=="function"&&((0,R.checkProposedApiEnabled)(h,"fsChunks"),E+=4),this._proxy.$registerFileSystemProvider(b,i,E).catch(w=>{console.error(`FAILED to register filesystem provider of ${h.identifier.value}-extension for the scheme ${i}`),console.error(w)});const g=o.onDidChangeFile(w=>{const s=[];for(const r of w){const{uri:a,type:d}=r;if(a.scheme!==i)continue;let l;switch(d){case M.FileChangeType.Changed:l=0;break;case M.FileChangeType.Created:l=1;break;case M.FileChangeType.Deleted:l=2;break;default:throw new Error("Unknown FileChangeType")}s.push({resource:a,type:l})}this._proxy.$onFileSystemChange(b,s)});return(0,_.toDisposable)(()=>{g.dispose(),this._linkProvider.delete(i),this._registeredSchemes.delete(i),this._fsProvider.delete(b),this._proxy.$unregisterProvider(b)})}static _asIStat(h){const{type:i,ctime:o,mtime:u,size:b,permissions:E}=h;return{type:i,ctime:o,mtime:u,size:b,permissions:E}}$stat(h,i){return Promise.resolve(this._getFsProvider(h).stat(n.URI.revive(i))).then(o=>f._asIStat(o))}$readdir(h,i){return Promise.resolve(this._getFsProvider(h).readDirectory(n.URI.revive(i)))}$readFile(h,i){return Promise.resolve(this._getFsProvider(h).readFile(n.URI.revive(i))).then(o=>C.VSBuffer.wrap(o))}$writeFile(h,i,o,u){return Promise.resolve(this._getFsProvider(h).writeFile(n.URI.revive(i),o.buffer,u))}$delete(h,i,o){return Promise.resolve(this._getFsProvider(h).delete(n.URI.revive(i),o))}$rename(h,i,o,u){return Promise.resolve(this._getFsProvider(h).rename(n.URI.revive(i),n.URI.revive(o),u))}$copy(h,i,o,u){const b=this._getFsProvider(h);if(!b.copy)throw new Error('FileSystemProvider does not implement "copy"');return Promise.resolve(b.copy(n.URI.revive(i),n.URI.revive(o),u))}$mkdir(h,i){return Promise.resolve(this._getFsProvider(h).createDirectory(n.URI.revive(i)))}$watch(h,i,o,u){const b=this._getFsProvider(h).watch(n.URI.revive(o),u);this._watches.set(i,b)}$unwatch(h,i){const o=this._watches.get(i);o&&(o.dispose(),this._watches.delete(i))}$open(h,i,o){const u=this._getFsProvider(h);if(!u.open)throw new Error('FileSystemProvider does not implement "open"');return Promise.resolve(u.open(n.URI.revive(i),o))}$close(h,i){const o=this._getFsProvider(h);if(!o.close)throw new Error('FileSystemProvider does not implement "close"');return Promise.resolve(o.close(i))}$read(h,i,o,u){const b=this._getFsProvider(h);if(!b.read)throw new Error('FileSystemProvider does not implement "read"');const E=C.VSBuffer.alloc(u);return Promise.resolve(b.read(i,o,E.buffer,0,u)).then(g=>E.slice(0,g))}$write(h,i,o,u){const b=this._getFsProvider(h);if(!b.write)throw new Error('FileSystemProvider does not implement "write"');return Promise.resolve(b.write(i,o,u.buffer,0,u.byteLength))}_getFsProvider(h){const i=this._fsProvider.get(h);if(!i){const o=new Error;throw o.name="ENOPRO",o.message="no provider",o}return i}}e.ExtHostFileSystem=f}),define(De[57],Ie([1,0,4,36,6,24,3,14,37,7]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConsumerFileSystem=e.ExtHostConsumerFileSystem=void 0;let R=class Jt{constructor(f,v){this._fileSystemProvider=new Map,this._proxy=f.getProxy(n.MainContext.MainThreadFileSystem);const h=this;this.value=Object.freeze({async stat(i){try{const o=h._fileSystemProvider.get(i.scheme);if(!o)return await h._proxy.$stat(i);await h._proxy.$ensureActivation(i.scheme);const u=await o.stat(i);return{type:u.type,ctime:u.ctime,mtime:u.mtime,size:u.size,permissions:u.permissions}}catch(o){Jt._handleError(o)}},async readDirectory(i){try{const o=h._fileSystemProvider.get(i.scheme);return o?(await h._proxy.$ensureActivation(i.scheme),(await o.readDirectory(i)).slice()):await h._proxy.$readdir(i)}catch(o){return Jt._handleError(o)}},async createDirectory(i){try{return await h._proxy.$mkdir(i)}catch(o){return Jt._handleError(o)}},async readFile(i){try{const o=h._fileSystemProvider.get(i.scheme);return o?(await h._proxy.$ensureActivation(i.scheme),(await o.readFile(i)).slice()):(await h._proxy.$readFile(i)).buffer}catch(o){return Jt._handleError(o)}},async writeFile(i,o){try{return await h._proxy.$writeFile(i,M.VSBuffer.wrap(o))}catch(u){return Jt._handleError(u)}},async delete(i,o){try{const u=h._fileSystemProvider.get(i.scheme);return u?(await h._proxy.$ensureActivation(i.scheme),await u.delete(i,{recursive:!1,...o})):await h._proxy.$delete(i,{recursive:!1,useTrash:!1,...o})}catch(u){return Jt._handleError(u)}},async rename(i,o,u){try{return await h._proxy.$rename(i,o,{overwrite:!1,...u})}catch(b){return Jt._handleError(b)}},async copy(i,o,u){try{return await h._proxy.$copy(i,o,{overwrite:!1,...u})}catch(b){return Jt._handleError(b)}},isWritableFileSystem(i){const o=v.getCapabilities(i);if(typeof o=="number")return!(o&2048)}})}static _handleError(f){if(f instanceof _.FileSystemError)throw f;if(!(f instanceof Error))throw new _.FileSystemError(String(f));if(f.name==="ENOPRO")throw _.FileSystemError.Unavailable(f.message);switch(f.name){case k.FileSystemProviderErrorCode.FileExists:throw _.FileSystemError.FileExists(f.message);case k.FileSystemProviderErrorCode.FileNotFound:throw _.FileSystemError.FileNotFound(f.message);case k.FileSystemProviderErrorCode.FileNotADirectory:throw _.FileSystemError.FileNotADirectory(f.message);case k.FileSystemProviderErrorCode.FileIsADirectory:throw _.FileSystemError.FileIsADirectory(f.message);case k.FileSystemProviderErrorCode.NoPermissions:throw _.FileSystemError.NoPermissions(f.message);case k.FileSystemProviderErrorCode.Unavailable:throw _.FileSystemError.Unavailable(f.message);default:throw new _.FileSystemError(f.message,f.name)}}addFileSystemProvider(f,v){return this._fileSystemProvider.set(f,v),(0,C.toDisposable)(()=>this._fileSystemProvider.delete(f))}};R=Ve([We(0,A.IExtHostRpcService),We(1,S.IExtHostFileSystemInfo)],R),e.ExtHostConsumerFileSystem=R,e.IExtHostConsumerFileSystem=(0,I.createDecorator)("IExtHostConsumerFileSystem")}),define(De[206],Ie([1,0,5,35,2,4,8,6]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystemEventService=void 0;class S{get ignoreCreateEvents(){return Boolean(this._config&1)}get ignoreChangeEvents(){return Boolean(this._config&2)}get ignoreDeleteEvents(){return Boolean(this._config&4)}constructor(y,f,v,h,i,o,u,b){this._onDidCreate=new n.Emitter,this._onDidChange=new n.Emitter,this._onDidDelete=new n.Emitter;const E=this.ensureWatching(y,v,i);this._config=0,o&&(this._config+=1),u&&(this._config+=2),b&&(this._config+=4);const g=(0,k.parse)(i),w=typeof i=="string",s=h(r=>{if(!o)for(const a of r.created){const d=_.URI.revive(a);g(d.fsPath)&&(!w||f.getWorkspaceFolder(d))&&this._onDidCreate.fire(d)}if(!u)for(const a of r.changed){const d=_.URI.revive(a);g(d.fsPath)&&(!w||f.getWorkspaceFolder(d))&&this._onDidChange.fire(d)}if(!b)for(const a of r.deleted){const d=_.URI.revive(a);g(d.fsPath)&&(!w||f.getWorkspaceFolder(d))&&this._onDidDelete.fire(d)}});this._disposable=A.Disposable.from(E,this._onDidCreate,this._onDidChange,this._onDidDelete,s)}ensureWatching(y,f,v){const h=A.Disposable.from();if(typeof v=="string")return h;const i=y.getProxy(M.MainContext.MainThreadFileSystem);let o=!1;(v.pattern.includes(k.GLOBSTAR)||v.pattern.includes(k.GLOB_SPLIT))&&(o=!0);const u=Math.random();return i.$watch(f.identifier.value,u,v.baseUri,{recursive:o,excludes:[]}),A.Disposable.from({dispose:()=>i.$unwatch(u)})}dispose(){this._disposable.dispose()}get onDidCreate(){return this._onDidCreate.event}get onDidChange(){return this._onDidChange.event}get onDidDelete(){return this._onDidDelete.event}}class C{constructor(y,f,v){this._mainContext=y,this._logService=f,this._extHostDocumentsAndEditors=v,this._onFileSystemEvent=new n.Emitter,this._onDidRenameFile=new n.Emitter,this._onDidCreateFile=new n.Emitter,this._onDidDeleteFile=new n.Emitter,this._onWillRenameFile=new n.AsyncEmitter,this._onWillCreateFile=new n.AsyncEmitter,this._onWillDeleteFile=new n.AsyncEmitter,this.onDidRenameFile=this._onDidRenameFile.event,this.onDidCreateFile=this._onDidCreateFile.event,this.onDidDeleteFile=this._onDidDeleteFile.event}createFileSystemWatcher(y,f,v,h,i,o){return new S(this._mainContext,y,f,this._onFileSystemEvent.event,I.GlobPattern.from(v),h,i,o)}$onFileEvent(y){this._onFileSystemEvent.fire(y)}$onDidRunFileOperation(y,f){switch(y){case 2:this._onDidRenameFile.fire(Object.freeze({files:f.map(v=>({oldUri:_.URI.revive(v.source),newUri:_.URI.revive(v.target)}))}));break;case 1:this._onDidDeleteFile.fire(Object.freeze({files:f.map(v=>_.URI.revive(v.target))}));break;case 0:case 3:this._onDidCreateFile.fire(Object.freeze({files:f.map(v=>_.URI.revive(v.target))}));break;default:}}getOnWillRenameFileEvent(y){return this._createWillExecuteEvent(y,this._onWillRenameFile)}getOnWillCreateFileEvent(y){return this._createWillExecuteEvent(y,this._onWillCreateFile)}getOnWillDeleteFileEvent(y){return this._createWillExecuteEvent(y,this._onWillDeleteFile)}_createWillExecuteEvent(y,f){return(v,h,i)=>{const o=function(b){v.call(h,b)};return o.extension=y,f.event(o,void 0,i)}}async $onWillRunFileOperation(y,f,v,h){switch(y){case 2:return await this._fireWillEvent(this._onWillRenameFile,{files:f.map(i=>({oldUri:_.URI.revive(i.source),newUri:_.URI.revive(i.target)}))},v,h);case 1:return await this._fireWillEvent(this._onWillDeleteFile,{files:f.map(i=>_.URI.revive(i.target))},v,h);case 0:case 3:return await this._fireWillEvent(this._onWillCreateFile,{files:f.map(i=>_.URI.revive(i.target))},v,h)}}async _fireWillEvent(y,f,v,h){const i=new Set,o=[];if(await y.fireAsync(f,h,async(b,E)=>{const g=Date.now(),w=await Promise.resolve(b);w instanceof A.WorkspaceEdit&&(o.push([E.extension,w]),i.add(E.extension.displayName??E.extension.identifier.value)),Date.now()-g>v&&this._logService.warn("SLOW file-participant",E.extension.identifier)}),h.isCancellationRequested||o.length===0)return;const u={edits:[]};for(const[,b]of o){const{edits:E}=I.WorkspaceEdit.from(b,{getTextDocumentVersion:g=>this._extHostDocumentsAndEditors.getDocument(g)?.version,getNotebookDocumentVersion:()=>{}});u.edits=u.edits.concat(E)}return{edit:u,extensionNames:Array.from(i)}}}e.ExtHostFileSystemEventService=C}),define(De[207],Ie([1,0,2,38]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostInteractive=void 0;class _{constructor(I,A,S,C,R){this._extHostNotebooks=A,this._textDocumentsAndEditors=S,this._commands=C;const y=new k.ApiCommand("interactive.open","_interactive.open","Open interactive window and return notebook editor and input URI",[new k.ApiCommandArgument("showOptions","Show Options",f=>!0,f=>f),new k.ApiCommandArgument("resource","Interactive resource Uri",f=>!0,f=>f),new k.ApiCommandArgument("controllerId","Notebook controller Id",f=>!0,f=>f),new k.ApiCommandArgument("title","Interactive editor title",f=>!0,f=>f)],new k.ApiCommandResult("Notebook and input URI",f=>{if(R.debug("[ExtHostInteractive] open iw with notebook editor id",f.notebookEditorId),f.notebookEditorId!==void 0){const v=this._extHostNotebooks.getEditorById(f.notebookEditorId);return R.debug("[ExtHostInteractive] notebook editor found",v.id),{notebookUri:n.URI.revive(f.notebookUri),inputUri:n.URI.revive(f.inputUri),notebookEditor:v.apiEditor}}return R.debug("[ExtHostInteractive] notebook editor not found, uris for the interactive document",f.notebookUri,f.inputUri),{notebookUri:n.URI.revive(f.notebookUri),inputUri:n.URI.revive(f.inputUri)}}));this._commands.registerApiCommand(y)}$willAddInteractiveDocument(I,A,S,C){this._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({addedDocuments:[{EOL:A,lines:[""],languageId:S,uri:I,isDirty:!1,versionId:1,notebook:this._extHostNotebooks.getNotebookDocument(n.URI.revive(C))?.apiNotebook}]})}$willRemoveInteractiveDocument(I,A){this._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({removedDocuments:[I]})}}e.ExtHostInteractive=_}),define(De[208],Ie([1,0,7,4]),function(te,e,n,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLabelService=void 0;class _{constructor(I){this._handlePool=0,this._proxy=I.getProxy(k.MainContext.MainThreadLabelService)}$registerResourceLabelFormatter(I){const A=this._handlePool++;return this._proxy.$registerResourceLabelFormatter(A,I),(0,n.toDisposable)(()=>{this._proxy.$unregisterResourceLabelFormatter(A)})}}e.ExtHostLabelService=_}),define(De[209],Ie([1,0,2,23,8,6,71,4,10,54,16,9,252,20,7,83,79,51,210,11,15,25]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguageFeatures=void 0;class s{constructor(D,N){this._documents=D,this._provider=N}async provideDocumentSymbols(D,N){const $=this._documents.getDocument(D),q=await this._provider.provideDocumentSymbols($,N);if(!(0,R.isFalsyOrEmpty)(q))return q[0]instanceof M.DocumentSymbol?q.map(_.DocumentSymbol.from):s._asDocumentSymbolTree(q)}static _asDocumentSymbolTree(D){D=D.slice(0).sort((q,ee)=>{let ue=q.location.range.start.compareTo(ee.location.range.start);return ue===0&&(ue=ee.location.range.end.compareTo(q.location.range.end)),ue});const N=[],$=[];for(const q of D){const ee={name:q.name||"!!MISSING: name!!",kind:_.SymbolKind.from(q.kind),tags:q.tags?.map(_.SymbolTag.from)||[],detail:"",containerName:q.containerName,range:_.Range.from(q.location.range),selectionRange:_.Range.from(q.location.range),children:[]};for(;;){if($.length===0){$.push(ee),N.push(ee);break}const ue=$[$.length-1];if(C.Range.containsRange(ue.range,ee.range)&&!C.Range.equalsRange(ue.range,ee.range)){ue.children?.push(ee),$.push(ee);break}$.pop()}}return N}}class r{constructor(D,N,$){this._documents=D,this._commands=N,this._provider=$,this._cache=new u.Cache("CodeLens"),this._disposables=new Map}async provideCodeLenses(D,N){const $=this._documents.getDocument(D),q=await this._provider.provideCodeLenses($,N);if(!q||N.isCancellationRequested)return;const ee=this._cache.add(q),ue=new h.DisposableStore;this._disposables.set(ee,ue);const Se={cacheId:ee,lenses:[]};for(let se=0;se<q.length;se++)Se.lenses.push({cacheId:[ee,se],range:_.Range.from(q[se].range),command:this._commands.toInternal(q[se].command,ue)});return Se}async resolveCodeLens(D,N){const $=D.cacheId&&this._cache.get(...D.cacheId);if(!$)return;let q;if(typeof this._provider.resolveCodeLens!="function"||$.isResolved?q=$:q=await this._provider.resolveCodeLens($,N),q||(q=$),N.isCancellationRequested)return;const ee=D.cacheId&&this._disposables.get(D.cacheId[0]);if(!!ee)return D.command=this._commands.toInternal(q.command??r._badCmd,ee),D}releaseCodeLenses(D){this._disposables.get(D)?.dispose(),this._disposables.delete(D),this._cache.delete(D)}}r._badCmd={command:"missing",title:"!!MISSING: command!!"};function a(J){return Array.isArray(J)?J.map(_.DefinitionLink.from):J?[_.DefinitionLink.from(J)]:[]}class d{constructor(D,N){this._documents=D,this._provider=N}async provideDefinition(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideDefinition(q,ee,$);return a(ue)}}class l{constructor(D,N){this._documents=D,this._provider=N}async provideDeclaration(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideDeclaration(q,ee,$);return a(ue)}}class c{constructor(D,N){this._documents=D,this._provider=N}async provideImplementation(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideImplementation(q,ee,$);return a(ue)}}class t{constructor(D,N){this._documents=D,this._provider=N}async provideTypeDefinition(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideTypeDefinition(q,ee,$);return a(ue)}}class m{constructor(D,N){this._documents=D,this._provider=N}async provideHover(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideHover(q,ee,$);if(!(!ue||(0,R.isFalsyOrEmpty)(ue.contents)))return ue.range||(ue.range=q.getWordRangeAtPosition(ee)),ue.range||(ue.range=new M.Range(ee,ee)),_.Hover.from(ue)}}class p{constructor(D,N){this._documents=D,this._provider=N}async provideEvaluatableExpression(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideEvaluatableExpression(q,ee,$);if(ue)return _.EvaluatableExpression.from(ue)}}class P{constructor(D,N){this._documents=D,this._provider=N}async provideInlineValues(D,N,$,q){const ee=this._documents.getDocument(D),ue=await this._provider.provideInlineValues(ee,_.Range.to(N),_.InlineValueContext.to($),q);if(Array.isArray(ue))return ue.map(Se=>_.InlineValue.from(Se))}}class L{constructor(D,N){this._documents=D,this._provider=N}async provideDocumentHighlights(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideDocumentHighlights(q,ee,$);if(Array.isArray(ue))return ue.map(_.DocumentHighlight.from)}}class V{constructor(D,N){this._documents=D,this._provider=N}async provideLinkedEditingRanges(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.provideLinkedEditingRanges(q,ee,$);if(ue&&Array.isArray(ue.ranges))return{ranges:(0,R.coalesce)(ue.ranges.map(_.Range.from)),wordPattern:ue.wordPattern}}}class H{constructor(D,N){this._documents=D,this._provider=N}async provideReferences(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Position.to(N),Se=await this._provider.provideReferences(ee,ue,$,q);if(Array.isArray(Se))return Se.map(_.location.from)}}class W{constructor(D,N,$,q,ee,ue,Se){this._documents=D,this._commands=N,this._diagnostics=$,this._provider=q,this._logService=ee,this._extension=ue,this._apiDeprecation=Se,this._cache=new u.Cache("CodeAction"),this._disposables=new Map}async provideCodeActions(D,N,$,q){const ee=this._documents.getDocument(D),ue=f.Selection.isISelection(N)?_.Selection.to(N):_.Range.to(N),Se=[];for(const tt of this._diagnostics.getDiagnostics(D))if(ue.intersection(tt.range)&&Se.push(tt)>W._maxCodeActionsPerFile)break;const se={diagnostics:Se,only:$.only?new M.CodeActionKind($.only):void 0,triggerKind:_.CodeActionTriggerKind.to($.trigger)},ve=await this._provider.provideCodeActions(ee,ue,se,q);if(!(0,R.isNonEmptyArray)(ve)||q.isCancellationRequested)return;const Ee=this._cache.add(ve),Be=new h.DisposableStore;this._disposables.set(Ee,Be);const $e=[];for(let tt=0;tt<ve.length;tt++){const Ke=ve[tt];!Ke||(W._isCommand(Ke)?(this._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",this._extension,"Return 'CodeAction' instances instead."),$e.push({_isSynthetic:!0,title:Ke.title,command:this._commands.toInternal(Ke,Be)})):(se.only&&(Ke.kind?se.only.contains(Ke.kind)||this._logService.warn(`${this._extension.identifier.value} - Code actions of kind '${se.only.value} 'requested but returned code action is of kind '${Ke.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):this._logService.warn(`${this._extension.identifier.value} - Code actions of kind '${se.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),$e.push({cacheId:[Ee,tt],title:Ke.title,command:Ke.command&&this._commands.toInternal(Ke.command,Be),diagnostics:Ke.diagnostics&&Ke.diagnostics.map(_.Diagnostic.from),edit:Ke.edit&&_.WorkspaceEdit.from(Ke.edit,void 0),kind:Ke.kind&&Ke.kind.value,isPreferred:Ke.isPreferred,disabled:Ke.disabled?.reason})))}return{cacheId:Ee,actions:$e}}async resolveCodeAction(D,N){const[$,q]=D,ee=this._cache.get($,q);if(!ee||W._isCommand(ee)||!this._provider.resolveCodeAction)return;const ue=await this._provider.resolveCodeAction(ee,N)??ee;return ue?.edit?_.WorkspaceEdit.from(ue.edit,void 0):void 0}releaseCodeActions(D){this._disposables.get(D)?.dispose(),this._disposables.delete(D),this._cache.delete(D)}static _isCommand(D){return typeof D.command=="string"&&typeof D.title=="string"}}W._maxCodeActionsPerFile=1e3;class T{constructor(D,N,$,q){this._proxy=D,this._documents=N,this._provider=$,this._handle=q}async prepareDocumentPaste(D,N,$,q){if(!this._provider.prepareDocumentPaste)return;const ee=this._documents.getDocument(D),ue=N.map(se=>_.Range.to(se)),Se=_.DataTransfer.toDataTransfer($,()=>{throw new E.NotImplementedError});return await this._provider.prepareDocumentPaste(ee,ue,Se,q),_.DataTransfer.toDataTransferDTO(Se)}async providePasteEdits(D,N,$,q,ee){const ue=this._documents.getDocument(N),Se=$.map(Ee=>_.Range.to(Ee)),se=_.DataTransfer.toDataTransfer(q,async Ee=>(await this._proxy.$resolvePasteFileData(this._handle,D,Ee)).buffer),ve=await this._provider.provideDocumentPasteEdits(ue,Se,se,ee);if(!!ve)return{insertText:typeof ve.insertText=="string"?ve.insertText:{snippet:ve.insertText.value},additionalEdit:ve.additionalEdit?_.WorkspaceEdit.from(ve.additionalEdit,void 0):void 0}}}class F{constructor(D,N){this._documents=D,this._provider=N}async provideDocumentFormattingEdits(D,N,$){const q=this._documents.getDocument(D),ee=await this._provider.provideDocumentFormattingEdits(q,N,$);if(Array.isArray(ee))return ee.map(_.TextEdit.from)}}class O{constructor(D,N){this._documents=D,this._provider=N}async provideDocumentRangeFormattingEdits(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Range.to(N),Se=await this._provider.provideDocumentRangeFormattingEdits(ee,ue,$,q);if(Array.isArray(Se))return Se.map(_.TextEdit.from)}}class B{constructor(D,N){this._documents=D,this._provider=N,this.autoFormatTriggerCharacters=[]}async provideOnTypeFormattingEdits(D,N,$,q,ee){const ue=this._documents.getDocument(D),Se=_.Position.to(N),se=await this._provider.provideOnTypeFormattingEdits(ue,Se,$,q,ee);if(Array.isArray(se))return se.map(_.TextEdit.from)}}class z{constructor(D,N){this._provider=D,this._logService=N,this._cache=new u.Cache("WorkspaceSymbols")}async provideWorkspaceSymbols(D,N){const $=await this._provider.provideWorkspaceSymbols(D,N);if(!(0,R.isNonEmptyArray)($))return{symbols:[]};const q=this._cache.add($),ee={cacheId:q,symbols:[]};for(let ue=0;ue<$.length;ue++){const Se=$[ue];if(!Se||!Se.name){this._logService.warn("INVALID SymbolInformation",Se);continue}ee.symbols.push({..._.WorkspaceSymbol.from(Se),cacheId:[q,ue]})}return ee}async resolveWorkspaceSymbol(D,N){if(typeof this._provider.resolveWorkspaceSymbol!="function"||!D.cacheId)return D;const $=this._cache.get(...D.cacheId);if($){const q=await this._provider.resolveWorkspaceSymbol($,N);return q&&(0,k.mixin)(D,_.WorkspaceSymbol.from(q),!0)}}releaseWorkspaceSymbols(D){this._cache.delete(D)}}class j{static supportsResolving(D){return typeof D.prepareRename=="function"}constructor(D,N,$){this._documents=D,this._provider=N,this._logService=$}async provideRenameEdits(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Position.to(N);try{const Se=await this._provider.provideRenameEdits(ee,ue,$,q);return Se?_.WorkspaceEdit.from(Se):void 0}catch(Se){const se=j._asMessage(Se);return se?{rejectReason:se,edits:void 0}:Promise.reject(Se)}}async resolveRenameLocation(D,N,$){if(typeof this._provider.prepareRename!="function")return Promise.resolve(void 0);const q=this._documents.getDocument(D),ee=_.Position.to(N);try{const ue=await this._provider.prepareRename(q,ee,$);let Se,se;if(M.Range.isRange(ue)?(Se=ue,se=q.getText(ue)):(0,y.isObject)(ue)&&(Se=ue.range,se=ue.placeholder),!Se||!se)return;if(Se.start.line>ee.line||Se.end.line<ee.line){this._logService.warn("INVALID rename location: position line must be within range start/end lines");return}return{range:_.Range.from(Se),text:se}}catch(ue){const Se=j._asMessage(ue);return Se?{rejectReason:Se,range:void 0,text:void 0}:Promise.reject(ue)}}static _asMessage(D){return typeof D=="string"?D:D instanceof Error&&typeof D.message=="string"?D.message:void 0}}class G{constructor(D,N){this.resultId=D,this.tokens=N}}class Z{constructor(D,N){this._documents=D,this._provider=N,this._nextResultId=1,this._previousResults=new Map}async provideDocumentSemanticTokens(D,N,$){const q=this._documents.getDocument(D),ee=N!==0?this._previousResults.get(N):null;let ue=typeof ee?.resultId=="string"&&typeof this._provider.provideDocumentSemanticTokensEdits=="function"?await this._provider.provideDocumentSemanticTokensEdits(q,ee.resultId,$):await this._provider.provideDocumentSemanticTokens(q,$);return ee&&this._previousResults.delete(N),ue?(ue=Z._fixProvidedSemanticTokens(ue),this._send(Z._convertToEdits(ee,ue),ue)):null}async releaseDocumentSemanticColoring(D){this._previousResults.delete(D)}static _fixProvidedSemanticTokens(D){return Z._isSemanticTokens(D)?Z._isCorrectSemanticTokens(D)?D:new M.SemanticTokens(new Uint32Array(D.data),D.resultId):Z._isSemanticTokensEdits(D)?Z._isCorrectSemanticTokensEdits(D)?D:new M.SemanticTokensEdits(D.edits.map(N=>new M.SemanticTokensEdit(N.start,N.deleteCount,N.data?new Uint32Array(N.data):N.data)),D.resultId):D}static _isSemanticTokens(D){return D&&!!D.data}static _isCorrectSemanticTokens(D){return D.data instanceof Uint32Array}static _isSemanticTokensEdits(D){return D&&Array.isArray(D.edits)}static _isCorrectSemanticTokensEdits(D){for(const N of D.edits)if(!(N.data instanceof Uint32Array))return!1;return!0}static _convertToEdits(D,N){if(!Z._isSemanticTokens(N)||!D||!D.tokens)return N;const $=D.tokens,q=$.length,ee=N.data,ue=ee.length;let Se=0;const se=Math.min(q,ue);for(;Se<se&&$[Se]===ee[Se];)Se++;if(Se===q&&Se===ue)return new M.SemanticTokensEdits([],N.resultId);let ve=0;const Ee=se-Se;for(;ve<Ee&&$[q-ve-1]===ee[ue-ve-1];)ve++;return new M.SemanticTokensEdits([{start:Se,deleteCount:q-Se-ve,data:ee.subarray(Se,ue-ve)}],N.resultId)}_send(D,N){if(Z._isSemanticTokens(D)){const $=this._nextResultId++;return this._previousResults.set($,new G(D.resultId,D.data)),(0,i.encodeSemanticTokensDto)({id:$,type:"full",data:D.data})}if(Z._isSemanticTokensEdits(D)){const $=this._nextResultId++;return Z._isSemanticTokens(N)?this._previousResults.set($,new G(N.resultId,N.data)):this._previousResults.set($,new G(D.resultId)),(0,i.encodeSemanticTokensDto)({id:$,type:"delta",deltas:(D.edits||[]).map(q=>({start:q.start,deleteCount:q.deleteCount,data:q.data}))})}return null}}class he{constructor(D,N){this._documents=D,this._provider=N}async provideDocumentRangeSemanticTokens(D,N,$){const q=this._documents.getDocument(D),ee=await this._provider.provideDocumentRangeSemanticTokens(q,_.Range.to(N),$);return ee?this._send(ee):null}_send(D){return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:D.data})}}class oe{static supportsResolving(D){return typeof D.resolveCompletionItem=="function"}constructor(D,N,$,q,ee){this._documents=D,this._commands=N,this._provider=$,this._apiDeprecation=q,this._extension=ee,this._cache=new u.Cache("CompletionItem"),this._disposables=new Map}async provideCompletionItems(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Position.to(N),Se=ee.getWordRangeAtPosition(ue)||new M.Range(ue,ue),se=Se.with({end:ue}),ve=new b.StopWatch(!0),Ee=await this._provider.provideCompletionItems(ee,ue,q,_.CompletionContext.to($));if(!Ee||q.isCancellationRequested)return;const Be=Array.isArray(Ee)?new M.CompletionList(Ee):Ee,$e=oe.supportsResolving(this._provider)?this._cache.add(Be.items):this._cache.add([]),tt=new h.DisposableStore;this._disposables.set($e,tt);const Ke=[],et={x:$e,b:Ke,a:{replace:_.Range.from(Se),insert:_.Range.from(se)},c:Be.isIncomplete||void 0,d:ve.elapsed()};for(let it=0;it<Be.items.length;it++){const dt=Be.items[it],Oe=this._convertCompletionItem(dt,[$e,it],se,Se);Ke.push(Oe)}return et}async resolveCompletionItem(D,N){if(typeof this._provider.resolveCompletionItem!="function")return;const $=this._cache.get(...D);if(!$)return;const q=await this._provider.resolveCompletionItem($,N);if(!!q)return this._convertCompletionItem(q,D)}releaseCompletionItems(D){this._disposables.get(D)?.dispose(),this._disposables.delete(D),this._cache.delete(D)}_convertCompletionItem(D,N,$,q){const ee=this._disposables.get(N[0]);if(!ee)throw Error("DisposableStore is missing...");const ue=this._commands.toInternal(D.command,ee),Se={x:N,a:D.label,b:D.kind!==void 0?_.CompletionItemKind.from(D.kind):void 0,m:D.tags&&D.tags.map(_.CompletionItemTag.from),c:D.detail,d:typeof D.documentation>"u"?void 0:_.MarkdownString.fromStrict(D.documentation),e:D.sortText!==D.label?D.sortText:void 0,f:D.filterText!==D.label?D.filterText:void 0,g:D.preselect||void 0,i:D.keepWhitespace?1:0,k:D.commitCharacters?.join(""),l:D.additionalTextEdits&&D.additionalTextEdits.map(_.TextEdit.from),n:ue?.$ident,o:ue?.id,p:ue?.$ident?void 0:ue?.arguments};D.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),Se.h=D.textEdit.newText):typeof D.insertText=="string"?Se.h=D.insertText:D.insertText instanceof M.SnippetString&&(Se.h=D.insertText.value,Se.i|=4);let se;return D.textEdit?se=D.textEdit.range:D.range&&(se=D.range),M.Range.isRange(se)?Se.j=_.Range.from(se):se&&(!$?.isEqual(se.inserting)||!q?.isEqual(se.replacing))&&(Se.j={insert:_.Range.from(se.inserting),replace:_.Range.from(se.replacing)}),Se}}class ce{async provideInlineCompletions(D,N,$,q){}disposeCompletions(D){}handleDidShowCompletionItem(D,N){}}class le extends ce{constructor(D,N,$,q){super(),this._extension=D,this._documents=N,this._provider=$,this._commands=q,this._references=new fe,this._isAdditionsProposedApiEnabled=(0,w.isProposedApiEnabled)(this._extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[I.InlineCompletionTriggerKind.Automatic]:M.InlineCompletionTriggerKind.Automatic,[I.InlineCompletionTriggerKind.Explicit]:M.InlineCompletionTriggerKind.Invoke}}get supportsHandleDidShowCompletionItem(){return(0,w.isProposedApiEnabled)(this._extension,"inlineCompletionsAdditions")&&typeof this._provider.handleDidShowCompletionItem=="function"}async provideInlineCompletions(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Position.to(N),Se=await this._provider.provideInlineCompletionItems(ee,ue,{selectedCompletionInfo:$.selectedSuggestionInfo?{range:_.Range.to($.selectedSuggestionInfo.range),text:$.selectedSuggestionInfo.text}:void 0,triggerKind:this.languageTriggerKindToVSCodeTriggerKind[$.triggerKind]},q);if(!Se||q.isCancellationRequested)return;const se=Array.isArray(Se)?Se:Se.items,ve=this._isAdditionsProposedApiEnabled?Array.isArray(Se)?[]:Se.commands||[]:[];let Ee;return{pid:this._references.createReferenceId({dispose(){Ee?.dispose()},items:se}),items:se.map(($e,tt)=>{let Ke;$e.command&&(Ee||(Ee=new h.DisposableStore),Ke=this._commands.toInternal($e.command,Ee));const et=$e.insertText;return{insertText:typeof et=="string"?et:{snippet:et.value},filterText:$e.filterText,range:$e.range?_.Range.from($e.range):void 0,command:Ke,idx:tt,completeBracketPairs:this._isAdditionsProposedApiEnabled?$e.completeBracketPairs:!1}}),commands:ve.map($e=>(Ee||(Ee=new h.DisposableStore),this._commands.toInternal($e,Ee)))}}disposeCompletions(D){this._references.disposeReferenceId(D)?.dispose()}handleDidShowCompletionItem(D,N){const $=this._references.get(D)?.items[N];$&&this._provider.handleDidShowCompletionItem&&this._isAdditionsProposedApiEnabled&&this._provider.handleDidShowCompletionItem($)}}class fe{constructor(){this._references=new Map,this._idPool=1}createReferenceId(D){const N=this._idPool++;return this._references.set(N,D),N}disposeReferenceId(D){const N=this._references.get(D);return this._references.delete(D),N}get(D){return this._references.get(D)}}class Y{constructor(D,N){this._documents=D,this._provider=N,this._cache=new u.Cache("SignatureHelp")}async provideSignatureHelp(D,N,$,q){const ee=this._documents.getDocument(D),ue=_.Position.to(N),Se=this.reviveContext($),se=await this._provider.provideSignatureHelp(ee,ue,q,Se);if(se){const ve=this._cache.add([se]);return{..._.SignatureHelp.from(se),id:ve}}}reviveContext(D){let N;if(D.activeSignatureHelp){const $=_.SignatureHelp.to(D.activeSignatureHelp),q=this._cache.get(D.activeSignatureHelp.id,0);q?(N=q,N.activeSignature=$.activeSignature,N.activeParameter=$.activeParameter):N=$}return{...D,activeSignatureHelp:N}}releaseSignatureHelp(D){this._cache.delete(D)}}class ge{constructor(D,N,$,q,ee){this._documents=D,this._commands=N,this._provider=$,this._logService=q,this._extension=ee,this._cache=new u.Cache("InlayHints"),this._disposables=new Map}async provideInlayHints(D,N,$){const q=this._documents.getDocument(D),ee=_.Range.to(N),ue=await this._provider.provideInlayHints(q,ee,$);if(!Array.isArray(ue)||ue.length===0){this._logService.trace(`[InlayHints] NO inlay hints from '${this._extension.identifier.value}' for ${N}`);return}if($.isCancellationRequested)return;const Se=this._cache.add(ue);this._disposables.set(Se,new h.DisposableStore);const se={hints:[],cacheId:Se};for(let ve=0;ve<ue.length;ve++)this._isValidInlayHint(ue[ve],ee)&&se.hints.push(this._convertInlayHint(ue[ve],[Se,ve]));return this._logService.trace(`[InlayHints] ${se.hints.length} inlay hints from '${this._extension.identifier.value}' for ${N}`),se}async resolveInlayHint(D,N){if(typeof this._provider.resolveInlayHint!="function")return;const $=this._cache.get(...D);if(!$)return;const q=await this._provider.resolveInlayHint($,N);if(!!q&&!!this._isValidInlayHint(q))return this._convertInlayHint(q,D)}releaseHints(D){this._disposables.get(D)?.dispose(),this._disposables.delete(D),this._cache.delete(D)}_isValidInlayHint(D,N){return D.label.length===0||Array.isArray(D.label)&&D.label.every($=>$.value.length===0)?(console.log("INVALID inlay hint, empty label",D),!1):!(N&&!N.contains(D.position))}_convertInlayHint(D,N){const $=this._disposables.get(N[0]);if(!$)throw Error("DisposableStore is missing...");const q={label:"",cacheId:N,tooltip:_.MarkdownString.fromStrict(D.tooltip),position:_.Position.from(D.position),textEdits:D.textEdits&&D.textEdits.map(_.TextEdit.from),kind:D.kind&&_.InlayHintKind.from(D.kind),paddingLeft:D.paddingLeft,paddingRight:D.paddingRight};return typeof D.label=="string"?q.label=D.label:q.label=D.label.map(ee=>{const ue={label:ee.value};return ue.tooltip=_.MarkdownString.fromStrict(ee.tooltip),M.Location.isLocation(ee.location)&&(ue.location=_.location.from(ee.location)),ee.command&&(ue.command=this._commands.toInternal(ee.command,$)),ue}),q}}class we{constructor(D,N){this._documents=D,this._provider=N,this._cache=new u.Cache("DocumentLink")}async provideLinks(D,N){const $=this._documents.getDocument(D),q=await this._provider.provideDocumentLinks($,N);if(!(!Array.isArray(q)||q.length===0)&&!N.isCancellationRequested){if(typeof this._provider.resolveDocumentLink!="function")return{links:q.filter(we._validateLink).map(_.DocumentLink.from)};{const ee=this._cache.add(q),ue={links:[],cacheId:ee};for(let Se=0;Se<q.length;Se++){if(!we._validateLink(q[Se]))continue;const se=_.DocumentLink.from(q[Se]);se.cacheId=[ee,Se],ue.links.push(se)}return ue}}}static _validateLink(D){return D.target&&D.target.path.length>5e4?(console.warn("DROPPING link because it is too long"),!1):!0}async resolveLink(D,N){if(typeof this._provider.resolveDocumentLink!="function")return;const $=this._cache.get(...D);if(!$)return;const q=await this._provider.resolveDocumentLink($,N);if(!(!q||!we._validateLink(q)))return _.DocumentLink.from(q)}releaseLinks(D){this._cache.delete(D)}}class Fe{constructor(D,N){this._documents=D,this._provider=N}async provideColors(D,N){const $=this._documents.getDocument(D),q=await this._provider.provideDocumentColors($,N);return Array.isArray(q)?q.map(ue=>({color:_.Color.from(ue.color),range:_.Range.from(ue.range)})):[]}async provideColorPresentations(D,N,$){const q=this._documents.getDocument(D),ee=_.Range.to(N.range),ue=_.Color.to(N.color),Se=await this._provider.provideColorPresentations(ue,{document:q,range:ee},$);if(!!Array.isArray(Se))return Se.map(_.ColorPresentation.from)}}class xe{constructor(D,N){this._documents=D,this._provider=N}async provideFoldingRanges(D,N,$){const q=this._documents.getDocument(D),ee=await this._provider.provideFoldingRanges(q,N,$);if(!!Array.isArray(ee))return ee.map(_.FoldingRange.from)}}class Xe{constructor(D,N,$){this._documents=D,this._provider=N,this._logService=$}async provideSelectionRanges(D,N,$){const q=this._documents.getDocument(D),ee=N.map(_.Position.to),ue=await this._provider.provideSelectionRanges(q,ee,$);if(!(0,R.isNonEmptyArray)(ue))return[];if(ue.length!==ee.length)return this._logService.warn("BAD selection ranges, provider must return ranges for each position"),[];const Se=[];for(let se=0;se<ee.length;se++){const ve=[];Se.push(ve);let Ee=ee[se],Be=ue[se];for(;;){if(!Be.range.contains(Ee))throw new Error("INVALID selection range, must contain the previous range");if(ve.push(_.SelectionRange.from(Be)),!Be.parent)break;Ee=Be.range,Be=Be.parent}}return Se}}class ke{constructor(D,N){this._documents=D,this._provider=N,this._idPool=new o.IdGenerator(""),this._cache=new Map}async prepareSession(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.prepareCallHierarchy(q,ee,$);if(!ue)return;const Se=this._idPool.nextId();return this._cache.set(Se,new Map),Array.isArray(ue)?ue.map(se=>this._cacheAndConvertItem(Se,se)):[this._cacheAndConvertItem(Se,ue)]}async provideCallsTo(D,N,$){const q=this._itemFromCache(D,N);if(!q)throw new Error("missing call hierarchy item");const ee=await this._provider.provideCallHierarchyIncomingCalls(q,$);if(!!ee)return ee.map(ue=>({from:this._cacheAndConvertItem(D,ue.from),fromRanges:ue.fromRanges.map(Se=>_.Range.from(Se))}))}async provideCallsFrom(D,N,$){const q=this._itemFromCache(D,N);if(!q)throw new Error("missing call hierarchy item");const ee=await this._provider.provideCallHierarchyOutgoingCalls(q,$);if(!!ee)return ee.map(ue=>({to:this._cacheAndConvertItem(D,ue.to),fromRanges:ue.fromRanges.map(Se=>_.Range.from(Se))}))}releaseSession(D){this._cache.delete(D)}_cacheAndConvertItem(D,N){const $=this._cache.get(D),q=_.CallHierarchyItem.from(N,D,$.size.toString(36));return $.set(q._itemId,N),q}_itemFromCache(D,N){return this._cache.get(D)?.get(N)}}class ye{constructor(D,N){this._documents=D,this._provider=N,this._idPool=new o.IdGenerator(""),this._cache=new Map}async prepareSession(D,N,$){const q=this._documents.getDocument(D),ee=_.Position.to(N),ue=await this._provider.prepareTypeHierarchy(q,ee,$);if(!ue)return;const Se=this._idPool.nextId();return this._cache.set(Se,new Map),Array.isArray(ue)?ue.map(se=>this._cacheAndConvertItem(Se,se)):[this._cacheAndConvertItem(Se,ue)]}async provideSupertypes(D,N,$){const q=this._itemFromCache(D,N);if(!q)throw new Error("missing type hierarchy item");const ee=await this._provider.provideTypeHierarchySupertypes(q,$);if(!!ee)return ee.map(ue=>this._cacheAndConvertItem(D,ue))}async provideSubtypes(D,N,$){const q=this._itemFromCache(D,N);if(!q)throw new Error("missing type hierarchy item");const ee=await this._provider.provideTypeHierarchySubtypes(q,$);if(!!ee)return ee.map(ue=>this._cacheAndConvertItem(D,ue))}releaseSession(D){this._cache.delete(D)}_cacheAndConvertItem(D,N){const $=this._cache.get(D),q=_.TypeHierarchyItem.from(N,D,$.size.toString(36));return $.set(q._itemId,N),q}_itemFromCache(D,N){return this._cache.get(D)?.get(N)}}class Ce{constructor(D,N,$,q){this._proxy=D,this._documents=N,this._provider=$,this._handle=q}async provideDocumentOnDropEdits(D,N,$,q,ee){const ue=this._documents.getDocument(N),Se=_.Position.to($),se=_.DataTransfer.toDataTransfer(q,async Ee=>(await this._proxy.$resolveDocumentOnDropFileData(this._handle,D,Ee)).buffer),ve=await this._provider.provideDocumentDropEdits(ue,Se,se,ee);if(!!ve)return{insertText:typeof ve.insertText=="string"?ve.insertText:{snippet:ve.insertText.value},additionalEdit:ve.additionalEdit?_.WorkspaceEdit.from(ve.additionalEdit,void 0):void 0}}}class re{constructor(D,N){this.adapter=D,this.extension=N}}class ae{constructor(D,N,$,q,ee,ue,Se,se){this._uriTransformer=N,this._documents=$,this._commands=q,this._diagnostics=ee,this._logService=ue,this._apiDeprecation=Se,this._extensionTelemetry=se,this._adapter=new Map,this._proxy=D.getProxy(A.MainContext.MainThreadLanguageFeatures)}_transformDocumentSelector(D){return _.DocumentSelector.from(D,this._uriTransformer)}_createDisposable(D){return new M.Disposable(()=>{this._adapter.delete(D),this._proxy.$unregister(D)})}_nextHandle(){return ae._handlePool++}async _withAdapter(D,N,$,q,ee,ue=!1){const Se=this._adapter.get(D);if(!Se||!(Se.adapter instanceof N))return q;const se=Date.now();ue||this._logService.trace(`[${Se.extension.identifier.value}] INVOKE provider '${$.toString().replace(/[\r\n]/g,"")}'`);const ve=$(Se.adapter,Se.extension);return Promise.resolve(ve).catch(Ee=>{(0,E.isCancellationError)(Ee)||(this._logService.error(`[${Se.extension.identifier.value}] provider FAILED`),this._logService.error(Ee),this._extensionTelemetry.onExtensionError(Se.extension.identifier,Ee))}).finally(()=>{ue||this._logService.trace(`[${Se.extension.identifier.value}] provider DONE after ${Date.now()-se}ms`)}),v.CancellationToken.isCancellationToken(ee)?(0,g.raceCancellationError)(ve,ee):ve}_addNewAdapter(D,N){const $=this._nextHandle();return this._adapter.set($,new re(D,N)),$}static _extLabel(D){return D.displayName||D.name}registerDocumentSymbolProvider(D,N,$,q){const ee=this._addNewAdapter(new s(this._documents,$),D),ue=q&&q.label||ae._extLabel(D);return this._proxy.$registerDocumentSymbolProvider(ee,this._transformDocumentSelector(N),ue),this._createDisposable(ee)}$provideDocumentSymbols(D,N,$){return this._withAdapter(D,s,q=>q.provideDocumentSymbols(n.URI.revive(N),$),void 0,$)}registerCodeLensProvider(D,N,$){const q=this._nextHandle(),ee=typeof $.onDidChangeCodeLenses=="function"?this._nextHandle():void 0;this._adapter.set(q,new re(new r(this._documents,this._commands.converter,$),D)),this._proxy.$registerCodeLensSupport(q,this._transformDocumentSelector(N),ee);let ue=this._createDisposable(q);if(ee!==void 0){const Se=$.onDidChangeCodeLenses(se=>this._proxy.$emitCodeLensEvent(ee));ue=M.Disposable.from(ue,Se)}return ue}$provideCodeLenses(D,N,$){return this._withAdapter(D,r,q=>q.provideCodeLenses(n.URI.revive(N),$),void 0,$)}$resolveCodeLens(D,N,$){return this._withAdapter(D,r,q=>q.resolveCodeLens(N,$),void 0,void 0)}$releaseCodeLenses(D,N){this._withAdapter(D,r,$=>Promise.resolve($.releaseCodeLenses(N)),void 0,void 0)}registerDefinitionProvider(D,N,$){const q=this._addNewAdapter(new d(this._documents,$),D);return this._proxy.$registerDefinitionSupport(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideDefinition(D,N,$,q){return this._withAdapter(D,d,ee=>ee.provideDefinition(n.URI.revive(N),$,q),[],q)}registerDeclarationProvider(D,N,$){const q=this._addNewAdapter(new l(this._documents,$),D);return this._proxy.$registerDeclarationSupport(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideDeclaration(D,N,$,q){return this._withAdapter(D,l,ee=>ee.provideDeclaration(n.URI.revive(N),$,q),[],q)}registerImplementationProvider(D,N,$){const q=this._addNewAdapter(new c(this._documents,$),D);return this._proxy.$registerImplementationSupport(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideImplementation(D,N,$,q){return this._withAdapter(D,c,ee=>ee.provideImplementation(n.URI.revive(N),$,q),[],q)}registerTypeDefinitionProvider(D,N,$){const q=this._addNewAdapter(new t(this._documents,$),D);return this._proxy.$registerTypeDefinitionSupport(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideTypeDefinition(D,N,$,q){return this._withAdapter(D,t,ee=>ee.provideTypeDefinition(n.URI.revive(N),$,q),[],q)}registerHoverProvider(D,N,$,q){const ee=this._addNewAdapter(new m(this._documents,$),D);return this._proxy.$registerHoverProvider(ee,this._transformDocumentSelector(N)),this._createDisposable(ee)}$provideHover(D,N,$,q){return this._withAdapter(D,m,ee=>ee.provideHover(n.URI.revive(N),$,q),void 0,q)}registerEvaluatableExpressionProvider(D,N,$,q){const ee=this._addNewAdapter(new p(this._documents,$),D);return this._proxy.$registerEvaluatableExpressionProvider(ee,this._transformDocumentSelector(N)),this._createDisposable(ee)}$provideEvaluatableExpression(D,N,$,q){return this._withAdapter(D,p,ee=>ee.provideEvaluatableExpression(n.URI.revive(N),$,q),void 0,q)}registerInlineValuesProvider(D,N,$,q){const ee=typeof $.onDidChangeInlineValues=="function"?this._nextHandle():void 0,ue=this._addNewAdapter(new P(this._documents,$),D);this._proxy.$registerInlineValuesProvider(ue,this._transformDocumentSelector(N),ee);let Se=this._createDisposable(ue);if(ee!==void 0){const se=$.onDidChangeInlineValues(ve=>this._proxy.$emitInlineValuesEvent(ee));Se=M.Disposable.from(Se,se)}return Se}$provideInlineValues(D,N,$,q,ee){return this._withAdapter(D,P,ue=>ue.provideInlineValues(n.URI.revive(N),$,q,ee),void 0,ee)}registerDocumentHighlightProvider(D,N,$){const q=this._addNewAdapter(new L(this._documents,$),D);return this._proxy.$registerDocumentHighlightProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideDocumentHighlights(D,N,$,q){return this._withAdapter(D,L,ee=>ee.provideDocumentHighlights(n.URI.revive(N),$,q),void 0,q)}registerLinkedEditingRangeProvider(D,N,$){const q=this._addNewAdapter(new V(this._documents,$),D);return this._proxy.$registerLinkedEditingRangeProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideLinkedEditingRanges(D,N,$,q){return this._withAdapter(D,V,async ee=>{const ue=await ee.provideLinkedEditingRanges(n.URI.revive(N),$,q);if(ue)return{ranges:ue.ranges,wordPattern:ue.wordPattern?ae._serializeRegExp(ue.wordPattern):void 0}},void 0,q)}registerReferenceProvider(D,N,$){const q=this._addNewAdapter(new H(this._documents,$),D);return this._proxy.$registerReferenceSupport(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideReferences(D,N,$,q,ee){return this._withAdapter(D,H,ue=>ue.provideReferences(n.URI.revive(N),$,q,ee),void 0,ee)}registerCodeActionProvider(D,N,$,q){const ee=new h.DisposableStore,ue=this._addNewAdapter(new W(this._documents,this._commands.converter,this._diagnostics,$,this._logService,D,this._apiDeprecation),D);return this._proxy.$registerQuickFixSupport(ue,this._transformDocumentSelector(N),{providedKinds:q?.providedCodeActionKinds?.map(Se=>Se.value),documentation:q?.documentation?.map(Se=>({kind:Se.kind.value,command:this._commands.converter.toInternal(Se.command,ee)}))},ae._extLabel(D),Boolean($.resolveCodeAction)),ee.add(this._createDisposable(ue)),ee}$provideCodeActions(D,N,$,q,ee){return this._withAdapter(D,W,ue=>ue.provideCodeActions(n.URI.revive(N),$,q,ee),void 0,ee)}$resolveCodeAction(D,N,$){return this._withAdapter(D,W,q=>q.resolveCodeAction(N,$),void 0,void 0)}$releaseCodeActions(D,N){this._withAdapter(D,W,$=>Promise.resolve($.releaseCodeActions(N)),void 0,void 0)}registerDocumentFormattingEditProvider(D,N,$){const q=this._addNewAdapter(new F(this._documents,$),D);return this._proxy.$registerDocumentFormattingSupport(q,this._transformDocumentSelector(N),D.identifier,D.displayName||D.name),this._createDisposable(q)}$provideDocumentFormattingEdits(D,N,$,q){return this._withAdapter(D,F,ee=>ee.provideDocumentFormattingEdits(n.URI.revive(N),$,q),void 0,q)}registerDocumentRangeFormattingEditProvider(D,N,$){const q=this._addNewAdapter(new O(this._documents,$),D);return this._proxy.$registerRangeFormattingSupport(q,this._transformDocumentSelector(N),D.identifier,D.displayName||D.name),this._createDisposable(q)}$provideDocumentRangeFormattingEdits(D,N,$,q,ee){return this._withAdapter(D,O,ue=>ue.provideDocumentRangeFormattingEdits(n.URI.revive(N),$,q,ee),void 0,ee)}registerOnTypeFormattingEditProvider(D,N,$,q){const ee=this._addNewAdapter(new B(this._documents,$),D);return this._proxy.$registerOnTypeFormattingSupport(ee,this._transformDocumentSelector(N),q,D.identifier),this._createDisposable(ee)}$provideOnTypeFormattingEdits(D,N,$,q,ee,ue){return this._withAdapter(D,B,Se=>Se.provideOnTypeFormattingEdits(n.URI.revive(N),$,q,ee,ue),void 0,ue)}registerWorkspaceSymbolProvider(D,N){const $=this._addNewAdapter(new z(N,this._logService),D);return this._proxy.$registerNavigateTypeSupport($,typeof N.resolveWorkspaceSymbol=="function"),this._createDisposable($)}$provideWorkspaceSymbols(D,N,$){return this._withAdapter(D,z,q=>q.provideWorkspaceSymbols(N,$),{symbols:[]},$)}$resolveWorkspaceSymbol(D,N,$){return this._withAdapter(D,z,q=>q.resolveWorkspaceSymbol(N,$),void 0,void 0)}$releaseWorkspaceSymbols(D,N){this._withAdapter(D,z,$=>$.releaseWorkspaceSymbols(N),void 0,void 0)}registerRenameProvider(D,N,$){const q=this._addNewAdapter(new j(this._documents,$,this._logService),D);return this._proxy.$registerRenameSupport(q,this._transformDocumentSelector(N),j.supportsResolving($)),this._createDisposable(q)}$provideRenameEdits(D,N,$,q,ee){return this._withAdapter(D,j,ue=>ue.provideRenameEdits(n.URI.revive(N),$,q,ee),void 0,ee)}$resolveRenameLocation(D,N,$,q){return this._withAdapter(D,j,ee=>ee.resolveRenameLocation(n.URI.revive(N),$,q),void 0,q)}registerDocumentSemanticTokensProvider(D,N,$,q){const ee=this._addNewAdapter(new Z(this._documents,$),D),ue=typeof $.onDidChangeSemanticTokens=="function"?this._nextHandle():void 0;this._proxy.$registerDocumentSemanticTokensProvider(ee,this._transformDocumentSelector(N),q,ue);let Se=this._createDisposable(ee);if(ue){const se=$.onDidChangeSemanticTokens(ve=>this._proxy.$emitDocumentSemanticTokensEvent(ue));Se=M.Disposable.from(Se,se)}return Se}$provideDocumentSemanticTokens(D,N,$,q){return this._withAdapter(D,Z,ee=>ee.provideDocumentSemanticTokens(n.URI.revive(N),$,q),null,q)}$releaseDocumentSemanticTokens(D,N){this._withAdapter(D,Z,$=>$.releaseDocumentSemanticColoring(N),void 0,void 0)}registerDocumentRangeSemanticTokensProvider(D,N,$,q){const ee=this._addNewAdapter(new he(this._documents,$),D);return this._proxy.$registerDocumentRangeSemanticTokensProvider(ee,this._transformDocumentSelector(N),q),this._createDisposable(ee)}$provideDocumentRangeSemanticTokens(D,N,$,q){return this._withAdapter(D,he,ee=>ee.provideDocumentRangeSemanticTokens(n.URI.revive(N),$,q),null,q)}registerCompletionItemProvider(D,N,$,q){const ee=this._addNewAdapter(new oe(this._documents,this._commands.converter,$,this._apiDeprecation,D),D);return this._proxy.$registerCompletionsProvider(ee,this._transformDocumentSelector(N),q,oe.supportsResolving($),`${D.identifier.value}(${q.join("")})`),this._createDisposable(ee)}$provideCompletionItems(D,N,$,q,ee){return this._withAdapter(D,oe,ue=>ue.provideCompletionItems(n.URI.revive(N),$,q,ee),void 0,ee)}$resolveCompletionItem(D,N,$){return this._withAdapter(D,oe,q=>q.resolveCompletionItem(N,$),void 0,$)}$releaseCompletionItems(D,N){this._withAdapter(D,oe,$=>$.releaseCompletionItems(N),void 0,void 0)}registerInlineCompletionsProvider(D,N,$){const q=new le(D,this._documents,$,this._commands.converter),ee=this._addNewAdapter(q,D);return this._proxy.$registerInlineCompletionsSupport(ee,this._transformDocumentSelector(N),q.supportsHandleDidShowCompletionItem),this._createDisposable(ee)}$provideInlineCompletions(D,N,$,q,ee){return this._withAdapter(D,ce,ue=>ue.provideInlineCompletions(n.URI.revive(N),$,q,ee),void 0,ee)}$handleInlineCompletionDidShow(D,N,$){this._withAdapter(D,ce,async q=>{q.handleDidShowCompletionItem(N,$)},void 0,void 0)}$freeInlineCompletionsList(D,N){this._withAdapter(D,ce,async $=>{$.disposeCompletions(N)},void 0,void 0)}registerSignatureHelpProvider(D,N,$,q){const ee=Array.isArray(q)?{triggerCharacters:q,retriggerCharacters:[]}:q,ue=this._addNewAdapter(new Y(this._documents,$),D);return this._proxy.$registerSignatureHelpProvider(ue,this._transformDocumentSelector(N),ee),this._createDisposable(ue)}$provideSignatureHelp(D,N,$,q,ee){return this._withAdapter(D,Y,ue=>ue.provideSignatureHelp(n.URI.revive(N),$,q,ee),void 0,ee)}$releaseSignatureHelp(D,N){this._withAdapter(D,Y,$=>$.releaseSignatureHelp(N),void 0,void 0)}registerInlayHintsProvider(D,N,$){const q=typeof $.onDidChangeInlayHints=="function"?this._nextHandle():void 0,ee=this._addNewAdapter(new ge(this._documents,this._commands.converter,$,this._logService,D),D);this._proxy.$registerInlayHintsProvider(ee,this._transformDocumentSelector(N),typeof $.resolveInlayHint=="function",q,ae._extLabel(D));let ue=this._createDisposable(ee);if(q!==void 0){const Se=$.onDidChangeInlayHints(se=>this._proxy.$emitInlayHintsEvent(q));ue=M.Disposable.from(ue,Se)}return ue}$provideInlayHints(D,N,$,q){return this._withAdapter(D,ge,ee=>ee.provideInlayHints(n.URI.revive(N),$,q),void 0,q)}$resolveInlayHint(D,N,$){return this._withAdapter(D,ge,q=>q.resolveInlayHint(N,$),void 0,$)}$releaseInlayHints(D,N){this._withAdapter(D,ge,$=>$.releaseHints(N),void 0,void 0)}registerDocumentLinkProvider(D,N,$){const q=this._addNewAdapter(new we(this._documents,$),D);return this._proxy.$registerDocumentLinkProvider(q,this._transformDocumentSelector(N),typeof $.resolveDocumentLink=="function"),this._createDisposable(q)}$provideDocumentLinks(D,N,$){return this._withAdapter(D,we,q=>q.provideLinks(n.URI.revive(N),$),void 0,$,N.scheme==="output")}$resolveDocumentLink(D,N,$){return this._withAdapter(D,we,q=>q.resolveLink(N,$),void 0,void 0,!0)}$releaseDocumentLinks(D,N){this._withAdapter(D,we,$=>$.releaseLinks(N),void 0,void 0,!0)}registerColorProvider(D,N,$){const q=this._addNewAdapter(new Fe(this._documents,$),D);return this._proxy.$registerDocumentColorProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideDocumentColors(D,N,$){return this._withAdapter(D,Fe,q=>q.provideColors(n.URI.revive(N),$),[],$)}$provideColorPresentations(D,N,$,q){return this._withAdapter(D,Fe,ee=>ee.provideColorPresentations(n.URI.revive(N),$,q),void 0,q)}registerFoldingRangeProvider(D,N,$){const q=this._nextHandle(),ee=typeof $.onDidChangeFoldingRanges=="function"?this._nextHandle():void 0;this._adapter.set(q,new re(new xe(this._documents,$),D)),this._proxy.$registerFoldingRangeProvider(q,this._transformDocumentSelector(N),D.identifier,ee);let ue=this._createDisposable(q);if(ee!==void 0){const Se=$.onDidChangeFoldingRanges(()=>this._proxy.$emitFoldingRangeEvent(ee));ue=M.Disposable.from(ue,Se)}return ue}$provideFoldingRanges(D,N,$,q){return this._withAdapter(D,xe,ee=>ee.provideFoldingRanges(n.URI.revive(N),$,q),void 0,q)}registerSelectionRangeProvider(D,N,$){const q=this._addNewAdapter(new Xe(this._documents,$,this._logService),D);return this._proxy.$registerSelectionRangeProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideSelectionRanges(D,N,$,q){return this._withAdapter(D,Xe,ee=>ee.provideSelectionRanges(n.URI.revive(N),$,q),[],q)}registerCallHierarchyProvider(D,N,$){const q=this._addNewAdapter(new ke(this._documents,$),D);return this._proxy.$registerCallHierarchyProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$prepareCallHierarchy(D,N,$,q){return this._withAdapter(D,ke,ee=>Promise.resolve(ee.prepareSession(n.URI.revive(N),$,q)),void 0,q)}$provideCallHierarchyIncomingCalls(D,N,$,q){return this._withAdapter(D,ke,ee=>ee.provideCallsTo(N,$,q),void 0,q)}$provideCallHierarchyOutgoingCalls(D,N,$,q){return this._withAdapter(D,ke,ee=>ee.provideCallsFrom(N,$,q),void 0,q)}$releaseCallHierarchy(D,N){this._withAdapter(D,ke,$=>Promise.resolve($.releaseSession(N)),void 0,void 0)}registerTypeHierarchyProvider(D,N,$){const q=this._addNewAdapter(new ye(this._documents,$),D);return this._proxy.$registerTypeHierarchyProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$prepareTypeHierarchy(D,N,$,q){return this._withAdapter(D,ye,ee=>Promise.resolve(ee.prepareSession(n.URI.revive(N),$,q)),void 0,q)}$provideTypeHierarchySupertypes(D,N,$,q){return this._withAdapter(D,ye,ee=>ee.provideSupertypes(N,$,q),void 0,q)}$provideTypeHierarchySubtypes(D,N,$,q){return this._withAdapter(D,ye,ee=>ee.provideSubtypes(N,$,q),void 0,q)}$releaseTypeHierarchy(D,N){this._withAdapter(D,ye,$=>Promise.resolve($.releaseSession(N)),void 0,void 0)}registerDocumentOnDropEditProvider(D,N,$){const q=this._nextHandle();return this._adapter.set(q,new re(new Ce(this._proxy,this._documents,$,q),D)),this._proxy.$registerDocumentOnDropEditProvider(q,this._transformDocumentSelector(N)),this._createDisposable(q)}$provideDocumentOnDropEdits(D,N,$,q,ee,ue){return this._withAdapter(D,Ce,Se=>Promise.resolve(Se.provideDocumentOnDropEdits(N,n.URI.revive($),q,ee,ue)),void 0,void 0)}registerDocumentPasteEditProvider(D,N,$,q){const ee=this._nextHandle();return this._adapter.set(ee,new re(new T(this._proxy,this._documents,$,ee),D)),this._proxy.$registerPasteEditProvider(ee,this._transformDocumentSelector(N),!!$.prepareDocumentPaste,q.pasteMimeTypes),this._createDisposable(ee)}$prepareDocumentPaste(D,N,$,q,ee){return this._withAdapter(D,T,ue=>ue.prepareDocumentPaste(n.URI.revive(N),$,q,ee),void 0,ee)}$providePasteEdits(D,N,$,q,ee,ue){return this._withAdapter(D,T,Se=>Se.providePasteEdits(N,n.URI.revive($),q,ee,ue),void 0,ue)}static _serializeRegExp(D){return{pattern:D.source,flags:(0,S.regExpFlags)(D)}}static _serializeIndentationRule(D){return{decreaseIndentPattern:ae._serializeRegExp(D.decreaseIndentPattern),increaseIndentPattern:ae._serializeRegExp(D.increaseIndentPattern),indentNextLinePattern:D.indentNextLinePattern?ae._serializeRegExp(D.indentNextLinePattern):void 0,unIndentedLinePattern:D.unIndentedLinePattern?ae._serializeRegExp(D.unIndentedLinePattern):void 0}}static _serializeOnEnterRule(D){return{beforeText:ae._serializeRegExp(D.beforeText),afterText:D.afterText?ae._serializeRegExp(D.afterText):void 0,previousLineText:D.previousLineText?ae._serializeRegExp(D.previousLineText):void 0,action:D.action}}static _serializeOnEnterRules(D){return D.map(ae._serializeOnEnterRule)}setLanguageConfiguration(D,N,$){const{wordPattern:q}=$;if(q&&(0,S.regExpLeadsToEndlessLoop)(q))throw new Error(`Invalid language configuration: wordPattern '${q}' is not allowed to match the empty string.`);q?this._documents.setWordDefinitionFor(N,q):this._documents.setWordDefinitionFor(N,void 0),$.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",D,"Do not use."),$.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",D,"Do not use.");const ee=this._nextHandle(),ue={comments:$.comments,brackets:$.brackets,wordPattern:$.wordPattern?ae._serializeRegExp($.wordPattern):void 0,indentationRules:$.indentationRules?ae._serializeIndentationRule($.indentationRules):void 0,onEnterRules:$.onEnterRules?ae._serializeOnEnterRules($.onEnterRules):void 0,__electricCharacterSupport:$.__electricCharacterSupport,__characterPairSupport:$.__characterPairSupport};return this._proxy.$setLanguageConfiguration(ee,N,ue),this._createDisposable(ee)}$setWordDefinitions(D){for(const N of D)this._documents.setWordDefinitionFor(N.languageId,new RegExp(N.regexSource,N.regexFlags))}}e.ExtHostLanguageFeatures=ae,ae._handlePool=0}),define(De[211],Ie([1,0,4,8,6,29,15,7]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguages=void 0;class S{constructor(R,y,f,v){this._documents=y,this._commands=f,this._uriTransformer=v,this._languageIds=[],this._handlePool=0,this._ids=new Set,this._proxy=R.getProxy(n.MainContext.MainThreadLanguages)}$acceptLanguageIds(R){this._languageIds=R}async getLanguages(){return this._languageIds.slice(0)}async changeLanguage(R,y){await this._proxy.$changeLanguage(R,y);const f=this._documents.getDocumentData(R);if(!f)throw new Error(`document '${R.toString()}' NOT found`);return f.document}async tokenAtPosition(R,y){const f=R.version,v=k.Position.from(y),h=await this._proxy.$tokensAtPosition(R.uri,v),i={type:_.StandardTokenType.Other,range:R.getWordRangeAtPosition(y)??new _.Range(y.line,y.character,y.line,y.character)};if(!h)return i;const o={range:k.Range.to(h.range),type:k.TokenType.to(h.type)};return!o.range.contains(y)||f!==R.version?i:o}createLanguageStatusItem(R,y,f){const v=this._handlePool++,h=this._proxy,i=this._ids,o=`${R.identifier.value}/${y}`;if(i.has(o))throw new Error(`LanguageStatusItem with id '${y}' ALREADY exists`);i.add(o);const u={selector:f,id:y,name:R.displayName??R.name,severity:_.LanguageStatusSeverity.Information,command:void 0,text:"",detail:"",busy:!1};let b;const E=new A.DisposableStore,g=()=>{b?.dispose(),b=(0,I.disposableTimeout)(()=>{E.clear(),this._proxy.$setLanguageStatus(v,{id:o,name:u.name??R.displayName??R.name,source:R.displayName??R.name,selector:k.DocumentSelector.from(u.selector,this._uriTransformer),label:u.text,detail:u.detail??"",severity:u.severity===_.LanguageStatusSeverity.Error?M.default.Error:u.severity===_.LanguageStatusSeverity.Warning?M.default.Warning:M.default.Info,command:u.command&&this._commands.toInternal(u.command,E),accessibilityInfo:u.accessibilityInformation,busy:u.busy})},0)},w={dispose(){E.dispose(),b?.dispose(),h.$removeLanguageStatus(v),i.delete(o)},get id(){return u.id},get name(){return u.name},set name(s){u.name=s,g()},get selector(){return u.selector},set selector(s){u.selector=s,g()},get text(){return u.text},set text(s){u.text=s,g()},get detail(){return u.detail},set detail(s){u.detail=s,g()},get severity(){return u.severity},set severity(s){u.severity=s,g()},get accessibilityInformation(){return u.accessibilityInformation},set accessibilityInformation(s){u.accessibilityInformation=s,g()},get command(){return u.command},set command(s){u.command=s,g()},get busy(){return u.busy},set busy(s){u.busy=s,g()}};return g(),w}}e.ExtHostLanguages=S}),define(De[73],Ie([1,0,21,10,2,3,12,4,27,14]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostLocalizationService=e.ExtHostLocalizationService=void 0;let R=class{constructor(f,v,h){this.logService=h,this.bundleCache=new Map,this._proxy=v.getProxy(A.MainContext.MainThreadLocalization),this.currentLanguage=f.environment.appLanguage,this.isDefaultLanguage=this.currentLanguage===n.LANGUAGE_DEFAULT}getMessage(f,v){const{message:h,args:i,comment:o}=v;if(this.isDefaultLanguage)return(0,k.format2)(h,i??{});let u=h;o&&o.length>0&&(u+=`/${Array.isArray(o)?o.join():o}`);const b=this.bundleCache.get(f)?.contents[u];return b||this.logService.warn(`Using default string since no string found in i18n bundle that has the key: ${u}`),(0,k.format2)(b??h,i??{})}getBundle(f){return this.bundleCache.get(f)?.contents}getBundleUri(f){return this.bundleCache.get(f)?.uri}async initializeLocalizedMessages(f){if(this.isDefaultLanguage||!f.l10n&&!f.isBuiltin||this.bundleCache.has(f.identifier.value))return;let v;const h=await this.getBundleLocation(f);if(!h){this.logService.error(`No bundle location found for extension ${f.identifier.value}`);return}try{const i=await this._proxy.$fetchBundleContents(h),o=JSON.parse(i);v=f.isBuiltin?o.contents?.bundle:o}catch(i){this.logService.error(`Failed to load translations for ${f.identifier.value} from ${h}: ${i.message}`);return}v&&this.bundleCache.set(f.identifier.value,{contents:v,uri:h})}async getBundleLocation(f){if(f.isBuiltin){const v=await this._proxy.$fetchBuiltInBundleUri(f.identifier.value);return _.URI.revive(v)}return f.l10n?_.URI.joinPath(f.extensionLocation,f.l10n,`bundle.l10n.${this.currentLanguage}.json`):void 0}};R=Ve([We(0,S.IExtHostInitDataService),We(1,C.IExtHostRpcService),We(2,I.ILogService)],R),e.ExtHostLocalizationService=R,e.IExtHostLocalizationService=(0,M.createDecorator)("IExtHostLocalizationService")}),define(De[212],Ie([1,0,12,4,27,14,2,5,9]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLoggerService=void 0;let C=class extends n.AbstractLoggerService{constructor(f,v){super(v.logLevel,A.Event.None),this._proxy=f.getProxy(k.MainContext.MainThreadLogger)}$setLevel(f,v){v?this.setLevel(I.URI.revive(v),f):(0,S.isUndefined)(f)||this.setLevel(f)}doCreateLogger(f,v,h){return new R(this._proxy,f,v,h)}};C=Ve([We(0,M.IExtHostRpcService),We(1,_.IExtHostInitDataService)],C),e.ExtHostLoggerService=C;class R extends n.AbstractMessageLogger{constructor(f,v,h,i){super(i?.always),this.proxy=f,this.file=v,this.isLoggerCreated=!1,this.buffer=[],this.setLevel(h),this.proxy.$createLogger(v,i).then(()=>{this.doLog(this.buffer),this.isLoggerCreated=!0})}log(f,v){const h=[[f,v]];this.isLoggerCreated?this.doLog(h):this.buffer.push(...h)}doLog(f){this.proxy.$log(this.file,f)}}}),define(De[213],Ie([1,0,4,12,25]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostMessageService=void 0;function M(A){return A&&A.title}let I=class{constructor(S,C){this._logService=C,this._proxy=S.getProxy(n.MainContext.MainThreadMessageService)}showMessage(S,C,R,y,f){const v={source:{identifier:S.identifier,label:S.displayName||S.name}};let h;typeof y=="string"||M(y)?h=[y,...f]:(v.modal=y?.modal,v.useCustom=y?.useCustom,v.detail=y?.detail,h=f),v.useCustom&&(0,_.checkProposedApiEnabled)(S,"resolvers");const i=[];for(let o=0;o<h.length;o++){const u=h[o];if(typeof u=="string")i.push({title:u,handle:o,isCloseAffordance:!1});else if(typeof u=="object"){const{title:b,isCloseAffordance:E}=u;i.push({title:b,isCloseAffordance:!!E,handle:o})}else this._logService.warn("Invalid message item:",u)}return this._proxy.$showMessage(C,R,v,i).then(o=>{if(typeof o=="number")return h[o]})}};I=Ve([We(1,k.ILogService)],I),e.ExtHostMessageService=I}),define(De[214],Ie([1,0,24,5,7,28,10,9,2,51,4,38,8,6,43,186,96]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookController=void 0;class u{get activeNotebookEditor(){return this._activeNotebookEditor?.apiEditor}get visibleNotebookEditors(){return this._visibleNotebookEditors.map(E=>E.apiEditor)}constructor(E,g,w,s){this._textDocumentsAndEditors=w,this._textDocuments=s,this._notebookStatusBarItemProviders=new Map,this._documents=new M.ResourceMap,this._editors=new Map,this._onDidChangeActiveNotebookEditor=new k.Emitter,this.onDidChangeActiveNotebookEditor=this._onDidChangeActiveNotebookEditor.event,this._visibleNotebookEditors=[],this._onDidOpenNotebookDocument=new k.Emitter,this.onDidOpenNotebookDocument=this._onDidOpenNotebookDocument.event,this._onDidCloseNotebookDocument=new k.Emitter,this.onDidCloseNotebookDocument=this._onDidCloseNotebookDocument.event,this._onDidChangeVisibleNotebookEditors=new k.Emitter,this.onDidChangeVisibleNotebookEditors=this._onDidChangeVisibleNotebookEditors.event,this._statusBarCache=new C.Cache("NotebookCellStatusBarCache"),this._handlePool=0,this._notebookSerializer=new Map,this._notebookProxy=E.getProxy(R.MainContext.MainThreadNotebook),this._notebookDocumentsProxy=E.getProxy(R.MainContext.MainThreadNotebookDocuments),this._notebookEditorsProxy=E.getProxy(R.MainContext.MainThreadNotebookEditors),this._commandsConverter=g.converter,g.registerArgumentProcessor({processArgument:r=>{if(r&&r.$mid===13){const a=r.notebookEditor?.notebookUri,d=r.cell.handle,c=this._documents.get(a)?.getCell(d);if(c)return c.apiCell}if(r&&r.$mid===14){const a=r.uri,d=this._documents.get(a);if(d)return d.apiNotebook}return r}}),u._registerApiCommands(g)}getEditorById(E){const g=this._editors.get(E);if(!g)throw new Error(`unknown text editor: ${E}. known editors: ${[...this._editors.keys()]} `);return g}getIdByEditor(E){for(const[g,w]of this._editors)if(w.apiEditor===E)return g}get notebookDocuments(){return[...this._documents.values()]}getNotebookDocument(E,g){const w=this._documents.get(E);if(!w&&!g)throw new Error(`NO notebook document for '${E}'`);return w}static _convertNotebookRegistrationData(E,g){if(!g)return;const w=g.filenamePattern.map(s=>f.NotebookExclusiveDocumentPattern.from(s)).filter(s=>s!==void 0);if(g.filenamePattern&&!w){console.warn(`Notebook content provider view options file name pattern is invalid ${g.filenamePattern}`);return}return{extension:E.identifier,providerDisplayName:E.displayName||E.name,displayName:g.displayName,filenamePattern:w,exclusive:g.exclusive||!1}}registerNotebookCellStatusBarItemProvider(E,g,w){const s=u._notebookStatusBarItemProviderHandlePool++,r=typeof w.onDidChangeCellStatusBarItems=="function"?u._notebookStatusBarItemProviderHandlePool++:void 0;this._notebookStatusBarItemProviders.set(s,w),this._notebookProxy.$registerNotebookCellStatusBarItemProvider(s,r,g);let a;return r!==void 0&&(a=w.onDidChangeCellStatusBarItems(d=>this._notebookProxy.$emitCellStatusBarEvent(r))),new v.Disposable(()=>{this._notebookStatusBarItemProviders.delete(s),this._notebookProxy.$unregisterNotebookCellStatusBarItemProvider(s,r),a?.dispose()})}async createNotebookDocument(E){const g=await this._notebookDocumentsProxy.$tryCreateNotebook({viewType:E.viewType,content:E.content&&f.NotebookData.from(E.content)});return S.URI.revive(g)}async openNotebookDocument(E){const g=this._documents.get(E);if(g)return g.apiNotebook;const w=await this._notebookDocumentsProxy.$tryOpenNotebook(E),s=this._documents.get(S.URI.revive(w));return(0,A.assertIsDefined)(s?.apiNotebook)}async showNotebookDocument(E,g){S.URI.isUri(E)&&(E=await this.openNotebookDocument(E));let w;typeof g=="object"?w={position:f.ViewColumn.from(g.viewColumn),preserveFocus:g.preserveFocus,selections:g.selections&&g.selections.map(f.NotebookRange.from),pinned:typeof g.preview=="boolean"?!g.preview:void 0}:w={preserveFocus:!1};const s=await this._notebookEditorsProxy.$tryShowNotebookDocument(E.uri,E.notebookType,w),r=s&&this._editors.get(s)?.apiEditor;if(r)return r;throw s?new Error(`Could NOT open editor for "${E.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${E.uri.toString()}".`)}async $provideNotebookCellStatusBarItems(E,g,w,s){const r=this._notebookStatusBarItemProviders.get(E),a=S.URI.revive(g),d=this._documents.get(a);if(!d||!r)return;const l=d.getCellFromIndex(w);if(!l)return;const c=await r.provideCellStatusBarItems(l.apiCell,s);if(!c)return;const t=new _.DisposableStore,m=this._statusBarCache.add([t]),P=(Array.isArray(c)?c:[c]).map(L=>f.NotebookStatusBarItem.from(L,this._commandsConverter,t));return{cacheId:m,items:P}}$releaseNotebookCellStatusBarItems(E){this._statusBarCache.delete(E)}registerNotebookSerializer(E,g,w,s,r){if((0,I.isFalsyOrWhitespace)(g))throw new Error("viewType cannot be empty or just whitespace");const a=this._handlePool++;return this._notebookSerializer.set(a,w),this._notebookProxy.$registerNotebookSerializer(a,{id:E.identifier,location:E.extensionLocation},g,f.NotebookDocumentContentOptions.from(s),u._convertNotebookRegistrationData(E,r)),(0,_.toDisposable)(()=>{this._notebookProxy.$unregisterNotebookSerializer(a)})}async $dataToNotebook(E,g,w){const s=this._notebookSerializer.get(E);if(!s)throw new Error("NO serializer found");const r=await s.deserializeNotebook(g.buffer,w);return new h.SerializableObjectWithBuffers(f.NotebookData.from(r))}async $notebookToData(E,g,w){const s=this._notebookSerializer.get(E);if(!s)throw new Error("NO serializer found");const r=await s.serializeNotebook(f.NotebookData.to(g.value),w);return n.VSBuffer.wrap(r)}_createExtHostEditor(E,g,w){if(this._editors.has(g))throw new Error(`editor with id ALREADY EXSIST: ${g}`);const s=new o.ExtHostNotebookEditor(g,this._notebookEditorsProxy,E,w.visibleRanges.map(f.NotebookRange.to),w.selections.map(f.NotebookRange.to),typeof w.viewColumn=="number"?f.ViewColumn.to(w.viewColumn):void 0);this._editors.set(g,s)}$acceptDocumentAndEditorsDelta(E){if(E.value.removedDocuments)for(const w of E.value.removedDocuments){const s=S.URI.revive(w),r=this._documents.get(s);r&&(r.dispose(),this._documents.delete(s),this._textDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({removedDocuments:r.apiNotebook.getCells().map(a=>a.document.uri)}),this._onDidCloseNotebookDocument.fire(r.apiNotebook));for(const a of this._editors.values())a.notebookData.uri.toString()===s.toString()&&this._editors.delete(a.id)}if(E.value.addedDocuments){const w=[];for(const s of E.value.addedDocuments){const r=S.URI.revive(s.uri);if(this._documents.has(r))throw new Error(`adding EXISTING notebook ${r} `);const a=new i.ExtHostNotebookDocument(this._notebookDocumentsProxy,this._textDocumentsAndEditors,this._textDocuments,r,s);w.push(...s.cells.map(d=>i.ExtHostCell.asModelAddData(a.apiNotebook,d))),this._documents.get(r)?.dispose(),this._documents.set(r,a),this._textDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({addedDocuments:w}),this._onDidOpenNotebookDocument.fire(a.apiNotebook)}}if(E.value.addedEditors)for(const w of E.value.addedEditors){if(this._editors.has(w.id))return;const s=S.URI.revive(w.documentUri),r=this._documents.get(s);r&&this._createExtHostEditor(r,w.id,w)}const g=[];if(E.value.removedEditors)for(const w of E.value.removedEditors){const s=this._editors.get(w);s&&(this._editors.delete(w),this._activeNotebookEditor?.id===s.id&&(this._activeNotebookEditor=void 0),g.push(s))}if(E.value.visibleEditors){this._visibleNotebookEditors=E.value.visibleEditors.map(s=>this._editors.get(s)).filter(s=>!!s);const w=new Set;this._visibleNotebookEditors.forEach(s=>w.add(s.id));for(const s of this._editors.values()){const r=w.has(s.id);s._acceptVisibility(r)}this._visibleNotebookEditors=[...this._editors.values()].map(s=>s).filter(s=>s.visible),this._onDidChangeVisibleNotebookEditors.fire(this.visibleNotebookEditors)}E.value.newActiveEditor===null?this._activeNotebookEditor=void 0:E.value.newActiveEditor&&(this._activeNotebookEditor=this._editors.get(E.value.newActiveEditor)),E.value.newActiveEditor!==void 0&&this._onDidChangeActiveNotebookEditor.fire(this._activeNotebookEditor?.apiEditor)}static _registerApiCommands(E){const g=y.ApiCommandArgument.String.with("notebookType","A notebook type"),w=new y.ApiCommand("vscode.executeDataToNotebook","_executeDataToNotebook","Invoke notebook serializer",[g,new y.ApiCommandArgument("data","Bytes to convert to data",r=>r instanceof Uint8Array,r=>n.VSBuffer.wrap(r))],new y.ApiCommandResult("Notebook Data",r=>f.NotebookData.to(r.value))),s=new y.ApiCommand("vscode.executeNotebookToData","_executeNotebookToData","Invoke notebook serializer",[g,new y.ApiCommandArgument("NotebookData","Notebook data to convert to bytes",r=>!0,r=>new h.SerializableObjectWithBuffers(f.NotebookData.from(r)))],new y.ApiCommandResult("Bytes",r=>r.buffer));E.registerApiCommand(w),E.registerApiCommand(s)}}e.ExtHostNotebookController=u,u._notebookStatusBarItemProviderHandlePool=0}),define(De[215],Ie([1,0,16,15,20,5,7,28,2,26,12,51,4,38,8,6,68,173,25,43]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createKernelId=e.ExtHostNotebookKernels=void 0;let g=class{constructor(l,c,t,m,p){this._initData=c,this._extHostNotebook=t,this._commands=m,this._logService=p,this._activeExecutions=new A.ResourceMap,this._kernelDetectionTask=new Map,this._kernelDetectionTaskHandlePool=0,this._kernelSourceActionProviders=new Map,this._kernelSourceActionProviderHandlePool=0,this._kernelSourceActionProviderCache=new y.Cache("NotebookKernelSourceActionProviderCache"),this._kernelData=new Map,this._handlePool=0,this._onDidChangeCellExecutionState=new M.Emitter,this.onDidChangeNotebookCellExecutionState=this._onDidChangeCellExecutionState.event,this._proxy=l.getProxy(f.MainContext.MainThreadNotebookKernels);const P=new v.ApiCommand("notebook.selectKernel","_notebook.selectKernel","Trigger kernel picker for specified notebook editor widget",[new v.ApiCommandArgument("options","Select kernel options",L=>!0,L=>{if(L&&"notebookEditor"in L&&"id"in L){const V=this._extHostNotebook.getIdByEditor(L.notebookEditor);return{id:L.id,extension:L.extension,notebookEditorId:V}}else if(L&&"notebookEditor"in L){const V=this._extHostNotebook.getIdByEditor(L.notebookEditor);if(V===void 0)throw new Error(`Cannot invoke 'notebook.selectKernel' for unrecognized notebook editor ${L.notebookEditor.notebook.uri.toString()}`);return{notebookEditorId:V}}return L})],v.ApiCommandResult.Void);this._commands.registerApiCommand(P)}createNotebookController(l,c,t,m,p,P){for(const ce of this._kernelData.values())if(ce.controller.id===c&&C.ExtensionIdentifier.equals(l.identifier,ce.extensionId))throw new Error(`notebook controller with id '${c}' ALREADY exist`);const L=this._handlePool++,V=this;this._logService.trace(`NotebookController[${L}], CREATED by ${l.identifier.value}, ${c}`);const H=()=>console.warn(`NO execute handler from notebook controller '${B.id}' of extension: '${l.identifier}'`);let W=!1;const T=new I.DisposableStore,F=new M.Emitter,O=new M.Emitter,B={id:a(l.identifier,c),notebookType:t,extensionId:l.identifier,extensionLocation:l.extensionLocation,label:m||l.identifier.value,preloads:P?P.map(h.NotebookRendererScript.from):[]};let z=p??H,j;this._proxy.$addKernel(L,B).catch(ce=>{console.log(ce),W=!0});let G=0;const Z=()=>{if(W)return;const ce=++G;Promise.resolve().then(()=>{ce===G&&this._proxy.$updateKernel(L,B)})},he=new A.ResourceMap,oe={get id(){return c},get notebookType(){return B.notebookType},onDidChangeSelectedNotebooks:F.event,get label(){return B.label},set label(ce){B.label=ce??l.displayName??l.name,Z()},get detail(){return B.detail??""},set detail(ce){B.detail=ce,Z()},get description(){return B.description??""},set description(ce){B.description=ce,Z()},get kind(){return(0,b.checkProposedApiEnabled)(l,"notebookControllerKind"),B.kind??""},set kind(ce){(0,b.checkProposedApiEnabled)(l,"notebookControllerKind"),B.kind=ce,Z()},get supportedLanguages(){return B.supportedLanguages},set supportedLanguages(ce){B.supportedLanguages=ce,Z()},get supportsExecutionOrder(){return B.supportsExecutionOrder??!1},set supportsExecutionOrder(ce){B.supportsExecutionOrder=ce,Z()},get rendererScripts(){return B.preloads?B.preloads.map(h.NotebookRendererScript.to):[]},get executeHandler(){return z},set executeHandler(ce){z=ce??H},get interruptHandler(){return j},set interruptHandler(ce){j=ce,B.supportsInterrupt=Boolean(ce),Z()},createNotebookCellExecution(ce){if(W)throw new Error("notebook controller is DISPOSED");if(!he.has(ce.notebook.uri))throw V._logService.trace(`NotebookController[${L}] NOT associated to notebook, associated to THESE notebooks:`,Array.from(he.keys()).map(le=>le.toString())),new Error(`notebook controller is NOT associated to notebook: ${ce.notebook.uri.toString()}`);return V._createNotebookCellExecution(ce,a(l.identifier,this.id))},dispose:()=>{W||(this._logService.trace(`NotebookController[${L}], DISPOSED`),W=!0,this._kernelData.delete(L),T.dispose(),F.dispose(),O.dispose(),this._proxy.$removeKernel(L))},updateNotebookAffinity(ce,le){le===i.NotebookControllerAffinity2.Hidden&&(0,b.checkProposedApiEnabled)(l,"notebookControllerAffinityHidden"),V._proxy.$updateNotebookPriority(L,ce.uri,le)},onDidReceiveMessage:O.event,postMessage(ce,le){return(0,b.checkProposedApiEnabled)(l,"notebookMessaging"),V._proxy.$postMessage(L,le&&V._extHostNotebook.getIdByEditor(le),ce)},asWebviewUri(ce){return(0,b.checkProposedApiEnabled)(l,"notebookMessaging"),(0,o.asWebviewUri)(ce,V._initData.remote)}};return this._kernelData.set(L,{extensionId:l.identifier,controller:oe,onDidReceiveMessage:O,onDidChangeSelection:F,associatedNotebooks:he}),oe}getIdByController(l){for(const[c,t]of this._kernelData)if(t.controller===l)return a(t.extensionId,l.id);return null}createNotebookControllerDetectionTask(l,c){const t=this._kernelDetectionTaskHandlePool++,m=this;this._logService.trace(`NotebookControllerDetectionTask[${t}], CREATED by ${l.identifier.value}`),this._proxy.$addKernelDetectionTask(t,c);const p={dispose:()=>{this._kernelDetectionTask.delete(t),m._proxy.$removeKernelDetectionTask(t)}};return this._kernelDetectionTask.set(t,p),p}registerKernelSourceActionProvider(l,c,t){const m=this._kernelSourceActionProviderHandlePool++,p=this;return this._kernelSourceActionProviders.set(m,t),this._logService.trace(`NotebookKernelSourceActionProvider[${m}], CREATED by ${l.identifier.value}`),this._proxy.$addKernelSourceActionProvider(m,c),{dispose:()=>{this._kernelSourceActionProviders.delete(m),p._proxy.$removeKernelSourceActionProvider(m)}}}async $provideKernelSourceActions(l,c){const t=this._kernelSourceActionProviders.get(l);if(t){const m=new I.DisposableStore;return this._kernelSourceActionProviderCache.add([m]),(await t.provideNotebookKernelSourceActions(c)??[]).map(P=>h.NotebookKernelSourceAction.from(P,this._commands.converter,m))}return[]}$acceptNotebookAssociation(l,c,t){const m=this._kernelData.get(l);if(m){const p=this._extHostNotebook.getNotebookDocument(S.URI.revive(c));t?m.associatedNotebooks.set(p.uri,!0):m.associatedNotebooks.delete(p.uri),this._logService.trace(`NotebookController[${l}] ASSOCIATE notebook`,p.uri.toString(),t),m.onDidChangeSelection.fire({selected:t,notebook:p.apiNotebook})}}async $executeCells(l,c,t){const m=this._kernelData.get(l);if(!m)return;const p=this._extHostNotebook.getNotebookDocument(S.URI.revive(c)),P=[];for(const L of t){const V=p.getCell(L);V&&P.push(V.apiCell)}try{this._logService.trace(`NotebookController[${l}] EXECUTE cells`,p.uri.toString(),P.length),await m.controller.executeHandler.call(m.controller,P,p.apiNotebook,m.controller)}catch(L){this._logService.error(`NotebookController[${l}] execute cells FAILED`,L),console.error(L)}}async $cancelCells(l,c,t){const m=this._kernelData.get(l);if(!m)return;const p=this._extHostNotebook.getNotebookDocument(S.URI.revive(c));if(m.controller.interruptHandler)await m.controller.interruptHandler.call(m.controller,p.apiNotebook);else for(const P of t){const L=p.getCell(P);L&&this._activeExecutions.get(L.uri)?.cancel()}}$acceptKernelMessageFromRenderer(l,c,t){const m=this._kernelData.get(l);if(!m)return;const p=this._extHostNotebook.getEditorById(c);m.onDidReceiveMessage.fire(Object.freeze({editor:p.apiEditor,message:t}))}$cellExecutionChanged(l,c,t){const p=this._extHostNotebook.getNotebookDocument(S.URI.revive(l)).getCell(c);if(p){const P=t?h.NotebookCellExecutionState.to(t):i.NotebookCellExecutionState.Idle;P!==void 0&&this._onDidChangeCellExecutionState.fire({cell:p.apiCell,state:P})}}_createNotebookCellExecution(l,c){if(l.index<0)throw new Error("CANNOT execute cell that has been REMOVED from notebook");const m=this._extHostNotebook.getNotebookDocument(l.notebook.uri).getCellFromApiCell(l);if(!m)throw new Error("invalid cell");if(this._activeExecutions.has(m.uri))throw new Error(`duplicate execution for ${m.uri}`);const p=new s(c,m,this._proxy);this._activeExecutions.set(m.uri,p);const P=p.onDidChangeState(()=>{p.state===w.Resolved&&(p.dispose(),P.dispose(),this._activeExecutions.delete(m.uri))});return p.asApiObject()}};g=Ve([We(4,R.ILogService)],g),e.ExtHostNotebookKernels=g;var w;(function(d){d[d.Init=0]="Init",d[d.Started=1]="Started",d[d.Resolved=2]="Resolved"})(w||(w={}));class s extends I.Disposable{get state(){return this._state}constructor(l,c,t){super(),this._cell=c,this._proxy=t,this._handle=s.HANDLE++,this._onDidChangeState=new M.Emitter,this.onDidChangeState=this._onDidChangeState.event,this._state=w.Init,this._tokenSource=this._register(new _.CancellationTokenSource),this._collector=new r(10,m=>this.update(m)),this._executionOrder=c.internalMetadata.executionOrder,this._proxy.$createExecution(this._handle,l,this._cell.notebook.uri,this._cell.handle)}cancel(){this._tokenSource.cancel()}async updateSoon(l){await this._collector.addItem(l)}async update(l){const c=Array.isArray(l)?l:[l];return this._proxy.$updateExecution(this._handle,new E.SerializableObjectWithBuffers(c))}verifyStateForOutput(){if(this._state===w.Init)throw new Error("Must call start before modifying cell output");if(this._state===w.Resolved)throw new Error("Cannot modify cell output after calling resolve")}cellIndexToHandle(l){let c=this._cell;if(l&&(c=this._cell.notebook.getCellFromApiCell(l)),!c)throw new Error("INVALID cell");return c.handle}validateAndConvertOutputs(l){return l.map(c=>{const t=i.NotebookCellOutput.ensureUniqueMimeTypes(c.items,!0);return t===c.items?h.NotebookCellOutput.from(c):h.NotebookCellOutput.from({items:t,id:c.id,metadata:c.metadata})})}async updateOutputs(l,c,t){const m=this.cellIndexToHandle(c),p=this.validateAndConvertOutputs((0,n.asArray)(l));return this.updateSoon({editType:u.CellExecutionUpdateType.Output,cellHandle:m,append:t,outputs:p})}async updateOutputItems(l,c,t){return l=i.NotebookCellOutput.ensureUniqueMimeTypes((0,n.asArray)(l),!0),this.updateSoon({editType:u.CellExecutionUpdateType.OutputItems,items:l.map(h.NotebookCellOutputItem.from),outputId:c.id,append:t})}asApiObject(){const l=this;return Object.freeze({get token(){return l._tokenSource.token},get cell(){return l._cell.apiCell},get executionOrder(){return l._executionOrder},set executionOrder(t){l._executionOrder=t,l.update([{editType:u.CellExecutionUpdateType.ExecutionState,executionOrder:l._executionOrder}])},start(t){if(l._state===w.Resolved||l._state===w.Started)throw new Error("Cannot call start again");l._state=w.Started,l._onDidChangeState.fire(),l.update({editType:u.CellExecutionUpdateType.ExecutionState,runStartTime:t})},end(t,m){if(l._state===w.Resolved)throw new Error("Cannot call resolve twice");l._state=w.Resolved,l._onDidChangeState.fire(),l._collector.flush(),l._proxy.$completeExecution(l._handle,new E.SerializableObjectWithBuffers({runEndTime:m,lastRunSuccess:t}))},clearOutput(t){return l.verifyStateForOutput(),l.updateOutputs([],t,!1)},appendOutput(t,m){return l.verifyStateForOutput(),l.updateOutputs(t,m,!0)},replaceOutput(t,m){return l.verifyStateForOutput(),l.updateOutputs(t,m,!1)},appendOutputItems(t,m){return l.verifyStateForOutput(),l.updateOutputItems(t,m,!0)},replaceOutputItems(t,m){return l.verifyStateForOutput(),l.updateOutputItems(t,m,!1)}})}}s.HANDLE=0;class r{constructor(l,c){this.delay=l,this.callback=c,this.batch=[],this.startedTimer=Date.now()}addItem(l){return this.batch.push(l),this.currentDeferred||(this.currentDeferred=new k.DeferredPromise,this.startedTimer=Date.now(),(0,k.timeout)(this.delay).then(()=>this.flush())),Date.now()-this.startedTimer>this.delay?this.flush():this.currentDeferred.p}flush(){if(this.batch.length===0||!this.currentDeferred)return Promise.resolve();const l=this.currentDeferred;this.currentDeferred=void 0;const c=this.batch;return this.batch=[],this.callback(c).finally(()=>l.complete())}}function a(d,l){return`${d.value}/${l}`}e.createKernelId=a}),define(De[216],Ie([1,0,5,4,96]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookRenderers=void 0;class M{constructor(A,S){this._extHostNotebook=S,this._rendererMessageEmitters=new Map,this.proxy=A.getProxy(k.MainContext.MainThreadNotebookRenderers)}$postRendererMessage(A,S,C){const R=this._extHostNotebook.getEditorById(A);this._rendererMessageEmitters.get(S)?.fire({editor:R.apiEditor,message:C})}createRendererMessaging(A,S){if(!A.contributes?.notebookRenderer?.some(R=>R.id===S))throw new Error(`Extensions may only call createRendererMessaging() for renderers they contribute (got ${S})`);return{onDidReceiveMessage:(R,y,f)=>this.getOrCreateEmitterFor(S).event(R,y,f),postMessage:(R,y)=>{_.ExtHostNotebookEditor.apiEditorsToExtHost.has(R)&&([R,y]=[y,R]);const f=y&&_.ExtHostNotebookEditor.apiEditorsToExtHost.get(y);return this.proxy.$postMessage(f?.id,S,R)}}}getOrCreateEmitterFor(A){let S=this._rendererMessageEmitters.get(A);return S||(S=new n.Emitter({onDidRemoveLastListener:()=>{S?.dispose(),this._rendererMessageEmitters.delete(A)}}),this._rendererMessageEmitters.set(A,S),S)}}e.ExtHostNotebookRenderers=M}),define(De[217],Ie([1,0,7,2,25,4]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostProfileContentHandlers=void 0;class I{constructor(S){this.handlers=new Map,this.proxy=S.getProxy(M.MainContext.MainThreadProfileContentHandlers)}registrProfileContentHandler(S,C,R){if((0,_.checkProposedApiEnabled)(S,"profileContentHandlers"),this.handlers.has(C))throw new Error(`Handler with id '${C}' already registered`);return this.handlers.set(C,R),this.proxy.$registerProfileContentHandler(C,R.name,S.identifier.value),(0,n.toDisposable)(()=>{this.handlers.delete(C),this.proxy.$unregisterProfileContentHandler(C)})}async $saveProfile(S,C,R,y){const f=this.handlers.get(S);if(!f)throw new Error(`Unknown handler with id: ${S}`);return f.saveProfile(C,R,y)}async $readProfile(S,C,R){const y=this.handlers.get(S);if(!y)throw new Error(`Unknown handler with id: ${S}`);return y.readProfile(k.URI.revive(C),R)}}e.ExtHostProfileContentHandlers=I}),define(De[218],Ie([1,0,20,5,7,4,2,6,11,16,29,64]),function(te,e,n,k,_,M,I,A,S,C,R,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtHostQuickOpen=void 0;function f(v,h,i){const o=v.getProxy(M.MainContext.MainThreadQuickOpen);class u{constructor(l,c){this._sessions=new Map,this._instances=0,this._workspace=l,this._commands=c}showQuickPick(l,c,t=n.CancellationToken.None){this._onDidSelectItem=void 0;const m=Promise.resolve(l),p=++this._instances,P=o.$show(p,{title:c?.title,placeHolder:c?.placeHolder,matchOnDescription:c?.matchOnDescription,matchOnDetail:c?.matchOnDetail,ignoreFocusLost:c?.ignoreFocusOut,canPickMany:c?.canPickMany},t),L={},V=P.then(()=>L);return Promise.race([V,m]).then(H=>{if(H!==L)return m.then(W=>{const T=[];for(let F=0;F<W.length;F++){const O=W[F];typeof O=="string"?T.push({label:O,handle:F}):O.kind===A.QuickPickItemKind.Separator?T.push({type:"separator",label:O.label}):T.push({label:O.label,description:O.description,detail:O.detail,picked:O.picked,alwaysShow:O.alwaysShow,handle:F})}return c&&typeof c.onDidSelectItem=="function"&&(this._onDidSelectItem=F=>{c.onDidSelectItem(W[F])}),o.$setItems(p,T),P.then(F=>{if(typeof F=="number")return W[F];if(Array.isArray(F))return F.map(O=>W[O])})})}).then(void 0,H=>{if(!(0,S.isCancellationError)(H))return o.$setError(p,H),Promise.reject(H)})}$onItemSelected(l){this._onDidSelectItem?.(l)}showInput(l,c=n.CancellationToken.None){return this._validateInput=l?.validateInput,o.$input(l,typeof this._validateInput=="function",c).then(void 0,t=>{if(!(0,S.isCancellationError)(t))return Promise.reject(t)})}async $validateInput(l){if(!this._validateInput)return;const c=await this._validateInput(l);if(!c||typeof c=="string")return c;let t;switch(c.severity){case A.InputBoxValidationSeverity.Info:t=R.default.Info;break;case A.InputBoxValidationSeverity.Warning:t=R.default.Warning;break;case A.InputBoxValidationSeverity.Error:t=R.default.Error;break;default:t=c.message?R.default.Error:R.default.Ignore;break}return{content:c.message,severity:t}}async showWorkspaceFolderPick(l,c=n.CancellationToken.None){const t=await this._commands.executeCommand("_workbench.pickWorkspaceFolder",[l]);if(!t)return;const m=await this._workspace.getWorkspaceFolders2();if(!!m)return m.find(p=>p.uri.toString()===t.uri.toString())}createQuickPick(l){const c=new r(l,()=>this._sessions.delete(c._id));return this._sessions.set(c._id,c),c}createInputBox(l){const c=new a(l,()=>this._sessions.delete(c._id));return this._sessions.set(c._id,c),c}$onDidChangeValue(l,c){this._sessions.get(l)?._fireDidChangeValue(c)}$onDidAccept(l){this._sessions.get(l)?._fireDidAccept()}$onDidChangeActive(l,c){const t=this._sessions.get(l);t instanceof r&&t._fireDidChangeActive(c)}$onDidChangeSelection(l,c){const t=this._sessions.get(l);t instanceof r&&t._fireDidChangeSelection(c)}$onDidTriggerButton(l,c){this._sessions.get(l)?._fireDidTriggerButton(c)}$onDidTriggerItemButton(l,c,t){const m=this._sessions.get(l);m instanceof r&&m._fireDidTriggerItemButton(c,t)}$onDidHide(l){this._sessions.get(l)?._fireDidHide()}}class b{constructor(l,c){this._extensionId=l,this._onDidDispose=c,this._id=r._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new k.Emitter,this._onDidChangeValueEmitter=new k.Emitter,this._onDidTriggerButtonEmitter=new k.Emitter,this._onDidHideEmitter=new k.Emitter,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update({title:l})}get step(){return this._steps}set step(l){this._steps=l,this.update({step:l})}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update({totalSteps:l})}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update({enabled:l})}get busy(){return this._busy}set busy(l){this._busy=l,this.update({busy:l})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){this._ignoreFocusOut=l,this.update({ignoreFocusOut:l})}get value(){return this._value}set value(l){this._value=l,this.update({value:l})}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update({placeholder:l})}get buttons(){return this._buttons}set buttons(l){this._buttons=l.slice(),this._handlesToButtons.clear(),l.forEach((c,t)=>{const m=c===A.QuickInputButtons.Back?-1:t;this._handlesToButtons.set(m,c)}),this.update({buttons:l.map((c,t)=>({...s(c),tooltip:c.tooltip,handle:c===A.QuickInputButtons.Back?-1:t}))})}show(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}hide(){this._visible=!1,this.update({visible:!1})}_fireDidAccept(){this._onDidAcceptEmitter.fire()}_fireDidChangeValue(l){this._value=l,this._onDidChangeValueEmitter.fire(l)}_fireDidTriggerButton(l){const c=this._handlesToButtons.get(l);c&&this._onDidTriggerButtonEmitter.fire(c)}_fireDidHide(){this._expectingHide&&(this._expectingHide=this._visible,this._onDidHideEmitter.fire())}dispose(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=(0,_.dispose)(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),o.$dispose(this._id))}update(l){if(!this._disposed){for(const c of Object.keys(l)){const t=l[c];this._pendingUpdate[c]=t===void 0?null:t}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout(()=>{this._updateTimeout=void 0,this.dispatchUpdate()},0))}}dispatchUpdate(){o.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}b._nextId=1;function E(d){if(d instanceof A.ThemeIcon)return{id:d.id};const l=w(d),c=g(d);return{dark:typeof l=="string"?I.URI.file(l):l,light:typeof c=="string"?I.URI.file(c):c}}function g(d){return typeof d=="object"&&"light"in d?d.light:d}function w(d){return typeof d=="object"&&"dark"in d?d.dark:d}function s(d){const l=E(d.iconPath);let c,t;return"id"in l?t=y.ThemeIcon.asClassName(l):c=l,{iconPath:c,iconClass:t}}class r extends b{constructor(l,c){super(l.identifier,c),this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._keepScrollPosition=!1,this._activeItems=[],this._onDidChangeActiveEmitter=new k.Emitter,this._selectedItems=[],this._onDidChangeSelectionEmitter=new k.Emitter,this._onDidTriggerItemButtonEmitter=new k.Emitter,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this._onDidTriggerItemButtonEmitter.event,this._disposables.push(this._onDidChangeActiveEmitter,this._onDidChangeSelectionEmitter,this._onDidTriggerItemButtonEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(l){this._items=l.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),l.forEach((t,m)=>{this._handlesToItems.set(m,t),this._itemsToHandles.set(t,m)});const c=[];for(let t=0;t<l.length;t++){const m=l[t];m.kind===A.QuickPickItemKind.Separator?c.push({type:"separator",label:m.label}):c.push({handle:t,label:m.label,description:m.description,detail:m.detail,picked:m.picked,alwaysShow:m.alwaysShow,buttons:m.buttons?.map((p,P)=>({...s(p),tooltip:p.tooltip,handle:P}))})}this.update({items:c})}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update({canSelectMany:l})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update({matchOnDescription:l})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update({matchOnDetail:l})}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update({sortByLabel:l})}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(l){this._keepScrollPosition=l,this.update({keepScrollPosition:l})}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l.filter(c=>this._itemsToHandles.has(c)),this.update({activeItems:this._activeItems.map(c=>this._itemsToHandles.get(c))})}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l.filter(c=>this._itemsToHandles.has(c)),this.update({selectedItems:this._selectedItems.map(c=>this._itemsToHandles.get(c))})}_fireDidChangeActive(l){const c=(0,C.coalesce)(l.map(t=>this._handlesToItems.get(t)));this._activeItems=c,this._onDidChangeActiveEmitter.fire(c)}_fireDidChangeSelection(l){const c=(0,C.coalesce)(l.map(t=>this._handlesToItems.get(t)));this._selectedItems=c,this._onDidChangeSelectionEmitter.fire(c)}_fireDidTriggerItemButton(l,c){const t=this._handlesToItems.get(l);if(!t||!t.buttons||!t.buttons.length)return;const m=t.buttons[c];m&&this._onDidTriggerItemButtonEmitter.fire({button:m,item:t})}}class a extends b{constructor(l,c){super(l.identifier,c),this._password=!1,this.update({type:"inputBox"})}get password(){return this._password}set password(l){this._password=l,this.update({password:l})}get prompt(){return this._prompt}set prompt(l){this._prompt=l,this.update({prompt:l})}get valueSelection(){return this._valueSelection}set valueSelection(l){this._valueSelection=l,this.update({valueSelection:l})}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,l?typeof l=="string"?this.update({validationMessage:l,severity:R.default.Error}):this.update({validationMessage:l.message,severity:l.severity??R.default.Error}):this.update({validationMessage:void 0,severity:R.default.Ignore})}}return new u(h,i)}e.createExtHostQuickOpen=f});var Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)},Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n};define(De[219],Ie([1,0,2,5,60,7,15,4,16,120,12,26,64,8,25]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h){"use strict";var i,o;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostSCM=e.ExtHostSCMInputBox=void 0;function u(m){if(m)return typeof m.iconPath=="string"?n.URI.file(m.iconPath):n.URI.isUri(m.iconPath)||f.ThemeIcon.isThemeIcon(m.iconPath)?m.iconPath:void 0}function b(m,p){if(!m.iconPath&&!p.iconPath)return 0;if(m.iconPath){if(!p.iconPath)return 1}else return-1;const P=typeof m.iconPath=="string"?m.iconPath:n.URI.isUri(m.iconPath)?m.iconPath.fsPath:m.iconPath.id,L=typeof p.iconPath=="string"?p.iconPath:n.URI.isUri(p.iconPath)?p.iconPath.fsPath:p.iconPath.id;return(0,C.comparePaths)(P,L)}function E(m,p){let P=0;if(m.strikeThrough!==p.strikeThrough)return m.strikeThrough?1:-1;if(m.faded!==p.faded)return m.faded?1:-1;if(m.tooltip!==p.tooltip)return(m.tooltip||"").localeCompare(p.tooltip||"");if(P=b(m,p),P!==0)return P;if(m.light&&p.light)P=b(m.light,p.light);else{if(m.light)return 1;if(p.light)return-1}if(P!==0)return P;if(m.dark&&p.dark)P=b(m.dark,p.dark);else{if(m.dark)return 1;if(p.dark)return-1}return P}function g(m,p){if(m.command!==p.command)return m.command<p.command?-1:1;if(m.title!==p.title)return m.title<p.title?-1:1;if(m.tooltip!==p.tooltip){if(m.tooltip!==void 0&&p.tooltip!==void 0)return m.tooltip<p.tooltip?-1:1;if(m.tooltip!==void 0)return 1;if(p.tooltip!==void 0)return-1}if(m.arguments===p.arguments)return 0;if(m.arguments)if(p.arguments){if(m.arguments.length!==p.arguments.length)return m.arguments.length-p.arguments.length}else return 1;else return-1;for(let P=0;P<m.arguments.length;P++){const L=m.arguments[P],V=p.arguments[P];if(L!==V)return L<V?-1:1}return 0}function w(m,p){let P=(0,C.comparePaths)(m.resourceUri.fsPath,p.resourceUri.fsPath,!0);if(P!==0)return P;if(m.command&&p.command)P=g(m.command,p.command);else{if(m.command)return 1;if(p.command)return-1}if(P!==0)return P;if(m.decorations&&p.decorations)P=E(m.decorations,p.decorations);else{if(m.decorations)return 1;if(p.decorations)return-1}return P}function s(m,p){for(let P=0;P<m.length;P++)if(m[P]!==p[P])return!1;return!0}function r(m,p){return m.command===p.command&&m.title===p.title&&m.tooltip===p.tooltip&&(m.arguments&&p.arguments?s(m.arguments,p.arguments):m.arguments===p.arguments)}function a(m,p){return(0,S.equals)(m,p,r)}class d{get value(){return this._value}set value(p){p=p??"",Ae(this,i,"f").$setInputBoxValue(this._sourceControlHandle,p),this.updateValue(p)}get onDidChange(){return this._onDidChange.event}get placeholder(){return this._placeholder}set placeholder(p){Ae(this,i,"f").$setInputBoxPlaceholder(this._sourceControlHandle,p),this._placeholder=p}get validateInput(){return(0,h.checkProposedApiEnabled)(this._extension,"scmValidation"),this._validateInput}set validateInput(p){if((0,h.checkProposedApiEnabled)(this._extension,"scmValidation"),p&&typeof p!="function")throw new Error(`[${this._extension.identifier.value}]: Invalid SCM input box validation function`);this._validateInput=p,Ae(this,i,"f").$setValidationProviderIsEnabled(this._sourceControlHandle,!!p)}get enabled(){return this._enabled}set enabled(p){p=!!p,this._enabled!==p&&(this._enabled=p,Ae(this,i,"f").$setInputBoxEnablement(this._sourceControlHandle,p))}get visible(){return this._visible}set visible(p){p=!!p,this._visible!==p&&(this._visible=p,Ae(this,i,"f").$setInputBoxVisibility(this._sourceControlHandle,p))}constructor(p,P,L){this._extension=p,this._sourceControlHandle=L,i.set(this,void 0),this._value="",this._onDidChange=new k.Emitter,this._placeholder="",this._enabled=!0,this._visible=!0,Ye(this,i,P,"f")}showValidationMessage(p,P){(0,h.checkProposedApiEnabled)(this._extension,"scmValidation"),Ae(this,i,"f").$showValidationMessage(this._sourceControlHandle,p,P)}$onInputBoxValueChange(p){this.updateValue(p)}updateValue(p){this._value=p,this._onDidChange.fire(p)}}e.ExtHostSCMInputBox=d,i=new WeakMap;class l{get disposed(){return this._disposed}get id(){return this._id}get label(){return this._label}set label(p){this._label=p,this._proxy.$updateGroupLabel(this._sourceControlHandle,this.handle,p)}get hideWhenEmpty(){return this._hideWhenEmpty}set hideWhenEmpty(p){this._hideWhenEmpty=p,this._proxy.$updateGroup(this._sourceControlHandle,this.handle,this.features)}get features(){return{hideWhenEmpty:this.hideWhenEmpty}}get resourceStates(){return[...this._resourceStates]}set resourceStates(p){this._resourceStates=[...p],this._onDidUpdateResourceStates.fire()}constructor(p,P,L,V,H){this._proxy=p,this._commands=P,this._sourceControlHandle=L,this._id=V,this._label=H,this._resourceHandlePool=0,this._resourceStates=[],this._resourceStatesMap=new Map,this._resourceStatesCommandsMap=new Map,this._resourceStatesDisposablesMap=new Map,this._onDidUpdateResourceStates=new k.Emitter,this.onDidUpdateResourceStates=this._onDidUpdateResourceStates.event,this._disposed=!1,this._onDidDispose=new k.Emitter,this.onDidDispose=this._onDidDispose.event,this._handlesSnapshot=[],this._resourceSnapshot=[],this._hideWhenEmpty=void 0,this.handle=l._handlePool++}getResourceState(p){return this._resourceStatesMap.get(p)}$executeResourceCommand(p,P){const L=this._resourceStatesCommandsMap.get(p);return L?(0,I.asPromise)(()=>this._commands.executeCommand(L.command,...L.arguments||[],P)):Promise.resolve(void 0)}_takeResourceStateSnapshot(){const p=[...this._resourceStates].sort(w),L=(0,S.sortedDiff)(this._resourceSnapshot,p,w).map(W=>{const T=W.toInsert.map(F=>{const O=this._resourceHandlePool++;this._resourceStatesMap.set(O,F);const B=F.resourceUri;let z;if(F.command)if(F.command.command==="vscode.open"||F.command.command==="vscode.diff"){const ge=new M.DisposableStore;z=this._commands.converter.toInternal(F.command,ge),this._resourceStatesDisposablesMap.set(O,ge)}else this._resourceStatesCommandsMap.set(O,F.command);const j=u(F.decorations),G=F.decorations&&u(F.decorations.light)||j,Z=F.decorations&&u(F.decorations.dark)||j,he=[G,Z],oe=F.decorations&&F.decorations.tooltip||"",ce=F.decorations&&!!F.decorations.strikeThrough,le=F.decorations&&!!F.decorations.faded,fe=F.contextValue||"";return{rawResource:[O,B,he,oe,ce,le,fe,z],handle:O}});return{start:W.start,deleteCount:W.deleteCount,toInsert:T}}),V=L.map(({start:W,deleteCount:T,toInsert:F})=>[W,T,F.map(O=>O.rawResource)]),H=L.reverse();for(const{start:W,deleteCount:T,toInsert:F}of H){const O=F.map(z=>z.handle),B=this._handlesSnapshot.splice(W,T,...O);for(const z of B)this._resourceStatesMap.delete(z),this._resourceStatesCommandsMap.delete(z),this._resourceStatesDisposablesMap.get(z)?.dispose(),this._resourceStatesDisposablesMap.delete(z)}return this._resourceSnapshot=p,V}dispose(){this._disposed=!0,this._onDidDispose.fire()}}l._handlePool=0;class c{get id(){return this._id}get label(){return this._label}get rootUri(){return this._rootUri}get inputBox(){return this._inputBox}get count(){return this._count}set count(p){this._count!==p&&(this._count=p,Ae(this,o,"f").$updateSourceControl(this.handle,{count:p}))}get quickDiffProvider(){return this._quickDiffProvider}set quickDiffProvider(p){this._quickDiffProvider=p,Ae(this,o,"f").$updateSourceControl(this.handle,{hasQuickDiffProvider:!!p})}get commitTemplate(){return this._commitTemplate}set commitTemplate(p){p!==this._commitTemplate&&(this._commitTemplate=p,Ae(this,o,"f").$updateSourceControl(this.handle,{commitTemplate:p}))}get acceptInputCommand(){return this._acceptInputCommand}set acceptInputCommand(p){this._acceptInputDisposables.value=new M.DisposableStore,this._acceptInputCommand=p;const P=this._commands.converter.toInternal(p,this._acceptInputDisposables.value);Ae(this,o,"f").$updateSourceControl(this.handle,{acceptInputCommand:P})}get actionButton(){return(0,h.checkProposedApiEnabled)(this._extension,"scmActionButton"),this._actionButton}set actionButton(p){(0,h.checkProposedApiEnabled)(this._extension,"scmActionButton"),this._actionButtonDisposables.value=new M.DisposableStore,this._actionButton=p;const P=p!==void 0?{command:this._commands.converter.toInternal(p.command,this._actionButtonDisposables.value),secondaryCommands:p.secondaryCommands?.map(L=>L.map(V=>this._commands.converter.toInternal(V,this._actionButtonDisposables.value))),description:p.description,enabled:p.enabled}:void 0;Ae(this,o,"f").$updateSourceControl(this.handle,{actionButton:P??null})}get statusBarCommands(){return this._statusBarCommands}set statusBarCommands(p){if(this._statusBarCommands&&p&&a(this._statusBarCommands,p))return;this._statusBarDisposables.value=new M.DisposableStore,this._statusBarCommands=p;const P=(p||[]).map(L=>this._commands.converter.toInternal(L,this._statusBarDisposables.value));Ae(this,o,"f").$updateSourceControl(this.handle,{statusBarCommands:P})}get selected(){return this._selected}constructor(p,P,L,V,H,W){this._extension=p,this._commands=L,this._id=V,this._label=H,this._rootUri=W,o.set(this,void 0),this._groups=new Map,this._count=void 0,this._quickDiffProvider=void 0,this._commitTemplate=void 0,this._acceptInputDisposables=new M.MutableDisposable,this._acceptInputCommand=void 0,this._actionButtonDisposables=new M.MutableDisposable,this._statusBarDisposables=new M.MutableDisposable,this._statusBarCommands=void 0,this._selected=!1,this._onDidChangeSelection=new k.Emitter,this.onDidChangeSelection=this._onDidChangeSelection.event,this.handle=c._handlePool++,this.createdResourceGroups=new Map,this.updatedResourceGroups=new Set,Ye(this,o,P,"f"),this._inputBox=new d(p,Ae(this,o,"f"),this.handle),Ae(this,o,"f").$registerSourceControl(this.handle,V,H,W)}createResourceGroup(p,P){const L=new l(Ae(this,o,"f"),this._commands,this.handle,p,P),V=k.Event.once(L.onDidDispose)(()=>this.createdResourceGroups.delete(L));return this.createdResourceGroups.set(L,V),this.eventuallyAddResourceGroups(),L}eventuallyAddResourceGroups(){const p=[],P=[];for(const[L,V]of this.createdResourceGroups){V.dispose();const H=L.onDidUpdateResourceStates(()=>{this.updatedResourceGroups.add(L),this.eventuallyUpdateResourceStates()});k.Event.once(L.onDidDispose)(()=>{this.updatedResourceGroups.delete(L),H.dispose(),this._groups.delete(L.handle),Ae(this,o,"f").$unregisterGroup(this.handle,L.handle)}),p.push([L.handle,L.id,L.label,L.features]);const W=L._takeResourceStateSnapshot();W.length>0&&P.push([L.handle,W]),this._groups.set(L.handle,L)}Ae(this,o,"f").$registerGroups(this.handle,p,P),this.createdResourceGroups.clear()}eventuallyUpdateResourceStates(){const p=[];this.updatedResourceGroups.forEach(P=>{const L=P._takeResourceStateSnapshot();L.length!==0&&p.push([P.handle,L])}),p.length>0&&Ae(this,o,"f").$spliceResourceStates(this.handle,p),this.updatedResourceGroups.clear()}getResourceGroup(p){return this._groups.get(p)}setSelectionState(p){this._selected=p,this._onDidChangeSelection.fire(p)}dispose(){this._acceptInputDisposables.dispose(),this._actionButtonDisposables.dispose(),this._statusBarDisposables.dispose(),this._groups.forEach(p=>p.dispose()),Ae(this,o,"f").$unregisterSourceControl(this.handle)}}o=new WeakMap,c._handlePool=0,Ve([(0,_.debounce)(100)],c.prototype,"eventuallyAddResourceGroups",null),Ve([(0,_.debounce)(100)],c.prototype,"eventuallyUpdateResourceStates",null);let t=class tn{get onDidChangeActiveProvider(){return this._onDidChangeActiveProvider.event}constructor(p,P,L){this._commands=P,this.logService=L,this._sourceControls=new Map,this._sourceControlsByExtension=new Map,this._onDidChangeActiveProvider=new k.Emitter,this._proxy=p.getProxy(A.MainContext.MainThreadSCM),this._telemetry=p.getProxy(A.MainContext.MainThreadTelemetry),P.registerArgumentProcessor({processArgument:V=>{if(V&&V.$mid===3){const H=this._sourceControls.get(V.sourceControlHandle);if(!H)return V;const W=H.getResourceGroup(V.groupHandle);return W?W.getResourceState(V.handle):V}else if(V&&V.$mid===4){const H=this._sourceControls.get(V.sourceControlHandle);return H?H.getResourceGroup(V.groupHandle):V}else if(V&&V.$mid===5){const H=this._sourceControls.get(V.handle);return H||V}return V}})}createSourceControl(p,P,L,V){this.logService.trace("ExtHostSCM#createSourceControl",p.identifier.value,P,L,V),this._telemetry.$publicLog2("api/scm/createSourceControl",{extensionId:p.identifier.value});const H=tn._handlePool++,W=new c(p,this._proxy,this._commands,P,L,V);this._sourceControls.set(H,W);const T=this._sourceControlsByExtension.get(y.ExtensionIdentifier.toKey(p.identifier))||[];return T.push(W),this._sourceControlsByExtension.set(y.ExtensionIdentifier.toKey(p.identifier),T),W}getLastInputBox(p){this.logService.trace("ExtHostSCM#getLastInputBox",p.identifier.value);const P=this._sourceControlsByExtension.get(y.ExtensionIdentifier.toKey(p.identifier)),L=P&&P[P.length-1];return L&&L.inputBox}$provideOriginalResource(p,P,L){const V=n.URI.revive(P);this.logService.trace("ExtHostSCM#$provideOriginalResource",p,V.toString());const H=this._sourceControls.get(p);return!H||!H.quickDiffProvider||!H.quickDiffProvider.provideOriginalResource?Promise.resolve(null):(0,I.asPromise)(()=>H.quickDiffProvider.provideOriginalResource(V,L)).then(W=>W||null)}$onInputBoxValueChange(p,P){this.logService.trace("ExtHostSCM#$onInputBoxValueChange",p);const L=this._sourceControls.get(p);return L&&L.inputBox.$onInputBoxValueChange(P),Promise.resolve(void 0)}$executeResourceCommand(p,P,L,V){this.logService.trace("ExtHostSCM#$executeResourceCommand",p,P,L);const H=this._sourceControls.get(p);if(!H)return Promise.resolve(void 0);const W=H.getResourceGroup(P);return W?W.$executeResourceCommand(L,V):Promise.resolve(void 0)}$validateInput(p,P,L){this.logService.trace("ExtHostSCM#$validateInput",p);const V=this._sourceControls.get(p);return!V||!V.inputBox.validateInput?Promise.resolve(void 0):(0,I.asPromise)(()=>V.inputBox.validateInput(P,L)).then(H=>{if(!H)return Promise.resolve(void 0);const W=v.MarkdownString.fromStrict(H.message);return W?Promise.resolve([W,H.type]):Promise.resolve(void 0)})}$setSelectedSourceControl(p){return this.logService.trace("ExtHostSCM#$setSelectedSourceControl",p),p!==void 0&&this._sourceControls.get(p)?.setSelectionState(!0),this._selectedSourceControlHandle!==void 0&&this._sourceControls.get(this._selectedSourceControlHandle)?.setSelectionState(!1),this._selectedSourceControlHandle=p,Promise.resolve(void 0)}};t._handlePool=0,t=Ve([We(2,R.ILogService)],t),e.ExtHostSCM=t}),define(De[74],Ie([1,0,4,5,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostSecretState=e.ExtHostSecretState=void 0;class M{constructor(A){this._onDidChangePassword=new k.Emitter,this.onDidChangePassword=this._onDidChangePassword.event,this._proxy=A.getProxy(n.MainContext.MainThreadSecretState)}async $onDidChangePassword(A){this._onDidChangePassword.fire(A)}get(A,S){return this._proxy.$getPassword(A,S)}store(A,S,C){return this._proxy.$setPassword(A,S,C)}delete(A,S){return this._proxy.$deletePassword(A,S)}}e.ExtHostSecretState=M,e.IExtHostSecretState=(0,_.createDecorator)("IExtHostSecretState")});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[220],Ie([1,0,6,4,135,7,8,9]),function(te,e,n,k,_,M,I,A){"use strict";var S,C;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostStatusBar=e.ExtHostStatusBarEntry=void 0;class R{constructor(h,i,o,u,b=n.StatusBarAlignment.Left,E){S.set(this,void 0),C.set(this,void 0),this._disposed=!1,this._visible=!1,this._text="",this._internalCommandRegistration=new M.DisposableStore,Ye(this,S,h,"f"),Ye(this,C,i,"f"),this._entryId=R.ID_GEN++,this._extension=o,this._id=u,this._alignment=b,this._priority=this.validatePriority(E)}validatePriority(h){if(!!(0,A.isNumber)(h))return h===Number.POSITIVE_INFINITY?Number.MAX_VALUE:h===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:h}get id(){return this._id??this._extension.identifier.value}get alignment(){return this._alignment}get priority(){return this._priority}get text(){return this._text}get name(){return this._name}get tooltip(){return this._tooltip}get color(){return this._color}get backgroundColor(){return this._backgroundColor}get command(){return this._command?.fromApi}get accessibilityInformation(){return this._accessibilityInformation}set text(h){this._text=h,this.update()}set name(h){this._name=h,this.update()}set tooltip(h){this._tooltip=h,this.update()}set color(h){this._color=h,this.update()}set backgroundColor(h){h&&!R.ALLOWED_BACKGROUND_COLORS.has(h.id)&&(h=void 0),this._backgroundColor=h,this.update()}set command(h){this._command?.fromApi!==h&&(this._internalCommandRegistration.clear(),typeof h=="string"?this._command={fromApi:h,internal:Ae(this,C,"f").toInternal({title:"",command:h},this._internalCommandRegistration)}:h?this._command={fromApi:h,internal:Ae(this,C,"f").toInternal(h,this._internalCommandRegistration)}:this._command=void 0,this.update())}set accessibilityInformation(h){this._accessibilityInformation=h,this.update()}show(){this._visible=!0,this.update()}hide(){clearTimeout(this._timeoutHandle),this._visible=!1,Ae(this,S,"f").$dispose(this._entryId)}update(){this._disposed||!this._visible||(clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout(()=>{this._timeoutHandle=void 0;let h;this._extension?this._id?h=`${this._extension.identifier.value}.${this._id}`:h=this._extension.identifier.value:h=this._id;let i;this._name?i=this._name:i=(0,_.localize)(0,null,this._extension.displayName||this._extension.name);let o=this._color;this._backgroundColor&&(o=R.ALLOWED_BACKGROUND_COLORS.get(this._backgroundColor.id));const u=I.MarkdownString.fromStrict(this._tooltip);Ae(this,S,"f").$setEntry(this._entryId,h,i,this._text,u,this._command?.internal,o,this._backgroundColor,this._alignment===n.StatusBarAlignment.Left,this._priority,this._accessibilityInformation)},0))}dispose(){this.hide(),this._disposed=!0}}e.ExtHostStatusBarEntry=R,S=new WeakMap,C=new WeakMap,R.ID_GEN=0,R.ALLOWED_BACKGROUND_COLORS=new Map([["statusBarItem.errorBackground",new n.ThemeColor("statusBarItem.errorForeground")],["statusBarItem.warningBackground",new n.ThemeColor("statusBarItem.warningForeground")]]);class y{constructor(h){this._messages=[],this._item=h.createStatusBarEntry(void 0,"status.extensionMessage",n.StatusBarAlignment.Left,Number.MIN_VALUE),this._item.name=(0,_.localize)(1,null)}dispose(){this._messages.length=0,this._item.dispose()}setMessage(h){const i={message:h};return this._messages.unshift(i),this._update(),new n.Disposable(()=>{const o=this._messages.indexOf(i);o>=0&&(this._messages.splice(o,1),this._update())})}_update(){this._messages.length>0?(this._item.text=this._messages[0].message,this._item.show()):this._item.hide()}}class f{constructor(h,i){this._proxy=h.getProxy(k.MainContext.MainThreadStatusBar),this._commands=i,this._statusMessage=new y(this)}createStatusBarEntry(h,i,o,u){return new R(this._proxy,this._commands,h,i,o,u)}setStatusBarMessage(h,i){const o=this._statusMessage.setMessage(h);let u;return typeof i=="number"?u=setTimeout(()=>o.dispose(),i):typeof i<"u"&&i.then(()=>o.dispose(),()=>o.dispose()),new n.Disposable(()=>{o.dispose(),clearTimeout(u)})}}e.ExtHostStatusBar=f}),define(De[75],Ie([1,0,4,5,3]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostStorage=e.ExtHostStorage=void 0;class M{constructor(A,S){this._logService=S,this._onDidChangeStorage=new k.Emitter,this.onDidChangeStorage=this._onDidChangeStorage.event,this._proxy=A.getProxy(n.MainContext.MainThreadStorage)}registerExtensionStorageKeysToSync(A,S){this._proxy.$registerExtensionStorageKeysToSync(A,S)}async initializeExtensionStorage(A,S,C){const R=await this._proxy.$initializeExtensionStorage(A,S);let y;return R&&(y=this.safeParseValue(A,S,R)),y||C}setValue(A,S,C){return this._proxy.$setValue(A,S,C)}$acceptValue(A,S,C){const R=this.safeParseValue(A,S,C);R&&this._onDidChangeStorage.fire({shared:A,key:S,value:R})}safeParseValue(A,S,C){try{return JSON.parse(C)}catch(R){this._logService.error(`[extHostStorage] unexpected error parsing storage contents (extensionId: ${S}, global: ${A}): ${R}`)}}}e.ExtHostStorage=M,e.IExtHostStorage=(0,_.createDecorator)("IExtHostStorage")}),define(De[76],Ie([1,0,3,27,12,57,2]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionStoragePaths=e.IExtensionStoragePaths=void 0,e.IExtensionStoragePaths=(0,n.createDecorator)("IExtensionStoragePaths");let A=class{constructor(C,R,y){this._logService=R,this._extHostFileSystem=y,this._workspace=C.workspace??void 0,this._environment=C.environment,this.whenReady=this._getOrCreateWorkspaceStoragePath().then(f=>this._value=f)}async _getWorkspaceStorageURI(C){return I.URI.joinPath(this._environment.workspaceStorageHome,C)}async _getOrCreateWorkspaceStoragePath(){if(!this._workspace)return Promise.resolve(void 0);const C=this._workspace.id,R=await this._getWorkspaceStorageURI(C);try{return await this._extHostFileSystem.value.stat(R),this._logService.trace("[ExtHostStorage] storage dir already exists",R),R}catch{}try{return this._logService.trace("[ExtHostStorage] creating dir and metadata-file",R),await this._extHostFileSystem.value.createDirectory(R),await this._extHostFileSystem.value.writeFile(I.URI.joinPath(R,"meta.json"),new TextEncoder().encode(JSON.stringify({id:this._workspace.id,configuration:I.URI.revive(this._workspace.configuration)?.toString(),name:this._workspace.name},void 0,2))),R}catch(y){this._logService.error("[ExtHostStorage]",y);return}}workspaceValue(C){if(this._value)return I.URI.joinPath(this._value,C.identifier.value)}globalValue(C){return I.URI.joinPath(this._environment.globalStorageHome,C.identifier.value.toLowerCase())}onWillDeactivateAll(){}};A=Ve([We(0,k.IExtHostInitDataService),We(1,_.ILogService),We(2,M.IExtHostConsumerFileSystem)],A),e.ExtensionStoragePaths=A}),define(De[58],Ie([1,0,5,4,3,2,14,7,6,136,11,174,20,34,160,64,9,15,8]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostTerminalService=e.EnvironmentVariableCollection=e.BaseExtHostTerminalService=e.ExtHostPseudoterminal=e.ExtHostTerminal=e.IExtHostTerminalService=void 0,e.IExtHostTerminalService=(0,_.createDecorator)("IExtHostTerminalService");class E{constructor(t,m,p,P){this._proxy=t,this._id=m,this._creationOptions=p,this._name=P,this._disposed=!1,this._state={isInteractedWith:!1},this.isOpen=!1,this._creationOptions=Object.freeze(this._creationOptions),this._pidPromise=new Promise(V=>this._pidPromiseComplete=V);const L=this;this.value={get name(){return L._name||""},get processId(){return L._pidPromise},get creationOptions(){return L._creationOptions},get exitStatus(){return L._exitStatus},get state(){return L._state},sendText(V,H=!0){L._checkDisposed(),L._proxy.$sendText(L._id,V,H)},show(V){L._checkDisposed(),L._proxy.$show(L._id,V)},hide(){L._checkDisposed(),L._proxy.$hide(L._id)},dispose(){L._disposed||(L._disposed=!0,L._proxy.$dispose(L._id))},get dimensions(){if(!(L._cols===void 0||L._rows===void 0))return{columns:L._cols,rows:L._rows}}}}async create(t,m){if(typeof this._id!="string")throw new Error("Terminal has already been created");await this._proxy.$createTerminal(this._id,{name:t.name,shellPath:(0,o.withNullAsUndefined)(t.shellPath),shellArgs:(0,o.withNullAsUndefined)(t.shellArgs),cwd:(0,o.withNullAsUndefined)(t.cwd),env:(0,o.withNullAsUndefined)(t.env),icon:(0,o.withNullAsUndefined)(d(t.iconPath)),color:i.ThemeColor.isThemeColor(t.color)?t.color.id:void 0,initialText:(0,o.withNullAsUndefined)(t.message),strictEnv:(0,o.withNullAsUndefined)(t.strictEnv),hideFromUser:(0,o.withNullAsUndefined)(t.hideFromUser),isFeatureTerminal:(0,o.withNullAsUndefined)(m?.isFeatureTerminal),isExtensionOwnedTerminal:!0,useShellEnvironment:(0,o.withNullAsUndefined)(m?.useShellEnvironment),location:m?.location||this._serializeParentTerminal(t.location,m?.resolvedExtHostIdentifier),isTransient:(0,o.withNullAsUndefined)(t.isTransient)})}async createExtensionTerminal(t,m,p,P){if(typeof this._id!="string")throw new Error("Terminal has already been created");if(await this._proxy.$createTerminal(this._id,{name:this._name,isExtensionCustomPtyTerminal:!0,icon:p,color:i.ThemeColor.isThemeColor(P)?P.id:void 0,location:this._serializeParentTerminal(t,m),isTransient:!0}),typeof this._id=="string")throw new Error("Terminal creation failed");return this._id}_serializeParentTerminal(t,m){return typeof t=="object"?"parentTerminal"in t&&t.parentTerminal&&m?{parentTerminal:m}:"viewColumn"in t?{viewColumn:b.ViewColumn.from(t.viewColumn),preserveFocus:t.preserveFocus}:void 0:t}_checkDisposed(){if(this._disposed)throw new Error("Terminal has already been disposed")}set name(t){this._name=t}setExitStatus(t,m){this._exitStatus=Object.freeze({code:t,reason:m})}setDimensions(t,m){return t===this._cols&&m===this._rows||t===0||m===0?!1:(this._cols=t,this._rows=m,!0)}setInteractedWith(){return this._state.isInteractedWith?!1:(this._state={isInteractedWith:!0},!0)}_setProcessId(t){this._pidPromiseComplete?(this._pidPromiseComplete(t),this._pidPromiseComplete=void 0):this._pidPromise.then(m=>{m!==t&&(this._pidPromise=Promise.resolve(t))})}}e.ExtHostTerminal=E;class g{get onProcessReady(){return this._onProcessReady.event}constructor(t){this._pty=t,this.id=0,this.shouldPersist=!1,this._onProcessData=new n.Emitter,this.onProcessData=this._onProcessData.event,this._onProcessReady=new n.Emitter,this._onDidChangeProperty=new n.Emitter,this.onDidChangeProperty=this._onDidChangeProperty.event,this._onProcessExit=new n.Emitter,this.onProcessExit=this._onProcessExit.event}refreshProperty(t){throw new Error(`refreshProperty is not suppported in extension owned terminals. property: ${t}`)}updateProperty(t,m){throw new Error(`updateProperty is not suppported in extension owned terminals. property: ${t}, value: ${m}`)}async start(){}shutdown(){this._pty.close()}input(t){this._pty.handleInput?.(t)}resize(t,m){this._pty.setDimensions?.({columns:t,rows:m})}async processBinary(t){}acknowledgeDataEvent(t){}async setUnicodeVersion(t){}getInitialCwd(){return Promise.resolve("")}getCwd(){return Promise.resolve("")}getLatency(){return Promise.resolve(0)}startSendingEvents(t){this._pty.onDidWrite(m=>this._onProcessData.fire(m)),this._pty.onDidClose?.((m=void 0)=>{this._onProcessExit.fire(m===void 0?void 0:m)}),this._pty.onDidOverrideDimensions?.(m=>{m&&this._onDidChangeProperty.fire({type:"overrideDimensions",value:{cols:m.columns,rows:m.rows}})}),this._pty.onDidChangeName?.(m=>{this._onDidChangeProperty.fire({type:"title",value:m})}),this._pty.open(t||void 0),t&&this._pty.setDimensions?.(t),this._onProcessReady.fire({pid:-1,cwd:""})}}e.ExtHostPseudoterminal=g;let w=1,s=class extends A.Disposable{get activeTerminal(){return this._activeTerminal?.value}get terminals(){return this._terminals.map(t=>t.value)}get onDidWriteTerminalData(){return this._onDidWriteTerminalData.event}constructor(t,m){super(),this._terminals=[],this._terminalProcesses=new Map,this._terminalProcessDisposables={},this._extensionTerminalAwaitingStart={},this._getTerminalPromises={},this._environmentVariableCollections=new Map,this._linkProviders=new Set,this._profileProviders=new Map,this._quickFixProviders=new Map,this._terminalLinkCache=new Map,this._terminalLinkCancellationSource=new Map,this._onDidCloseTerminal=new n.Emitter,this.onDidCloseTerminal=this._onDidCloseTerminal.event,this._onDidOpenTerminal=new n.Emitter,this.onDidOpenTerminal=this._onDidOpenTerminal.event,this._onDidChangeActiveTerminal=new n.Emitter,this.onDidChangeActiveTerminal=this._onDidChangeActiveTerminal.event,this._onDidChangeTerminalDimensions=new n.Emitter,this.onDidChangeTerminalDimensions=this._onDidChangeTerminalDimensions.event,this._onDidChangeTerminalState=new n.Emitter,this.onDidChangeTerminalState=this._onDidChangeTerminalState.event,this._onDidChangeShell=new n.Emitter,this.onDidChangeShell=this._onDidChangeShell.event,this._proxy=m.getProxy(k.MainContext.MainThreadTerminalService),this._bufferer=new h.TerminalDataBufferer(this._proxy.$sendProcessData),this._onDidWriteTerminalData=new n.Emitter({onWillAddFirstListener:()=>this._proxy.$startSendingDataEvents(),onDidRemoveLastListener:()=>this._proxy.$stopSendingDataEvents()}),this._proxy.$registerProcessSupport(t),this._register({dispose:()=>{for(const[p,P]of this._terminalProcesses)P.shutdown(!0)}})}getDefaultShell(t){return(t?this._defaultAutomationProfile:this._defaultProfile)?.path||""}getDefaultShellArgs(t){return(t?this._defaultAutomationProfile:this._defaultProfile)?.args||[]}createExtensionTerminal(t,m){const p=new E(this._proxy,(0,v.generateUuid)(),t,t.name),P=new g(t.pty);return p.createExtensionTerminal(t.location,this._serializeParentTerminal(t,m).resolvedExtHostIdentifier,d(t.iconPath),l(t.color)).then(L=>{const V=this._setupExtHostProcessListeners(L,P);this._terminalProcessDisposables[L]=V}),this._terminals.push(p),p.value}_serializeParentTerminal(t,m){if(m=m||{},t.location&&typeof t.location=="object"&&"parentTerminal"in t.location){const p=t.location.parentTerminal;if(p){const P=this._terminals.find(L=>L.value===p);P&&(m.resolvedExtHostIdentifier=P._id)}}else t.location&&typeof t.location!="object"?m.location=t.location:m.location&&typeof m.location=="object"&&"splitActiveTerminal"in m.location&&(m.location={splitActiveTerminal:!0});return m}attachPtyToTerminal(t,m){if(!this._getTerminalById(t))throw new Error(`Cannot resolve terminal with id ${t} for virtual process`);const P=new g(m),L=this._setupExtHostProcessListeners(t,P);this._terminalProcessDisposables[t]=L}async $acceptActiveTerminalChanged(t){const m=this._activeTerminal;if(t===null){this._activeTerminal=void 0,m!==this._activeTerminal&&this._onDidChangeActiveTerminal.fire(this._activeTerminal);return}const p=this._getTerminalById(t);p&&(this._activeTerminal=p,m!==this._activeTerminal&&this._onDidChangeActiveTerminal.fire(this._activeTerminal.value))}async $acceptTerminalProcessData(t,m){const p=this._getTerminalById(t);p&&this._onDidWriteTerminalData.fire({terminal:p.value,data:m})}async $acceptTerminalDimensions(t,m,p){const P=this._getTerminalById(t);P&&P.setDimensions(m,p)&&this._onDidChangeTerminalDimensions.fire({terminal:P.value,dimensions:P.value.dimensions})}async $acceptTerminalMaximumDimensions(t,m,p){this._terminalProcesses.get(t)?.resize(m,p)}async $acceptTerminalTitleChange(t,m){const p=this._getTerminalById(t);p&&(p.name=m)}async $acceptTerminalClosed(t,m,p){const P=this._getTerminalObjectIndexById(this._terminals,t);if(P!==null){const L=this._terminals.splice(P,1)[0];L.setExitStatus(m,p),this._onDidCloseTerminal.fire(L.value)}}$acceptTerminalOpened(t,m,p,P){if(m){const H=this._getTerminalObjectIndexById(this._terminals,m);if(H!==null){this._terminals[H]._id=t,this._onDidOpenTerminal.fire(this.terminals[H]),this._terminals[H].isOpen=!0;return}}const L={name:P.name,shellPath:P.executable,shellArgs:P.args,cwd:typeof P.cwd=="string"?P.cwd:M.URI.revive(P.cwd),env:P.env,hideFromUser:P.hideFromUser},V=new E(this._proxy,t,L,p);this._terminals.push(V),this._onDidOpenTerminal.fire(V.value),V.isOpen=!0}async $acceptTerminalProcessId(t,m){this._getTerminalById(t)?._setProcessId(m)}async $startExtensionTerminal(t,m){const p=this._getTerminalById(t);if(!p)return{message:(0,C.localize)(0,null,t)};p.isOpen||await new Promise(L=>{const V=this.onDidOpenTerminal(async H=>{H===p.value&&(V.dispose(),L())})});const P=this._terminalProcesses.get(t);P?P.startSendingEvents(m):this._extensionTerminalAwaitingStart[t]={initialDimensions:m}}_setupExtHostProcessListeners(t,m){const p=new A.DisposableStore;p.add(m.onProcessReady(L=>this._proxy.$sendProcessReady(t,L.pid,L.cwd))),p.add(m.onDidChangeProperty(L=>this._proxy.$sendProcessProperty(t,L))),this._bufferer.startBuffering(t,m.onProcessData),p.add(m.onProcessExit(L=>this._onProcessExit(t,L))),this._terminalProcesses.set(t,m);const P=this._extensionTerminalAwaitingStart[t];return P&&m instanceof g&&(m.startSendingEvents(P.initialDimensions),delete this._extensionTerminalAwaitingStart[t]),p}$acceptProcessAckDataEvent(t,m){this._terminalProcesses.get(t)?.acknowledgeDataEvent(m)}$acceptProcessInput(t,m){this._terminalProcesses.get(t)?.input(m)}$acceptTerminalInteraction(t){const m=this._getTerminalById(t);m?.setInteractedWith()&&this._onDidChangeTerminalState.fire(m.value)}$acceptProcessResize(t,m,p){try{this._terminalProcesses.get(t)?.resize(m,p)}catch(P){if(P.code!=="EPIPE"&&P.code!=="ERR_IPC_CHANNEL_CLOSED")throw P}}$acceptProcessShutdown(t,m){this._terminalProcesses.get(t)?.shutdown(m)}$acceptProcessRequestInitialCwd(t){this._terminalProcesses.get(t)?.getInitialCwd().then(m=>this._proxy.$sendProcessProperty(t,{type:"initialCwd",value:m}))}$acceptProcessRequestCwd(t){this._terminalProcesses.get(t)?.getCwd().then(m=>this._proxy.$sendProcessProperty(t,{type:"cwd",value:m}))}$acceptProcessRequestLatency(t){return Promise.resolve(t)}registerLinkProvider(t){return this._linkProviders.add(t),this._linkProviders.size===1&&this._proxy.$startLinkProvider(),new S.Disposable(()=>{this._linkProviders.delete(t),this._linkProviders.size===0&&this._proxy.$stopLinkProvider()})}registerProfileProvider(t,m,p){if(this._profileProviders.has(m))throw new Error(`Terminal profile provider "${m}" already registered`);return this._profileProviders.set(m,p),this._proxy.$registerProfileProvider(m,t.identifier.value),new S.Disposable(()=>{this._profileProviders.delete(m),this._proxy.$unregisterProfileProvider(m)})}registerTerminalQuickFixProvider(t,m,p){if(this._quickFixProviders.has(t))throw new Error(`Terminal quick fix provider "${t}" is already registered`);return this._quickFixProviders.set(t,p),this._proxy.$registerQuickFixProvider(t,m),new S.Disposable(()=>{this._quickFixProviders.delete(t),this._proxy.$unregisterQuickFixProvider(t)})}async $provideTerminalQuickFixes(t,m){const p=new f.CancellationTokenSource().token;if(p.isCancellationRequested)return;const P=this._quickFixProviders.get(t);if(!!P)return P.provideTerminalQuickFixes(m,p)}async $createContributedProfileTerminal(t,m){const p=new f.CancellationTokenSource().token;let P=await this._profileProviders.get(t)?.provideTerminalProfile(p);if(!p.isCancellationRequested){if(P&&!("options"in P)&&(P={options:P}),!P||!("options"in P))throw new Error(`No terminal profile options provided for id "${t}"`);if("pty"in P.options){this.createExtensionTerminal(P.options,m);return}this.createTerminalFromOptions(P.options,m)}}async $provideLinks(t,m){const p=this._getTerminalById(t);if(!p)return[];this._terminalLinkCache.delete(t),this._terminalLinkCancellationSource.get(t)?.dispose(!0);const L=new f.CancellationTokenSource;this._terminalLinkCancellationSource.set(t,L);const V=[],H={terminal:p.value,line:m},W=[];for(const O of this._linkProviders)W.push(u.Promises.withAsyncBody(async B=>{L.token.onCancellationRequested(()=>B({provider:O,links:[]}));const z=await O.provideTerminalLinks(H,L.token)||[];L.token.isCancellationRequested||B({provider:O,links:z})}));const T=await Promise.all(W);if(L.token.isCancellationRequested)return[];const F=new Map;for(const O of T)O&&O.links.length>0&&V.push(...O.links.map(B=>{const z={id:w++,startIndex:B.startIndex,length:B.length,label:B.tooltip};return F.set(z.id,{provider:O.provider,link:B}),z}));return this._terminalLinkCache.set(t,F),V}$activateLink(t,m){const p=this._terminalLinkCache.get(t)?.get(m);!p||p.provider.handleTerminalLink(p.link)}_onProcessExit(t,m){this._bufferer.stopBuffering(t),this._terminalProcesses.delete(t),delete this._extensionTerminalAwaitingStart[t];const p=this._terminalProcessDisposables[t];p&&(p.dispose(),delete this._terminalProcessDisposables[t]),this._proxy.$sendProcessExit(t,m)}_getTerminalById(t){return this._getTerminalObjectById(this._terminals,t)}_getTerminalObjectById(t,m){const p=this._getTerminalObjectIndexById(t,m);return p!==null?t[p]:null}_getTerminalObjectIndexById(t,m){let p=null;return t.some((P,L)=>P._id===m?(p=L,!0):!1),p}getEnvironmentVariableCollection(t){let m=this._environmentVariableCollections.get(t.identifier.value);return m||(m=new r,this._setEnvironmentVariableCollection(t.identifier.value,m)),m}_syncEnvironmentVariableCollection(t,m){const p=(0,y.serializeEnvironmentVariableCollection)(m.map);this._proxy.$setEnvironmentVariableCollection(t,m.persistent,p.length===0?void 0:p)}$initEnvironmentVariableCollections(t){t.forEach(m=>{const p=m[0],P=new r(m[1]);this._setEnvironmentVariableCollection(p,P)})}$acceptDefaultProfile(t,m){const p=this._defaultProfile;this._defaultProfile=t,this._defaultAutomationProfile=m,p?.path!==t.path&&this._onDidChangeShell.fire(t.path)}_setEnvironmentVariableCollection(t,m){this._environmentVariableCollections.set(t,m),m.onDidChangeCollection(()=>{this._syncEnvironmentVariableCollection(t,m)})}};s=Ve([We(1,I.IExtHostRpcService)],s),e.BaseExtHostTerminalService=s;class r{get persistent(){return this._persistent}set persistent(t){this._persistent=t,this._onDidChangeCollection.fire()}get onDidChangeCollection(){return this._onDidChangeCollection&&this._onDidChangeCollection.event}constructor(t){this.map=new Map,this._persistent=!0,this._onDidChangeCollection=new n.Emitter,this.map=new Map(t)}get size(){return this.map.size}replace(t,m){this._setIfDiffers(t,{value:m,type:S.EnvironmentVariableMutatorType.Replace})}append(t,m){this._setIfDiffers(t,{value:m,type:S.EnvironmentVariableMutatorType.Append})}prepend(t,m){this._setIfDiffers(t,{value:m,type:S.EnvironmentVariableMutatorType.Prepend})}_setIfDiffers(t,m){const p=this.map.get(t);(!p||p.value!==m.value||p.type!==m.type)&&(this.map.set(t,m),this._onDidChangeCollection.fire())}get(t){return this.map.get(t)}forEach(t,m){this.map.forEach((p,P)=>t.call(m,P,p,this))}[Symbol.iterator](){return this.map.entries()}delete(t){this.map.delete(t),this._onDidChangeCollection.fire()}clear(){this.map.clear(),this._onDidChangeCollection.fire()}}e.EnvironmentVariableCollection=r;let a=class extends s{constructor(t){super(!1,t)}createTerminal(t,m,p){throw new R.NotSupportedError}createTerminalFromOptions(t,m){throw new R.NotSupportedError}};a=Ve([We(0,I.IExtHostRpcService)],a),e.WorkerExtHostTerminalService=a;function d(c){if(!(!c||typeof c=="string"))return"id"in c?{id:c.id,color:c.color}:c}function l(c){return i.ThemeColor.isThemeColor(c)?c:void 0}});var Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)},Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n};define(De[221],Ie([1,0,16,24,20,5,184,222,7,23,9,34,4,14,97,8,6,42,67,53]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E){"use strict";var g,w;Object.defineProperty(e,"__esModule",{value:!0}),e.TestRunProfileImpl=e.MirroredTestCollection=e.TestRunDto=e.TestRunCoordinator=e.ExtHostTesting=void 0;let s=class{constructor(H,W,T){this.editors=T,this.resultsChangedEmitter=new M.Emitter,this.controllers=new Map,this.onResultsChanged=this.resultsChangedEmitter.event,this.results=[],this.proxy=H.getProxy(f.MainContext.MainThreadTesting),this.observer=new p(this.proxy),this.runTracker=new a(this.proxy),W.registerArgumentProcessor({processArgument:F=>{if(F?.$mid!==15)return F;const O=F,B=O.tests[O.tests.length-1].item.extId;return this.controllers.get(u.TestId.root(B))?.collection.tree.get(B)?.actual??(0,h.toItemFromContext)(F)}})}createTestController(H,W,T){if(this.controllers.has(H))throw new Error(`Attempt to insert a duplicate controller with ID "${H}"`);const F=new S.DisposableStore,O=F.add(new h.ExtHostTestItemCollection(H,W,this.editors));O.root.label=W;const B=new Map,z=this.proxy,j={items:O.root.children,get label(){return W},set label(Z){W=Z,O.root.label=Z,z.$updateController(H,{label:W})},get refreshHandler(){return T},set refreshHandler(Z){T=Z,z.$updateController(H,{canRefresh:!!Z})},get id(){return H},createRunProfile:(Z,he,oe,ce,le)=>{let fe=(0,A.hash)(Z);for(;B.has(fe);)fe++;return new P(this.proxy,B,H,fe,Z,he,oe,ce,le)},createTestItem(Z,he,oe){return new h.TestItemImpl(H,Z,he,oe)},createTestRun:(Z,he,oe=!0)=>this.runTracker.createTestRun(H,O,Z,he,oe),set resolveHandler(Z){O.resolveHandler=Z},get resolveHandler(){return O.resolveHandler},dispose:()=>{F.dispose()}};z.$registerTestController(H,W,!!T),F.add((0,S.toDisposable)(()=>z.$unregisterTestController(H)));const G={controller:j,collection:O,profiles:B};return this.controllers.set(H,G),F.add((0,S.toDisposable)(()=>this.controllers.delete(H))),F.add(O.onDidGenerateDiff(Z=>z.$publishDiff(H,Z.map(E.TestsDiffOp.serialize)))),j}createTestObserver(){return this.observer.checkout()}async runTests(H,W=_.CancellationToken.None){const T=d(H);if(!T)throw new Error("The request passed to `vscode.test.runTests` must include a profile");const F=this.controllers.get(T.controllerId);if(!F)throw new Error("Controller not found");await this.proxy.$runTests({isUiTriggered:!1,targets:[{testIds:H.include?.map(O=>u.TestId.fromExtHostTestItem(O,F.collection.root.id).toString())??[F.collection.root.id],profileGroup:L[T.kind],profileId:T.profileId,controllerId:T.controllerId}],exclude:H.exclude?.map(O=>O.id)},W)}$syncTests(){for(const{collection:H}of this.controllers.values())H.flushDiff();return Promise.resolve()}$provideFileCoverage(H,W,T){return(0,n.mapFind)(this.runTracker.trackers,O=>O.id===H?O.getCoverage(W):void 0)?.provideFileCoverage(T)??Promise.resolve([])}$resolveFileCoverage(H,W,T,F){return(0,n.mapFind)(this.runTracker.trackers,B=>B.id===H?B.getCoverage(W):void 0)?.resolveFileCoverage(T,F)??Promise.resolve([])}$configureRunProfile(H,W){this.controllers.get(H)?.profiles.get(W)?.configureHandler?.()}async $refreshTests(H,W){await this.controllers.get(H)?.controller.refreshHandler?.(W)}$publishTestResults(H){this.results=Object.freeze(H.map(W=>(0,C.deepFreeze)(i.TestResults.to(W))).concat(this.results).sort((W,T)=>T.completedAt-W.completedAt).slice(0,32)),this.resultsChangedEmitter.fire()}async $expandTest(H,W){const T=this.controllers.get(u.TestId.fromString(H).controllerId)?.collection;T&&(await T.expand(H,W<0?1/0:W),T.flushDiff())}$acceptDiff(H){this.observer.applyDiff(H.map(E.TestsDiffOp.deserialize))}async $runControllerTests(H,W){return Promise.all(H.map(T=>this.runControllerTestRequest(T,W)))}async runControllerTestRequest(H,W){const T=this.controllers.get(H.controllerId);if(!T)return{};const{collection:F,profiles:O}=T,B=O.get(H.profileId);if(!B)return{};const z=H.testIds.map(he=>F.tree.get(he)).filter(R.isDefined),j=H.excludeExtIds.map(he=>T.collection.tree.get(he)).filter(R.isDefined).filter(he=>z.some(oe=>oe.fullId.compare(he.fullId)===2));if(!z.length)return{};const G=new o.TestRunRequest(z.some(he=>he.actual instanceof h.TestItemRootImpl)?void 0:z.map(he=>he.actual),j.map(he=>he.actual),B),Z=this.runTracker.prepareForMainThreadTestRun(G,l.fromInternal(H,T.collection),W);try{return await B.runHandler(G,W),{}}catch(he){return{error:String(he)}}finally{Z.isRunning&&!W.isCancellationRequested&&await M.Event.toPromise(Z.onEnd),Z.dispose()}}$cancelExtensionTestRun(H){H===void 0?this.runTracker.cancelAllRuns():this.runTracker.cancelRunById(H)}};s=Ve([We(0,v.IExtHostRpcService)],s),e.ExtHostTesting=s;class r extends S.Disposable{get isRunning(){return this.tasks.size>0}get id(){return this.dto.id}constructor(H,W,T){super(),this.dto=H,this.proxy=W,this.tasks=new Map,this.sharedTestIds=new Set,this.endEmitter=this._register(new M.Emitter),this.disposed=!1,this.onEnd=this.endEmitter.event,this.cts=this._register(new _.CancellationTokenSource(T)),this._register(this.cts.token.onCancellationRequested(()=>{for(const{run:F}of this.tasks.values())F.end()}))}getCoverage(H){return this.tasks.get(H)?.coverage}createRun(H){const W=this.dto.id,T=this.dto.controllerId,F=(0,y.generateUuid)(),O=new c(this.proxy,W,F),B=Z=>(he,...oe)=>{if(j){console.warn(`Setting the state of test "${he.id}" is a no-op after the run ends.`);return}!this.dto.isIncluded(he)||(this.ensureTestIsKnown(he),Z(he,...oe))},z=(Z,he)=>{const oe=he instanceof Array?he.map(i.TestMessage.from):[i.TestMessage.from(he)];if(Z.uri&&Z.range){const ce={range:i.Range.from(Z.range),uri:Z.uri};for(const le of oe)le.location=le.location||ce}this.proxy.$appendTestMessagesInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),oe)};let j=!1;const G={isPersisted:this.dto.isPersisted,token:this.cts.token,name:H,get coverageProvider(){return O.coverageProvider},set coverageProvider(Z){O.coverageProvider=Z},enqueued:B(Z=>{this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),1)}),skipped:B(Z=>{this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),5)}),started:B(Z=>{this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),2)}),errored:B((Z,he,oe)=>{z(Z,he),this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),6,oe)}),failed:B((Z,he,oe)=>{z(Z,he),this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,T).toString(),4,oe)}),passed:B((Z,he)=>{this.proxy.$updateTestStateInRun(W,F,u.TestId.fromExtHostTestItem(Z,this.dto.controllerId).toString(),3,he)}),appendOutput:(Z,he,oe)=>{j||(oe&&(this.dto.isIncluded(oe)?this.ensureTestIsKnown(oe):oe=void 0),this.proxy.$appendOutputToRun(W,F,k.VSBuffer.fromString(Z),he&&i.location.from(he),oe&&u.TestId.fromExtHostTestItem(oe,T).toString()))},end:()=>{j||(j=!0,this.proxy.$finishedTestRunTask(W,F),this.tasks.delete(F),this.isRunning||this.dispose())}};return this.tasks.set(F,{run:G,coverage:O}),this.proxy.$startedTestRunTask(W,{id:F,name:H,running:!0}),G}dispose(){this.disposed||(this.disposed=!0,this.endEmitter.fire(),this.cts.cancel(),super.dispose())}ensureTestIsKnown(H){if(!(H instanceof h.TestItemImpl))throw new b.InvalidTestItemError(H.id);if(this.sharedTestIds.has(u.TestId.fromExtHostTestItem(H,this.dto.controllerId).toString()))return;const W=[],T=this.dto.colllection.root;for(;;){const F=i.TestItem.from(H);if(W.unshift(F),this.sharedTestIds.has(F.extId)||(this.sharedTestIds.add(F.extId),H===T))break;H=H.parent||T}this.proxy.$addTestsToRun(this.dto.controllerId,this.dto.id,W)}}class a{get trackers(){return this.tracked.values()}constructor(H){this.proxy=H,this.tracked=new Map}prepareForMainThreadTestRun(H,W,T){return this.getTracker(H,W,T)}cancelRunById(H){for(const W of this.tracked.values())if(W.id===H){W.dispose();return}}cancelAllRuns(){for(const H of this.tracked.values())H.dispose()}createTestRun(H,W,T,F,O){const B=this.tracked.get(T);if(B)return B.createRun(F);const z=l.fromPublic(H,W,T,O),j=d(T);this.proxy.$startedExtensionTestRun({controllerId:H,profile:j&&{group:L[j.kind],id:j.profileId},exclude:T.exclude?.map(Z=>u.TestId.fromExtHostTestItem(Z,W.root.id).toString())??[],id:z.id,include:T.include?.map(Z=>u.TestId.fromExtHostTestItem(Z,W.root.id).toString())??[W.root.id],persist:O});const G=this.getTracker(T,z);return G.onEnd(()=>this.proxy.$finishedExtensionTestRun(z.id)),G.createRun(F)}getTracker(H,W,T){const F=new r(W,this.proxy,T);return this.tracked.set(H,F),F.onEnd(()=>this.tracked.delete(H)),F}}e.TestRunCoordinator=a;const d=V=>{if(!!V.profile){if(!(V.profile instanceof P))throw new Error("TestRunRequest.profile is not an instance created from TestController.createRunProfile");return V.profile}};class l{static fromPublic(H,W,T,F){return new l(H,(0,y.generateUuid)(),T.include?.map(O=>u.TestId.fromExtHostTestItem(O,H).toString())??[H],T.exclude?.map(O=>u.TestId.fromExtHostTestItem(O,H).toString())??[],F,W)}static fromInternal(H,W){return new l(H.controllerId,H.runId,H.testIds,H.excludeExtIds,!0,W)}constructor(H,W,T,F,O,B){this.controllerId=H,this.id=W,this.isPersisted=O,this.colllection=B,this.includePrefix=T.map(z=>z+"\0"),this.excludePrefix=F.map(z=>z+"\0")}isIncluded(H){const W=u.TestId.fromExtHostTestItem(H,this.controllerId).toString()+"\0";for(const T of this.excludePrefix)if(W===T||W.startsWith(T))return!1;for(const T of this.includePrefix)if(W===T||W.startsWith(T))return!0;return!1}}e.TestRunDto=l;class c{set coverageProvider(H){if(this._coverageProvider)throw new Error("The TestCoverageProvider cannot be replaced after being provided");!H||(this._coverageProvider=H,this.proxy.$signalCoverageAvailable(this.runId,this.taskId))}get coverageProvider(){return this._coverageProvider}constructor(H,W,T){this.proxy=H,this.runId=W,this.taskId=T}async provideFileCoverage(H){if(!this._coverageProvider)return[];this.fileCoverage||(this.fileCoverage=(async()=>this._coverageProvider.provideFileCoverage(H))());try{return(await this.fileCoverage)?.map(i.TestCoverage.fromFile)??[]}catch(W){throw this.fileCoverage=void 0,W}}async resolveFileCoverage(H,W){const T=await this.fileCoverage;let F=T?.[H];return!this._coverageProvider||!T||!F?[]:(F.detailedCoverage||(F=T[H]=await this._coverageProvider.resolveFileCoverage?.(F,W)??F),F.detailedCoverage?.map(i.TestCoverage.fromDetailed)??[])}}class t{get isEmpty(){return this.added.size===0&&this.removed.size===0&&this.updated.size===0}constructor(H){this.emitter=H,this.added=new Set,this.updated=new Set,this.removed=new Set,this.alreadyRemoved=new Set}add(H){this.added.add(H)}update(H){Object.assign(H.revived,i.TestItem.toPlain(H.item)),this.added.has(H)||this.updated.add(H)}remove(H){if(this.added.has(H)){this.added.delete(H);return}this.updated.delete(H);const W=u.TestId.parentId(H.item.extId);if(W&&this.alreadyRemoved.has(W.toString())){this.alreadyRemoved.add(H.item.extId);return}this.removed.add(H)}getChangeEvent(){const{added:H,updated:W,removed:T}=this;return{get added(){return[...H].map(F=>F.revived)},get updated(){return[...W].map(F=>F.revived)},get removed(){return[...T].map(F=>F.revived)}}}complete(){this.isEmpty||this.emitter.fire(this.getChangeEvent())}}class m extends E.AbstractIncrementalTestCollection{constructor(){super(...arguments),this.changeEmitter=new M.Emitter,this.onDidChangeTests=this.changeEmitter.event}get rootTests(){return super.roots}getMirroredTestDataById(H){return this.items.get(H)}getMirroredTestDataByReference(H){return this.items.get(H.id)}createItem(H,W){return{...H,revived:i.TestItem.toPlain(H.item),depth:W?W.depth+1:0,children:new Set}}createChangeCollector(){return new t(this.changeEmitter)}}e.MirroredTestCollection=m;class p{constructor(H){this.proxy=H}checkout(){this.current||(this.current=this.createObserverData());const H=this.current;return H.observers++,{onDidChangeTest:H.tests.onDidChangeTests,get tests(){return[...H.tests.rootTests].map(W=>W.revived)},dispose:(0,I.once)(()=>{--H.observers===0&&(this.proxy.$unsubscribeFromDiffs(),this.current=void 0)})}}getMirroredTestDataByReference(H){return this.current?.tests.getMirroredTestDataByReference(H)}applyDiff(H){this.current?.tests.apply(H)}createObserverData(){const H=new m;return this.proxy.$subscribeToDiffs(),{observers:0,tests:H}}}class P{get label(){return this._label}set label(H){H!==this._label&&(this._label=H,Ae(this,g,"f").$updateTestRunConfig(this.controllerId,this.profileId,{label:H}))}get isDefault(){return this._isDefault}set isDefault(H){H!==this._isDefault&&(this._isDefault=H,Ae(this,g,"f").$updateTestRunConfig(this.controllerId,this.profileId,{isDefault:H}))}get tag(){return this._tag}set tag(H){H?.id!==this._tag?.id&&(this._tag=H,Ae(this,g,"f").$updateTestRunConfig(this.controllerId,this.profileId,{tag:H?i.TestTag.namespace(this.controllerId,H.id):null}))}get configureHandler(){return this._configureHandler}set configureHandler(H){H!==this._configureHandler&&(this._configureHandler=H,Ae(this,g,"f").$updateTestRunConfig(this.controllerId,this.profileId,{hasConfigurationHandler:!!H}))}constructor(H,W,T,F,O,B,z,j=!1,G=void 0){this.controllerId=T,this.profileId=F,this._label=O,this.kind=B,this.runHandler=z,this._isDefault=j,this._tag=G,g.set(this,void 0),w.set(this,void 0),Ye(this,g,H,"f"),Ye(this,w,W,"f"),W.set(F,this);const Z=L[B];if(typeof Z!="number")throw new Error(`Unknown TestRunProfile.group ${B}`);Ae(this,g,"f").$publishTestRunProfile({profileId:F,controllerId:T,tag:G?i.TestTag.namespace(this.controllerId,G.id):null,label:O,group:Z,isDefault:j,hasConfigurationHandler:!1})}dispose(){Ae(this,w,"f")?.delete(this.profileId)&&(Ye(this,w,void 0,"f"),Ae(this,g,"f").$removeTestProfile(this.controllerId,this.profileId))}}e.TestRunProfileImpl=P,g=new WeakMap,w=new WeakMap;const L={[o.TestRunProfileKind.Coverage]:8,[o.TestRunProfileKind.Debug]:4,[o.TestRunProfileKind.Run]:2}}),define(De[223],Ie([1,0,16,5,4,98,8,6]),function(te,e,n,k,_,M,I,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditors=void 0;class S{constructor(R,y){this._extHostDocumentsAndEditors=y,this._onDidChangeTextEditorSelection=new k.Emitter,this._onDidChangeTextEditorOptions=new k.Emitter,this._onDidChangeTextEditorVisibleRanges=new k.Emitter,this._onDidChangeTextEditorViewColumn=new k.Emitter,this._onDidChangeActiveTextEditor=new k.Emitter,this._onDidChangeVisibleTextEditors=new k.Emitter,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=R.getProxy(_.MainContext.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors(f=>this._onDidChangeVisibleTextEditors.fire(f)),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(f=>this._onDidChangeActiveTextEditor.fire(f))}getActiveTextEditor(){return this._extHostDocumentsAndEditors.activeEditor()}getVisibleTextEditors(R){const y=this._extHostDocumentsAndEditors.allEditors();return R?y:y.map(f=>f.value)}async showTextDocument(R,y,f){let v;typeof y=="number"?v={position:I.ViewColumn.from(y),preserveFocus:f}:typeof y=="object"?v={position:I.ViewColumn.from(y.viewColumn),preserveFocus:y.preserveFocus,selection:typeof y.selection=="object"?I.Range.from(y.selection):void 0,pinned:typeof y.preview=="boolean"?!y.preview:void 0}:v={preserveFocus:!1};const h=await this._proxy.$tryShowTextDocument(R.uri,v),i=h&&this._extHostDocumentsAndEditors.getEditor(h);if(i)return i.value;throw h?new Error(`Could NOT open editor for "${R.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${R.uri.toString()}".`)}createTextEditorDecorationType(R,y){return new M.TextEditorDecorationType(this._proxy,R,y).value}$acceptEditorPropertiesChanged(R,y){const f=this._extHostDocumentsAndEditors.getEditor(R);if(!f)throw new Error("unknown text editor");if(y.options&&f._acceptOptions(y.options),y.selections){const v=y.selections.selections.map(I.Selection.to);f._acceptSelections(v)}if(y.visibleRanges){const v=n.coalesce(y.visibleRanges.map(I.Range.to));f._acceptVisibleRanges(v)}if(y.options&&this._onDidChangeTextEditorOptions.fire({textEditor:f.value,options:{...y.options,lineNumbers:I.TextEditorLineNumbersStyle.to(y.options.lineNumbers)}}),y.selections){const v=A.TextEditorSelectionChangeKind.fromValue(y.selections.source),h=y.selections.selections.map(I.Selection.to);this._onDidChangeTextEditorSelection.fire({textEditor:f.value,selections:h,kind:v})}if(y.visibleRanges){const v=n.coalesce(y.visibleRanges.map(I.Range.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:f.value,visibleRanges:v})}}$acceptEditorPositionData(R){for(const y in R){const f=this._extHostDocumentsAndEditors.getEditor(y);if(!f)throw new Error("Unknown text editor");const v=I.ViewColumn.to(R[y]);f.value.viewColumn!==v&&(f._acceptViewColumn(v),this._onDidChangeTextEditorViewColumn.fire({textEditor:f.value,viewColumn:v}))}}getDiffInformation(R){return Promise.resolve(this._proxy.$getDiffInformation(R))}}e.ExtHostEditors=S}),define(De[224],Ie([1,0,2,3,4,7,6,8,9]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTimeline=e.IExtHostTimeline=void 0,e.IExtHostTimeline=(0,k.createDecorator)("IExtHostTimeline");class C{constructor(f,v){this._providers=new Map,this._itemsBySourceAndUriMap=new Map,this._proxy=f.getProxy(_.MainContext.MainThreadTimeline),v.registerArgumentProcessor({processArgument:h=>{if(h&&h.$mid===12){const i=h.uri===void 0?void 0:n.URI.revive(h.uri);return this._itemsBySourceAndUriMap.get(h.source)?.get(R(i))?.get(h.handle)}return h}})}async $getTimeline(f,v,h,i){return this._providers.get(f)?.provideTimeline(n.URI.revive(v),h,i)}registerTimelineProvider(f,v,h,i){const o=new M.DisposableStore,u=this.convertTimelineItem(v.id,i,o).bind(this);let b;v.onDidChange&&(b=v.onDidChange(g=>this._proxy.$emitTimelineChangeEvent({uri:void 0,reset:!0,...g,id:v.id}),this));const E=this._itemsBySourceAndUriMap;return this.registerTimelineProviderCore({...v,scheme:f,onDidChange:void 0,async provideTimeline(g,w,s){w?.resetCache&&(o.clear(),E.get(v.id)?.clear());const r=await v.provideTimeline(g,w,s);if(r==null)return;const a=u(g,w);return{...r,source:v.id,items:r.items.map(a)}},dispose(){for(const g of E.values())g.get(v.id)?.clear();b?.dispose(),o.dispose()}})}convertTimelineItem(f,v,h){return(i,o)=>{let u;if(o?.cacheResults){let b=this._itemsBySourceAndUriMap.get(f);b===void 0&&(b=new Map,this._itemsBySourceAndUriMap.set(f,b));const E=R(i);u=b.get(E),u===void 0&&(u=new Map,b.set(E,u))}return b=>{const{iconPath:E,...g}=b,w=`${f}|${b.id??b.timestamp}`;u?.set(w,b);let s,r,a;b.iconPath&&(E instanceof I.ThemeIcon?a={id:E.id,color:E.color}:n.URI.isUri(E)?(s=E,r=E):{light:s,dark:r}=E);let d;return I.MarkdownString.isMarkdownString(g.tooltip)?d=A.MarkdownString.from(g.tooltip):(0,S.isString)(g.tooltip)?d=g.tooltip:I.MarkdownString.isMarkdownString(g.detail)?(console.warn("Using deprecated TimelineItem.detail, migrate to TimelineItem.tooltip"),d=A.MarkdownString.from(g.detail)):(0,S.isString)(g.detail)&&(console.warn("Using deprecated TimelineItem.detail, migrate to TimelineItem.tooltip"),d=g.detail),{...g,id:g.id??void 0,handle:w,source:f,command:b.command?v.toInternal(b.command,h):void 0,icon:s,iconDark:r,themeIcon:a,tooltip:d,accessibilityInformation:b.accessibilityInformation}}}}registerTimelineProviderCore(f){if(this._providers.get(f.id))throw new Error(`Timeline Provider ${f.id} already exists.`);return this._proxy.$registerTimelineProvider({id:f.id,label:f.label,scheme:f.scheme}),this._providers.set(f.id,f),(0,M.toDisposable)(()=>{for(const h of this._itemsBySourceAndUriMap.values())h.get(f.id)?.clear();this._providers.delete(f.id),this._proxy.$unregisterTimelineProvider(f.id),f.dispose()})}}e.ExtHostTimeline=C;function R(y){return y?.toString()}}),define(De[225],Ie([1,0,7,13,2,4]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUriOpeners=void 0;class I{constructor(S){this._openers=new Map,this._proxy=S.getProxy(M.MainContext.MainThreadUriOpeners)}registerExternalUriOpener(S,C,R,y){if(this._openers.has(C))throw new Error(`Opener with id '${C}' already registered`);const f=y.schemes.find(v=>!I.supportedSchemes.has(v));if(f)throw new Error(`Scheme '${f}' is not supported. Only http and https are currently supported.`);return this._openers.set(C,R),this._proxy.$registerUriOpener(C,y.schemes,S,y.label),(0,n.toDisposable)(()=>{this._openers.delete(C),this._proxy.$unregisterUriOpener(C)})}async $canOpenUri(S,C,R){const y=this._openers.get(S);if(!y)throw new Error(`Unknown opener with id: ${S}`);const f=_.URI.revive(C);return y.canOpenExternalUri(f,R)}async $openUri(S,C,R){const y=this._openers.get(S);if(!y)throw new Error(`Unknown opener id: '${S}'`);return y.openExternalUri(_.URI.revive(C.resolvedUri),{sourceUri:_.URI.revive(C.sourceUri)},R)}}e.ExtHostUriOpeners=I,I.supportedSchemes=new Set([k.Schemas.http,k.Schemas.https])}),define(De[226],Ie([1,0,4,2,7,11,26]),function(te,e,n,k,_,M,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUrls=void 0;class A{constructor(C){this.handles=new Set,this.handlers=new Map,this._proxy=C.getProxy(n.MainContext.MainThreadUrls)}registerUriHandler(C,R){if(this.handles.has(I.ExtensionIdentifier.toKey(C)))throw new Error(`Protocol handler already registered for extension ${C}`);const y=A.HandlePool++;return this.handles.add(I.ExtensionIdentifier.toKey(C)),this.handlers.set(y,R),this._proxy.$registerUriHandler(y,C),(0,_.toDisposable)(()=>{this.handles.delete(I.ExtensionIdentifier.toKey(C)),this.handlers.delete(y),this._proxy.$unregisterUriHandler(y)})}$handleExternalUri(C,R){const y=this.handlers.get(C);if(!y)return Promise.resolve(void 0);try{y.handleUri(k.URI.revive(R))}catch(f){(0,M.onUnexpectedError)(f)}return Promise.resolve(void 0)}async createAppUri(C){return k.URI.revive(await this._proxy.$createAppUri(C))}}e.ExtHostUrls=A,A.HandlePool=0});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[59],Ie([1,0,5,13,23,2,148,168,68,4]),function(te,e,n,k,_,M,I,A,S,C){"use strict";var R,y,f,v,h,i,o,u,b,E,g,w,s;Object.defineProperty(e,"__esModule",{value:!0}),e.serializeWebviewOptions=e.toExtensionData=e.ExtHostWebviews=e.shouldSerializeBuffersForPostMessage=e.ExtHostWebview=void 0;class r{constructor(L,V,H,W,T,F,O){R.set(this,void 0),y.set(this,void 0),f.set(this,void 0),v.set(this,void 0),h.set(this,void 0),i.set(this,void 0),o.set(this,""),u.set(this,void 0),b.set(this,!1),E.set(this,!1),g.set(this,void 0),w.set(this,void 0),this._onMessageEmitter=new n.Emitter,this.onDidReceiveMessage=this._onMessageEmitter.event,s.set(this,new n.Emitter),this._onDidDispose=Ae(this,s,"f").event,Ye(this,R,L,"f"),Ye(this,y,V,"f"),Ye(this,u,H,"f"),Ye(this,v,W,"f"),Ye(this,h,T,"f"),Ye(this,i,F,"f"),Ye(this,g,a(F),"f"),Ye(this,w,d(F),"f"),Ye(this,f,O,"f")}dispose(){Ye(this,b,!0,"f"),Ae(this,s,"f").fire(),Ae(this,s,"f").dispose(),this._onMessageEmitter.dispose()}asWebviewUri(L){return Ye(this,E,!0,"f"),(0,S.asWebviewUri)(L,Ae(this,v,"f"))}get cspSource(){const L=Ae(this,i,"f").extensionLocation;if(L.scheme===k.Schemas.https||L.scheme===k.Schemas.http){let V=L.toString();return V.endsWith("/")||(V+="/"),V+" "+S.webviewGenericCspSource}return S.webviewGenericCspSource}get html(){return this.assertNotDisposed(),Ae(this,o,"f")}set html(L){this.assertNotDisposed(),Ae(this,o,"f")!==L&&(Ye(this,o,L,"f"),Ae(this,w,"f")&&!Ae(this,E,"f")&&/(["'])vscode-resource:([^\s'"]+?)(["'])/i.test(L)&&(Ye(this,E,!0,"f"),Ae(this,f,"f").report("Webview vscode-resource: uris",Ae(this,i,"f"),"Please migrate to use the 'webview.asWebviewUri' api instead: https://aka.ms/vscode-webview-use-aswebviewuri")),Ae(this,y,"f").$setHtml(Ae(this,R,"f"),this.rewriteOldResourceUrlsIfNeeded(L)))}get options(){return this.assertNotDisposed(),Ae(this,u,"f")}set options(L){this.assertNotDisposed(),_.equals(Ae(this,u,"f"),L)||Ae(this,y,"f").$setOptions(Ae(this,R,"f"),t(Ae(this,i,"f"),Ae(this,h,"f"),L)),Ye(this,u,L,"f")}async postMessage(L){if(Ae(this,b,"f"))return!1;const V=(0,A.serializeWebviewMessage)(L,{serializeBuffersForPostMessage:Ae(this,g,"f")});return Ae(this,y,"f").$postMessage(Ae(this,R,"f"),V.message,...V.buffers)}assertNotDisposed(){if(Ae(this,b,"f"))throw new Error("Webview is disposed")}rewriteOldResourceUrlsIfNeeded(L){if(!Ae(this,w,"f"))return L;const V=Ae(this,i,"f").extensionLocation?.scheme===k.Schemas.vscodeRemote,H=Ae(this,i,"f").extensionLocation.scheme===k.Schemas.vscodeRemote?Ae(this,i,"f").extensionLocation.authority:void 0;return L.replace(/(["'])(?:vscode-resource):(\/\/([^\s\/'"]+?)(?=\/))?([^\s'"]+?)(["'])/gi,(W,T,F,O,B,z)=>{const j=M.URI.from({scheme:O||"file",path:decodeURIComponent(B)}),G=(0,S.asWebviewUri)(j,{isRemote:V,authority:H}).toString();return`${T}${G}${z}`}).replace(/(["'])(?:vscode-webview-resource):(\/\/[^\s\/'"]+\/([^\s\/'"]+?)(?=\/))?([^\s'"]+?)(["'])/gi,(W,T,F,O,B,z)=>{const j=M.URI.from({scheme:O||"file",path:decodeURIComponent(B)}),G=(0,S.asWebviewUri)(j,{isRemote:V,authority:H}).toString();return`${T}${G}${z}`})}}e.ExtHostWebview=r,R=new WeakMap,y=new WeakMap,f=new WeakMap,v=new WeakMap,h=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,b=new WeakMap,E=new WeakMap,g=new WeakMap,w=new WeakMap,s=new WeakMap;function a(P){try{const L=(0,I.normalizeVersion)((0,I.parseVersion)(P.engines.vscode));return!!L&&L.majorBase>=1&&L.minorBase>=57}catch{return!1}}e.shouldSerializeBuffersForPostMessage=a;function d(P){try{const L=(0,I.normalizeVersion)((0,I.parseVersion)(P.engines.vscode));return L?L.majorBase<1||L.majorBase===1&&L.minorBase<60:!1}catch{return!1}}class l{constructor(L,V,H,W,T){this.remoteInfo=V,this.workspace=H,this._logService=W,this._deprecationService=T,this._webviews=new Map,this._webviewProxy=L.getProxy(C.MainContext.MainThreadWebviews)}$onMessage(L,V,H){const W=this.getWebview(L);if(W){const{message:T}=(0,A.deserializeWebviewMessage)(V,H.value);W._onMessageEmitter.fire(T)}}$onMissingCsp(L,V){this._logService.warn(`${V} created a webview without a content security policy: https://aka.ms/vscode-webview-missing-csp`)}createNewWebview(L,V,H){const W=new r(L,this._webviewProxy,m(V),this.remoteInfo,this.workspace,H,this._deprecationService);return this._webviews.set(L,W),W._onDidDispose(()=>{this._webviews.delete(L)}),W}deleteWebview(L){this._webviews.delete(L)}getWebview(L){return this._webviews.get(L)}}e.ExtHostWebviews=l;function c(P){return{id:P.identifier,location:P.extensionLocation}}e.toExtensionData=c;function t(P,L,V){return{enableCommandUris:V.enableCommandUris,enableScripts:V.enableScripts,enableForms:V.enableForms,portMapping:V.portMapping,localResourceRoots:V.localResourceRoots||p(P,L)}}e.serializeWebviewOptions=t;function m(P){return{enableCommandUris:P.enableCommandUris,enableScripts:P.enableScripts,enableForms:P.enableForms,portMapping:P.portMapping,localResourceRoots:P.localResourceRoots?.map(L=>M.URI.from(L))}}function p(P,L){return[...(L?.getWorkspaceFolders()||[]).map(V=>V.uri),P.extensionLocation]}}),define(De[227],Ie([1,0,20,222,7,13,22,2,8,59,51,4,6]),function(te,e,n,k,_,M,I,A,S,C,R,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostCustomEditors=void 0;class v{constructor(r,a){this.document=r,this._storagePath=a,this._backupCounter=1,this._edits=new R.Cache("custom documents")}addEdit(r){return this._edits.add([r])}async undo(r,a){await this.getEdit(r).undo(),a||this.disposeBackup()}async redo(r,a){await this.getEdit(r).redo(),a||this.disposeBackup()}disposeEdits(r){for(const a of r)this._edits.delete(a)}getNewBackupUri(){if(!this._storagePath)throw new Error("Backup requires a valid storage path");const r=w(this.document.uri)+this._backupCounter++;return(0,I.joinPath)(this._storagePath,r)}updateBackup(r){this._backup?.delete(),this._backup=r}disposeBackup(){this._backup?.delete(),this._backup=void 0}getEdit(r){const a=this._edits.get(r,0);if(!a)throw new Error("No edit found");return a}}class h{constructor(){this._documents=new Map}get(r,a){return this._documents.get(this.key(r,a))}add(r,a,d){const l=this.key(r,a.uri);if(this._documents.has(l))throw new Error(`Document already exists for viewType:${r} resource:${a.uri}`);const c=new v(a,d);return this._documents.set(l,c),c}delete(r,a){const d=this.key(r,a.uri);this._documents.delete(d)}key(r,a){return`${r}@@@${a}`}}var i;(function(s){s[s.Text=0]="Text",s[s.Custom=1]="Custom"})(i||(i={}));class o{constructor(){this._providers=new Map}addTextProvider(r,a,d){return this.add(0,r,a,d)}addCustomProvider(r,a,d){return this.add(1,r,a,d)}get(r){return this._providers.get(r)}add(r,a,d,l){if(this._providers.has(a))throw new Error(`Provider for viewType:${a} already registered`);return this._providers.set(a,{type:r,extension:d,provider:l}),new f.Disposable(()=>this._providers.delete(a))}}class u{constructor(r,a,d,l,c){this._extHostDocuments=a,this._extensionStoragePaths=d,this._extHostWebview=l,this._extHostWebviewPanels=c,this._editorProviders=new o,this._documents=new h,this._proxy=r.getProxy(y.MainContext.MainThreadCustomEditors)}registerCustomEditorProvider(r,a,d,l){const c=new _.DisposableStore;return E(d)?(c.add(this._editorProviders.addTextProvider(a,r,d)),this._proxy.$registerTextEditorProvider((0,C.toExtensionData)(r),a,l.webviewOptions||{},{supportsMove:!!d.moveCustomTextEditor},(0,C.shouldSerializeBuffersForPostMessage)(r))):(c.add(this._editorProviders.addCustomProvider(a,r,d)),b(d)&&c.add(d.onDidChangeCustomDocument(t=>{const m=this.getCustomDocumentEntry(a,t.document.uri);if(g(t)){const p=m.addEdit(t);this._proxy.$onDidEdit(t.document.uri,a,p,t.label)}else this._proxy.$onContentChange(t.document.uri,a)})),this._proxy.$registerCustomEditorProvider((0,C.toExtensionData)(r),a,l.webviewOptions||{},!!l.supportsMultipleEditorsPerDocument,(0,C.shouldSerializeBuffersForPostMessage)(r))),f.Disposable.from(c,new f.Disposable(()=>{this._proxy.$unregisterEditorProvider(a)}))}async $createCustomDocument(r,a,d,l,c){const t=this._editorProviders.get(a);if(!t)throw new Error(`No provider found for '${a}'`);if(t.type!==1)throw new Error(`Invalid provide type for '${a}'`);const m=A.URI.revive(r),p=await t.provider.openCustomDocument(m,{backupId:d,untitledDocumentData:l?.buffer},c);let P;return b(t.provider)&&this._extensionStoragePaths&&(P=this._extensionStoragePaths.workspaceValue(t.extension)??this._extensionStoragePaths.globalValue(t.extension)),this._documents.add(a,p,P),{editable:b(t.provider)}}async $disposeCustomDocument(r,a){const d=this._editorProviders.get(a);if(!d)throw new Error(`No provider found for '${a}'`);if(d.type!==1)throw new Error(`Invalid provider type for '${a}'`);const l=A.URI.revive(r),{document:c}=this.getCustomDocumentEntry(a,l);this._documents.delete(a,c),c.dispose()}async $resolveWebviewEditor(r,a,d,l,c,t){const m=this._editorProviders.get(d);if(!m)throw new Error(`No provider found for '${d}'`);const p=S.ViewColumn.to(c),P=this._extHostWebview.createNewWebview(a,l.contentOptions,m.extension),L=this._extHostWebviewPanels.createNewWebviewPanel(a,d,l.title,p,l.options,P,!0),V=A.URI.revive(r);switch(m.type){case 1:{const{document:H}=this.getCustomDocumentEntry(d,V);return m.provider.resolveCustomEditor(H,L,t)}case 0:{const H=this._extHostDocuments.getDocument(V);return m.provider.resolveCustomTextEditor(H,L,t)}default:throw new Error("Unknown webview provider type")}}$disposeEdits(r,a,d){this.getCustomDocumentEntry(a,r).disposeEdits(d)}async $onMoveCustomEditor(r,a,d){const l=this._editorProviders.get(d);if(!l)throw new Error(`No provider found for '${d}'`);if(!l.provider.moveCustomTextEditor)throw new Error(`Provider does not implement move '${d}'`);const c=this._extHostWebviewPanels.getWebviewPanel(r);if(!c)throw new Error("No webview found");const t=A.URI.revive(a),m=this._extHostDocuments.getDocument(t);await l.provider.moveCustomTextEditor(m,c,n.CancellationToken.None)}async $undo(r,a,d,l){return this.getCustomDocumentEntry(a,r).undo(d,l)}async $redo(r,a,d,l){return this.getCustomDocumentEntry(a,r).redo(d,l)}async $revert(r,a,d){const l=this.getCustomDocumentEntry(a,r);await this.getCustomEditorProvider(a).revertCustomDocument(l.document,d),l.disposeBackup()}async $onSave(r,a,d){const l=this.getCustomDocumentEntry(a,r);await this.getCustomEditorProvider(a).saveCustomDocument(l.document,d),l.disposeBackup()}async $onSaveAs(r,a,d,l){const c=this.getCustomDocumentEntry(a,r);return this.getCustomEditorProvider(a).saveCustomDocumentAs(c.document,A.URI.revive(d),l)}async $backup(r,a,d){const l=this.getCustomDocumentEntry(a,r),t=await this.getCustomEditorProvider(a).backupCustomDocument(l.document,{destination:l.getNewBackupUri()},d);return l.updateBackup(t),t.id}getCustomDocumentEntry(r,a){const d=this._documents.get(r,A.URI.revive(a));if(!d)throw new Error("No custom document found");return d}getCustomEditorProvider(r){const d=this._editorProviders.get(r)?.provider;if(!d||!b(d))throw new Error("Custom document is not editable");return d}}e.ExtHostCustomEditors=u;function b(s){return!!s.onDidChangeCustomDocument}function E(s){return typeof s.resolveCustomTextEditor=="function"}function g(s){return typeof s.undo=="function"&&typeof s.redo=="function"}function w(s){const r=s.scheme===M.Schemas.file||s.scheme===M.Schemas.untitled?s.fsPath:s.toString();return(0,k.hash)(r)+""}});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[228],Ie([1,0,5,7,2,34,8,59,4,6]),function(te,e,n,k,_,M,I,A,S,C){"use strict";var R,y,f,v,h,i,o,u,b,E,g,w,s;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewPanels=void 0;class r extends k.Disposable{constructor(c,t,m,p){super(),R.set(this,void 0),y.set(this,void 0),f.set(this,void 0),v.set(this,void 0),h.set(this,void 0),i.set(this,void 0),o.set(this,void 0),u.set(this,void 0),b.set(this,!0),E.set(this,void 0),g.set(this,!1),w.set(this,this._register(new n.Emitter)),this.onDidDispose=Ae(this,w,"f").event,s.set(this,this._register(new n.Emitter)),this.onDidChangeViewState=Ae(this,s,"f").event,Ye(this,R,c,"f"),Ye(this,y,t,"f"),Ye(this,v,m,"f"),Ye(this,f,p.viewType,"f"),Ye(this,h,p.panelOptions,"f"),Ye(this,u,p.viewColumn,"f"),Ye(this,i,p.title,"f"),Ye(this,E,p.active,"f")}dispose(){Ae(this,g,"f")||(Ye(this,g,!0,"f"),Ae(this,w,"f").fire(),Ae(this,y,"f").$disposeWebview(Ae(this,R,"f")),Ae(this,v,"f").dispose(),super.dispose())}get webview(){return this.assertNotDisposed(),Ae(this,v,"f")}get viewType(){return this.assertNotDisposed(),Ae(this,f,"f")}get title(){return this.assertNotDisposed(),Ae(this,i,"f")}set title(c){this.assertNotDisposed(),Ae(this,i,"f")!==c&&(Ye(this,i,c,"f"),Ae(this,y,"f").$setTitle(Ae(this,R,"f"),c))}get iconPath(){return this.assertNotDisposed(),Ae(this,o,"f")}set iconPath(c){this.assertNotDisposed(),Ae(this,o,"f")!==c&&(Ye(this,o,c,"f"),Ae(this,y,"f").$setIconPath(Ae(this,R,"f"),_.URI.isUri(c)?{light:c,dark:c}:c))}get options(){return Ae(this,h,"f")}get viewColumn(){if(this.assertNotDisposed(),!(typeof Ae(this,u,"f")=="number"&&Ae(this,u,"f")<0))return Ae(this,u,"f")}get active(){return this.assertNotDisposed(),Ae(this,E,"f")}get visible(){return this.assertNotDisposed(),Ae(this,b,"f")}_updateViewState(c){Ae(this,g,"f")||(this.active!==c.active||this.visible!==c.visible||this.viewColumn!==c.viewColumn)&&(Ye(this,E,c.active,"f"),Ye(this,b,c.visible,"f"),Ye(this,u,c.viewColumn,"f"),Ae(this,s,"f").fire({webviewPanel:this}))}reveal(c,t){this.assertNotDisposed(),Ae(this,y,"f").$reveal(Ae(this,R,"f"),{viewColumn:typeof c>"u"?void 0:I.ViewColumn.from(c),preserveFocus:!!t})}assertNotDisposed(){if(Ae(this,g,"f"))throw new Error("Webview is disposed")}}R=new WeakMap,y=new WeakMap,f=new WeakMap,v=new WeakMap,h=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,b=new WeakMap,E=new WeakMap,g=new WeakMap,w=new WeakMap,s=new WeakMap;class a{static newHandle(){return(0,M.generateUuid)()}constructor(c,t,m){this.webviews=t,this.workspace=m,this._webviewPanels=new Map,this._serializers=new Map,this._proxy=c.getProxy(S.MainContext.MainThreadWebviewPanels)}createWebviewPanel(c,t,m,p,P={}){const L=typeof p=="object"?p.viewColumn:p,V={viewColumn:I.ViewColumn.from(L),preserveFocus:typeof p=="object"&&!!p.preserveFocus},H=(0,A.shouldSerializeBuffersForPostMessage)(c),W=a.newHandle();this._proxy.$createWebviewPanel((0,A.toExtensionData)(c),W,t,{title:m,panelOptions:d(P),webviewOptions:(0,A.serializeWebviewOptions)(c,this.workspace,P),serializeBuffersForPostMessage:H},V);const T=this.webviews.createNewWebview(W,P,c);return this.createNewWebviewPanel(W,t,m,L,P,T,!0)}$onDidChangeWebviewPanelViewStates(c){const t=Object.keys(c);t.sort((m,p)=>{const P=c[m],L=c[p];return P.active?1:L.active?-1:+P.visible-+L.visible});for(const m of t){const p=this.getWebviewPanel(m);if(!p)continue;const P=c[m];p._updateViewState({active:P.active,visible:P.visible,viewColumn:I.ViewColumn.to(P.position)})}}async $onDidDisposeWebviewPanel(c){this.getWebviewPanel(c)?.dispose(),this._webviewPanels.delete(c),this.webviews.deleteWebview(c)}registerWebviewPanelSerializer(c,t,m){if(this._serializers.has(t))throw new Error(`Serializer for '${t}' already registered`);return this._serializers.set(t,{serializer:m,extension:c}),this._proxy.$registerSerializer(t,{serializeBuffersForPostMessage:(0,A.shouldSerializeBuffersForPostMessage)(c)}),new C.Disposable(()=>{this._serializers.delete(t),this._proxy.$unregisterSerializer(t)})}async $deserializeWebviewPanel(c,t,m,p){const P=this._serializers.get(t);if(!P)throw new Error(`No serializer found for '${t}'`);const{serializer:L,extension:V}=P,H=this.webviews.createNewWebview(c,m.webviewOptions,V),W=this.createNewWebviewPanel(c,t,m.title,p,m.panelOptions,H,m.active);await L.deserializeWebviewPanel(W,m.state)}createNewWebviewPanel(c,t,m,p,P,L,V){const H=new r(c,this._proxy,L,{viewType:t,title:m,viewColumn:p,panelOptions:P,active:V});return this._webviewPanels.set(c,H),H}getWebviewPanel(c){return this._webviewPanels.get(c)}}e.ExtHostWebviewPanels=a;function d(l){return{enableFindWidget:l.enableFindWidget,retainContextWhenHidden:l.retainContextWhenHidden}}});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[229],Ie([1,0,5,7,59,8,4,6]),function(te,e,n,k,_,M,I,A){"use strict";var S,C,R,y,f,v,h,i,o,u,b;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewViews=void 0;class E extends k.Disposable{constructor(s,r,a,d,l,c){super(),S.set(this,void 0),C.set(this,void 0),R.set(this,void 0),y.set(this,void 0),f.set(this,!1),v.set(this,void 0),h.set(this,void 0),i.set(this,void 0),o.set(this,void 0),u.set(this,this._register(new n.Emitter)),this.onDidChangeVisibility=Ae(this,u,"f").event,b.set(this,this._register(new n.Emitter)),this.onDidDispose=Ae(this,b,"f").event,Ye(this,R,a,"f"),Ye(this,h,d,"f"),Ye(this,S,s,"f"),Ye(this,C,r,"f"),Ye(this,y,l,"f"),Ye(this,v,c,"f")}dispose(){Ae(this,f,"f")||(Ye(this,f,!0,"f"),Ae(this,b,"f").fire(),Ae(this,y,"f").dispose(),super.dispose())}get title(){return this.assertNotDisposed(),Ae(this,h,"f")}set title(s){this.assertNotDisposed(),Ae(this,h,"f")!==s&&(Ye(this,h,s,"f"),Ae(this,C,"f").$setWebviewViewTitle(Ae(this,S,"f"),s))}get description(){return this.assertNotDisposed(),Ae(this,i,"f")}set description(s){this.assertNotDisposed(),Ae(this,i,"f")!==s&&(Ye(this,i,s,"f"),Ae(this,C,"f").$setWebviewViewDescription(Ae(this,S,"f"),s))}get visible(){return Ae(this,v,"f")}get webview(){return Ae(this,y,"f")}get viewType(){return Ae(this,R,"f")}_setVisible(s){s===Ae(this,v,"f")||Ae(this,f,"f")||(Ye(this,v,s,"f"),Ae(this,u,"f").fire())}get badge(){return this.assertNotDisposed(),Ae(this,o,"f")}set badge(s){this.assertNotDisposed(),!(s?.value===Ae(this,o,"f")?.value&&s?.tooltip===Ae(this,o,"f")?.tooltip)&&(Ye(this,o,M.ViewBadge.from(s),"f"),Ae(this,C,"f").$setWebviewViewBadge(Ae(this,S,"f"),s))}show(s){this.assertNotDisposed(),Ae(this,C,"f").$show(Ae(this,S,"f"),!!s)}assertNotDisposed(){if(Ae(this,f,"f"))throw new Error("Webview is disposed")}}S=new WeakMap,C=new WeakMap,R=new WeakMap,y=new WeakMap,f=new WeakMap,v=new WeakMap,h=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,b=new WeakMap;class g{constructor(s,r){this._extHostWebview=r,this._viewProviders=new Map,this._webviewViews=new Map,this._proxy=s.getProxy(I.MainContext.MainThreadWebviewViews)}registerWebviewViewProvider(s,r,a,d){if(this._viewProviders.has(r))throw new Error(`View provider for '${r}' already registered`);return this._viewProviders.set(r,{provider:a,extension:s}),this._proxy.$registerWebviewViewProvider((0,_.toExtensionData)(s),r,{retainContextWhenHidden:d?.retainContextWhenHidden,serializeBuffersForPostMessage:(0,_.shouldSerializeBuffersForPostMessage)(s)}),new A.Disposable(()=>{this._viewProviders.delete(r),this._proxy.$unregisterWebviewViewProvider(r)})}async $resolveWebviewView(s,r,a,d,l){const c=this._viewProviders.get(r);if(!c)throw new Error(`No view provider found for '${r}'`);const{provider:t,extension:m}=c,p=this._extHostWebview.createNewWebview(s,{},m),P=new E(s,this._proxy,r,a,p,!0);this._webviewViews.set(s,P),await t.resolveWebviewView(P,{state:d},l)}async $onDidChangeWebviewViewVisibility(s,r){this.getWebviewView(s)._setVisible(r)}async $disposeWebviewView(s){const r=this.getWebviewView(s);this._webviewViews.delete(s),r.dispose(),this._extHostWebview.deleteWebview(s)}getWebviewView(s){const r=this._webviewViews.get(s);if(!r)throw new Error("No webview found");return r}}e.ExtHostWebviewViews=g}),define(De[100],Ie([1,0,5,4,2,13,10,3,14]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWindow=e.ExtHostWindow=void 0;let C=class nn{get state(){return this._state}constructor(y){this._onDidChangeWindowState=new n.Emitter,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=nn.InitialState,this._proxy=y.getProxy(k.MainContext.MainThreadWindow),this._proxy.$getWindowVisibility().then(f=>this.$onDidChangeWindowFocus(f))}$onDidChangeWindowFocus(y){y!==this._state.focused&&(this._state={...this._state,focused:y},this._onDidChangeWindowState.fire(this._state))}openUri(y,f){let v;if(typeof y=="string"){v=y;try{y=_.URI.parse(y)}catch{return Promise.reject(`Invalid uri - '${y}'`)}}return(0,I.isFalsyOrWhitespace)(y.scheme)?Promise.reject("Invalid scheme - cannot be empty"):y.scheme===M.Schemas.command?Promise.reject(`Invalid scheme '${y.scheme}'`):this._proxy.$openUri(y,v,f)}async asExternalUri(y,f){if((0,I.isFalsyOrWhitespace)(y.scheme))return Promise.reject("Invalid scheme - cannot be empty");const v=await this._proxy.$asExternalUri(y,f);return _.URI.from(v)}};C.InitialState={focused:!0},C=Ve([We(0,S.IExtHostRpcService)],C),e.ExtHostWindow=C,e.IExtHostWindow=(0,A.createDecorator)("IExtHostWindow")}),define(De[230],Ie([1,0,199,27,14]),function(te,e,n,k,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostConsoleForwarder=void 0;let M=class extends n.AbstractExtHostConsoleForwarder{constructor(A,S){super(A,S)}_nativeConsoleLogMessage(A,S,C){S.apply(console,C)}};M=Ve([We(0,_.IExtHostRpcService),We(1,k.IExtHostInitDataService)],M),e.ExtHostConsoleForwarder=M}),define(De[231],Ie([1,0,15,24,20,11,5,7,121,193,43]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.RPCProtocol=e.ResponsiveState=e.RequestInitiator=e.parseJsonAndRestoreBufferRefs=e.stringifyJsonWithBufferRefs=void 0;function f(P,L){try{return JSON.stringify(P,L)}catch{return"null"}}const v="$$ref$$",h={[v]:-1};class i{constructor(L,V){this.jsonString=L,this.referencedBuffers=V}}function o(P,L=null,V=!1){const H=[];return{jsonString:(V?f:JSON.stringify)(P,(T,F)=>{if(typeof F>"u")return h;if(typeof F=="object"){if(F instanceof k.VSBuffer){const O=H.push(F)-1;return{[v]:O}}if(L)return L(T,F)}return F}),referencedBuffers:H}}e.stringifyJsonWithBufferRefs=o;function u(P,L,V){return JSON.parse(P,(H,W)=>{if(W){const T=W[v];if(typeof T=="number")return L[T];if(V&&W.$mid===1)return V.transformIncoming(W)}return W})}e.parseJsonAndRestoreBufferRefs=u;function b(P,L){return JSON.stringify(P,L)}function E(P){return P?(L,V)=>V&&V.$mid===1?P.transformOutgoing(V):V:null}var g;(function(P){P[P.LocalSide=0]="LocalSide",P[P.OtherSide=1]="OtherSide"})(g=e.RequestInitiator||(e.RequestInitiator={}));var w;(function(P){P[P.Responsive=0]="Responsive",P[P.Unresponsive=1]="Unresponsive"})(w=e.ResponsiveState||(e.ResponsiveState={}));const s=()=>{},r=Symbol.for("rpcProtocol"),a=Symbol.for("rpcProxy");class d extends A.Disposable{constructor(L,V=null,H=null){super(),this[y]=!0,this._onDidChangeResponsiveState=this._register(new I.Emitter),this.onDidChangeResponsiveState=this._onDidChangeResponsiveState.event,this._protocol=L,this._logger=V,this._uriTransformer=H,this._uriReplacer=E(this._uriTransformer),this._isDisposed=!1,this._locals=[],this._proxies=[];for(let W=0,T=R.ProxyIdentifier.count;W<T;W++)this._locals[W]=null,this._proxies[W]=null;this._lastMessageId=0,this._cancelInvokedHandlers=Object.create(null),this._pendingRPCReplies={},this._responsiveState=0,this._unacknowledgedCount=0,this._unresponsiveTime=0,this._asyncCheckUresponsive=this._register(new n.RunOnceScheduler(()=>this._checkUnresponsive(),1e3)),this._protocol.onMessage(W=>this._receiveOneMessage(W))}dispose(){this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(L=>{this._pendingRPCReplies[L].resolveErr(M.canceled())})}drain(){return typeof this._protocol.drain=="function"?this._protocol.drain():Promise.resolve()}_onWillSendRequest(L){this._unacknowledgedCount===0&&(this._unresponsiveTime=Date.now()+d.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}_onDidReceiveAcknowledge(L){this._unresponsiveTime=Date.now()+d.UNRESPONSIVE_TIME,this._unacknowledgedCount--,this._unacknowledgedCount===0&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}_checkUnresponsive(){this._unacknowledgedCount!==0&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}_setResponsiveState(L){this._responsiveState!==L&&(this._responsiveState=L,this._onDidChangeResponsiveState.fire(this._responsiveState))}get responsiveState(){return this._responsiveState}transformIncomingURIs(L){return this._uriTransformer?(0,S.transformIncomingURIs)(L,this._uriTransformer):L}getProxy(L){const{nid:V,sid:H}=L;return this._proxies[V]||(this._proxies[V]=this._createProxy(V,H)),this._proxies[V]}_createProxy(L,V){const H={get:(W,T)=>(typeof T=="string"&&!W[T]&&T.charCodeAt(0)===36&&(W[T]=(...F)=>this._remoteCall(L,T,F)),T===a?V:W[T])};return new Proxy(Object.create(null),H)}set(L,V){return this._locals[L.nid]=V,V}assertRegistered(L){for(let V=0,H=L.length;V<H;V++){const W=L[V];if(!this._locals[W.nid])throw new Error(`Missing proxy instance ${W.sid}`)}}_receiveOneMessage(L){if(this._isDisposed)return;const V=L.byteLength,H=l.read(L,0),W=H.readUInt8(),T=H.readUInt32();switch(W){case 1:case 2:{let{rpcId:F,method:O,args:B}=t.deserializeRequestJSONArgs(H);this._uriTransformer&&(B=(0,S.transformIncomingURIs)(B,this._uriTransformer)),this._receiveRequest(V,T,F,O,B,W===2);break}case 3:case 4:{let{rpcId:F,method:O,args:B}=t.deserializeRequestMixedArgs(H);this._uriTransformer&&(B=(0,S.transformIncomingURIs)(B,this._uriTransformer)),this._receiveRequest(V,T,F,O,B,W===4);break}case 5:{this._logger?.logIncoming(V,T,0,"ack"),this._onDidReceiveAcknowledge(T);break}case 6:{this._receiveCancel(V,T);break}case 7:{this._receiveReply(V,T,void 0);break}case 9:{let F=t.deserializeReplyOKJSON(H);this._uriTransformer&&(F=(0,S.transformIncomingURIs)(F,this._uriTransformer)),this._receiveReply(V,T,F);break}case 10:{const F=t.deserializeReplyOKJSONWithBuffers(H,this._uriTransformer);this._receiveReply(V,T,F);break}case 8:{const F=t.deserializeReplyOKVSBuffer(H);this._receiveReply(V,T,F);break}case 11:{let F=t.deserializeReplyErrError(H);this._uriTransformer&&(F=(0,S.transformIncomingURIs)(F,this._uriTransformer)),this._receiveReplyErr(V,T,F);break}case 12:{this._receiveReplyErr(V,T,void 0);break}default:console.error("received unexpected message"),console.error(L)}}_receiveRequest(L,V,H,W,T,F){this._logger?.logIncoming(L,V,1,`receiveRequest ${(0,R.getStringIdentifierForProxy)(H)}.${W}(`,T);const O=String(V);let B,z;if(F){const G=new _.CancellationTokenSource;T.push(G.token),B=this._invokeHandler(H,W,T),z=()=>G.cancel()}else B=this._invokeHandler(H,W,T),z=s;this._cancelInvokedHandlers[O]=z;const j=t.serializeAcknowledged(V);this._logger?.logOutgoing(j.byteLength,V,1,"ack"),this._protocol.send(j),B.then(G=>{delete this._cancelInvokedHandlers[O];const Z=t.serializeReplyOK(V,G,this._uriReplacer);this._logger?.logOutgoing(Z.byteLength,V,1,"reply:",G),this._protocol.send(Z)},G=>{delete this._cancelInvokedHandlers[O];const Z=t.serializeReplyErr(V,G);this._logger?.logOutgoing(Z.byteLength,V,1,"replyErr:",G),this._protocol.send(Z)})}_receiveCancel(L,V){this._logger?.logIncoming(L,V,1,"receiveCancel");const H=String(V);this._cancelInvokedHandlers[H]?.()}_receiveReply(L,V,H){this._logger?.logIncoming(L,V,0,"receiveReply:",H);const W=String(V);if(!this._pendingRPCReplies.hasOwnProperty(W))return;const T=this._pendingRPCReplies[W];delete this._pendingRPCReplies[W],T.resolveOk(H)}_receiveReplyErr(L,V,H){this._logger?.logIncoming(L,V,0,"receiveReplyErr:",H);const W=String(V);if(!this._pendingRPCReplies.hasOwnProperty(W))return;const T=this._pendingRPCReplies[W];delete this._pendingRPCReplies[W];let F;H&&(H.$isError?(F=new Error,F.name=H.name,F.message=H.message,F.stack=H.stack):F=H),T.resolveErr(F)}_invokeHandler(L,V,H){try{return Promise.resolve(this._doInvokeHandler(L,V,H))}catch(W){return Promise.reject(W)}}_doInvokeHandler(L,V,H){const W=this._locals[L];if(!W)throw new Error("Unknown actor "+(0,R.getStringIdentifierForProxy)(L));const T=W[V];if(typeof T!="function")throw new Error("Unknown method "+V+" on actor "+(0,R.getStringIdentifierForProxy)(L));return T.apply(W,H)}_remoteCall(L,V,H){if(this._isDisposed)return new C.CanceledLazyPromise;let W=null;if(H.length>0&&_.CancellationToken.isCancellationToken(H[H.length-1])&&(W=H.pop()),W&&W.isCancellationRequested)return Promise.reject(M.canceled());const T=t.serializeRequestArguments(H,this._uriReplacer),F=++this._lastMessageId,O=String(F),B=new C.LazyPromise;W&&W.onCancellationRequested(()=>{const j=t.serializeCancel(F);this._logger?.logOutgoing(j.byteLength,F,0,"cancel"),this._protocol.send(t.serializeCancel(F))}),this._pendingRPCReplies[O]=B,this._onWillSendRequest(F);const z=t.serializeRequest(F,L,V,T,!!W);return this._logger?.logOutgoing(z.byteLength,F,0,`request: ${(0,R.getStringIdentifierForProxy)(L)}.${V}(`,H),this._protocol.send(z),B}}e.RPCProtocol=d,y=r,d.UNRESPONSIVE_TIME=3*1e3;class l{static alloc(L,V,H){const W=new l(k.VSBuffer.alloc(H+1+4),0);return W.writeUInt8(L),W.writeUInt32(V),W}static read(L,V){return new l(L,V)}get buffer(){return this._buff}constructor(L,V){this._buff=L,this._offset=V}static sizeUInt8(){return 1}writeUInt8(L){this._buff.writeUInt8(L,this._offset),this._offset+=1}readUInt8(){const L=this._buff.readUInt8(this._offset);return this._offset+=1,L}writeUInt32(L){this._buff.writeUInt32BE(L,this._offset),this._offset+=4}readUInt32(){const L=this._buff.readUInt32BE(this._offset);return this._offset+=4,L}static sizeShortString(L){return 1+L.byteLength}writeShortString(L){this._buff.writeUInt8(L.byteLength,this._offset),this._offset+=1,this._buff.set(L,this._offset),this._offset+=L.byteLength}readShortString(){const L=this._buff.readUInt8(this._offset);this._offset+=1;const H=this._buff.slice(this._offset,this._offset+L).toString();return this._offset+=L,H}static sizeLongString(L){return 4+L.byteLength}writeLongString(L){this._buff.writeUInt32BE(L.byteLength,this._offset),this._offset+=4,this._buff.set(L,this._offset),this._offset+=L.byteLength}readLongString(){const L=this._buff.readUInt32BE(this._offset);this._offset+=4;const H=this._buff.slice(this._offset,this._offset+L).toString();return this._offset+=L,H}writeBuffer(L){this._buff.writeUInt32BE(L.byteLength,this._offset),this._offset+=4,this._buff.set(L,this._offset),this._offset+=L.byteLength}static sizeVSBuffer(L){return 4+L.byteLength}writeVSBuffer(L){this._buff.writeUInt32BE(L.byteLength,this._offset),this._offset+=4,this._buff.set(L,this._offset),this._offset+=L.byteLength}readVSBuffer(){const L=this._buff.readUInt32BE(this._offset);this._offset+=4;const V=this._buff.slice(this._offset,this._offset+L);return this._offset+=L,V}static sizeMixedArray(L){let V=0;V+=1;for(let H=0,W=L.length;H<W;H++){const T=L[H];switch(V+=1,T.type){case 1:V+=this.sizeLongString(T.value);break;case 2:V+=this.sizeVSBuffer(T.value);break;case 3:V+=this.sizeUInt32,V+=this.sizeLongString(T.value);for(let F=0;F<T.buffers.length;++F)V+=this.sizeVSBuffer(T.buffers[F]);break;case 4:break}}return V}writeMixedArray(L){this._buff.writeUInt8(L.length,this._offset),this._offset+=1;for(let V=0,H=L.length;V<H;V++){const W=L[V];switch(W.type){case 1:this.writeUInt8(1),this.writeLongString(W.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(W.value);break;case 3:this.writeUInt8(3),this.writeUInt32(W.buffers.length),this.writeLongString(W.value);for(let T=0;T<W.buffers.length;++T)this.writeBuffer(W.buffers[T]);break;case 4:this.writeUInt8(4);break}}}readMixedArray(){const L=this._buff.readUInt8(this._offset);this._offset+=1;const V=new Array(L);for(let H=0;H<L;H++)switch(this.readUInt8()){case 1:V[H]=this.readLongString();break;case 2:V[H]=this.readVSBuffer();break;case 3:{const T=this.readUInt32(),F=this.readLongString(),O=[];for(let B=0;B<T;++B)O.push(this.readVSBuffer());V[H]=new R.SerializableObjectWithBuffers(u(F,O,null));break}case 4:V[H]=void 0;break}return V}}l.sizeUInt32=4;var c;(function(P){P[P.Simple=0]="Simple",P[P.Mixed=1]="Mixed"})(c||(c={}));class t{static _useMixedArgSerialization(L){for(let V=0,H=L.length;V<H;V++)if(L[V]instanceof k.VSBuffer||L[V]instanceof R.SerializableObjectWithBuffers||typeof L[V]>"u")return!0;return!1}static serializeRequestArguments(L,V){if(this._useMixedArgSerialization(L)){const H=[];for(let W=0,T=L.length;W<T;W++){const F=L[W];if(F instanceof k.VSBuffer)H[W]={type:2,value:F};else if(typeof F>"u")H[W]={type:4};else if(F instanceof R.SerializableObjectWithBuffers){const{jsonString:O,referencedBuffers:B}=o(F.value,V);H[W]={type:3,value:k.VSBuffer.fromString(O),buffers:B}}else H[W]={type:1,value:k.VSBuffer.fromString(b(F,V))}}return{type:1,args:H}}return{type:0,args:b(L,V)}}static serializeRequest(L,V,H,W,T){switch(W.type){case 0:return this._requestJSONArgs(L,V,H,W.args,T);case 1:return this._requestMixedArgs(L,V,H,W.args,T)}}static _requestJSONArgs(L,V,H,W,T){const F=k.VSBuffer.fromString(H),O=k.VSBuffer.fromString(W);let B=0;B+=l.sizeUInt8(),B+=l.sizeShortString(F),B+=l.sizeLongString(O);const z=l.alloc(T?2:1,L,B);return z.writeUInt8(V),z.writeShortString(F),z.writeLongString(O),z.buffer}static deserializeRequestJSONArgs(L){const V=L.readUInt8(),H=L.readShortString(),W=L.readLongString();return{rpcId:V,method:H,args:JSON.parse(W)}}static _requestMixedArgs(L,V,H,W,T){const F=k.VSBuffer.fromString(H);let O=0;O+=l.sizeUInt8(),O+=l.sizeShortString(F),O+=l.sizeMixedArray(W);const B=l.alloc(T?4:3,L,O);return B.writeUInt8(V),B.writeShortString(F),B.writeMixedArray(W),B.buffer}static deserializeRequestMixedArgs(L){const V=L.readUInt8(),H=L.readShortString(),W=L.readMixedArray(),T=new Array(W.length);for(let F=0,O=W.length;F<O;F++){const B=W[F];typeof B=="string"?T[F]=JSON.parse(B):T[F]=B}return{rpcId:V,method:H,args:T}}static serializeAcknowledged(L){return l.alloc(5,L,0).buffer}static serializeCancel(L){return l.alloc(6,L,0).buffer}static serializeReplyOK(L,V,H){if(typeof V>"u")return this._serializeReplyOKEmpty(L);if(V instanceof k.VSBuffer)return this._serializeReplyOKVSBuffer(L,V);if(V instanceof R.SerializableObjectWithBuffers){const{jsonString:W,referencedBuffers:T}=o(V.value,H,!0);return this._serializeReplyOKJSONWithBuffers(L,W,T)}else return this._serializeReplyOKJSON(L,f(V,H))}static _serializeReplyOKEmpty(L){return l.alloc(7,L,0).buffer}static _serializeReplyOKVSBuffer(L,V){let H=0;H+=l.sizeVSBuffer(V);const W=l.alloc(8,L,H);return W.writeVSBuffer(V),W.buffer}static deserializeReplyOKVSBuffer(L){return L.readVSBuffer()}static _serializeReplyOKJSON(L,V){const H=k.VSBuffer.fromString(V);let W=0;W+=l.sizeLongString(H);const T=l.alloc(9,L,W);return T.writeLongString(H),T.buffer}static _serializeReplyOKJSONWithBuffers(L,V,H){const W=k.VSBuffer.fromString(V);let T=0;T+=l.sizeUInt32,T+=l.sizeLongString(W);for(const O of H)T+=l.sizeVSBuffer(O);const F=l.alloc(10,L,T);F.writeUInt32(H.length),F.writeLongString(W);for(const O of H)F.writeBuffer(O);return F.buffer}static deserializeReplyOKJSON(L){const V=L.readLongString();return JSON.parse(V)}static deserializeReplyOKJSONWithBuffers(L,V){const H=L.readUInt32(),W=L.readLongString(),T=[];for(let F=0;F<H;++F)T.push(L.readVSBuffer());return new R.SerializableObjectWithBuffers(u(W,T,V))}static serializeReplyErr(L,V){const H=V?f(M.transformErrorForSerialization(V),null):void 0;if(typeof H!="string")return this._serializeReplyErrEmpty(L);const W=k.VSBuffer.fromString(H);let T=0;T+=l.sizeLongString(W);const F=l.alloc(11,L,T);return F.writeLongString(W),F.buffer}static deserializeReplyErrError(L){const V=L.readLongString();return JSON.parse(V)}static _serializeReplyErrEmpty(L){return l.alloc(12,L,0).buffer}}var m;(function(P){P[P.RequestJSONArgs=1]="RequestJSONArgs",P[P.RequestJSONArgsWithCancellation=2]="RequestJSONArgsWithCancellation",P[P.RequestMixedArgs=3]="RequestMixedArgs",P[P.RequestMixedArgsWithCancellation=4]="RequestMixedArgsWithCancellation",P[P.Acknowledged=5]="Acknowledged",P[P.Cancel=6]="Cancel",P[P.ReplyOKEmpty=7]="ReplyOKEmpty",P[P.ReplyOKVSBuffer=8]="ReplyOKVSBuffer",P[P.ReplyOKJSON=9]="ReplyOKJSON",P[P.ReplyOKJSONWithBuffers=10]="ReplyOKJSONWithBuffers",P[P.ReplyErrError=11]="ReplyErrError",P[P.ReplyErrEmpty=12]="ReplyErrEmpty"})(m||(m={}));var p;(function(P){P[P.String=1]="String",P[P.VSBuffer=2]="VSBuffer",P[P.SerializedObjectWithBuffers=3]="SerializedObjectWithBuffers",P[P.Undefined=4]="Undefined"})(p||(p={}))}),define(De[232],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NestedWorker=void 0;const n=function(M){const I=A=>{self.removeEventListener("message",I);const S=A.data;Object.defineProperties(self,{postMessage:{value(C,R){S.postMessage(C,R)}},onmessage:{get(){return S.onmessage},set(C){S.onmessage=C}}}),S.addEventListener("message",C=>{self.dispatchEvent(new MessageEvent("message",{data:C.data}))}),S.start(),self.Worker=class{constructor(){throw new TypeError("Nested workers from within nested worker are NOT supported.")}},importScripts(M)};self.addEventListener("message",I)}.toString();class k extends EventTarget{constructor(M,I,A){super(),this.onmessage=null,this.onmessageerror=null,this.onerror=null;const S=`((${n})('${I}'))`,C=new Blob([S],{type:"application/javascript"}),R=URL.createObjectURL(C),y=new MessageChannel,f=R,v={type:"_newWorker",id:f,port:y.port2,url:R,options:A};M(v,[y.port2]),this.postMessage=y.port1.postMessage.bind(y.port1),this.terminate=()=>{M({type:"_terminateWorker",id:f}),URL.revokeObjectURL(R),y.port1.close(),y.port2.close()},Object.defineProperties(this,{onmessage:{get(){return y.port1.onmessage},set(h){y.port1.onmessage=h}},onmessageerror:{get(){return y.port1.onmessageerror},set(h){y.port1.onmessageerror=h}}}),y.port1.addEventListener("messageerror",h=>{const i=new MessageEvent("messageerror",{data:h.data});this.dispatchEvent(i)}),y.port1.addEventListener("message",h=>{const i=new MessageEvent("message",{data:h.data});this.dispatchEvent(i)}),y.port1.start()}}e.NestedWorker=k}),define(De[233],Ie([1,0,5,30,41,3,36,11,15]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ACTIVE_OUTPUT_CHANNEL_CONTEXT=e.registerLogChannel=e.Extensions=e.OutputChannelUpdateMode=e.IOutputService=e.CONTEXT_OUTPUT_SCROLL_LOCK=e.CONTEXT_ACTIVE_LOG_OUTPUT=e.CONTEXT_IN_OUTPUT=e.MAX_OUTPUT_LENGTH=e.OUTPUT_SERVICE_ID=e.OUTPUT_VIEW_ID=e.LOG_MODE_ID=e.LOG_SCHEME=e.LOG_MIME=e.OUTPUT_MODE_ID=e.OUTPUT_SCHEME=e.OUTPUT_MIME=void 0,e.OUTPUT_MIME="text/x-code-output",e.OUTPUT_SCHEME="output",e.OUTPUT_MODE_ID="Log",e.LOG_MIME="text/x-code-log-output",e.LOG_SCHEME="log",e.LOG_MODE_ID="log",e.OUTPUT_VIEW_ID="workbench.panel.output",e.OUTPUT_SERVICE_ID="outputService",e.MAX_OUTPUT_LENGTH=1e4*100,e.CONTEXT_IN_OUTPUT=new _.RawContextKey("inOutput",!1),e.CONTEXT_ACTIVE_LOG_OUTPUT=new _.RawContextKey("activeLogOutput",!1),e.CONTEXT_OUTPUT_SCROLL_LOCK=new _.RawContextKey("outputView.scrollLock",!1),e.IOutputService=(0,M.createDecorator)(e.OUTPUT_SERVICE_ID);var C;(function(v){v[v.Append=1]="Append",v[v.Replace=2]="Replace",v[v.Clear=3]="Clear"})(C=e.OutputChannelUpdateMode||(e.OutputChannelUpdateMode={})),e.Extensions={OutputChannels:"workbench.contributions.outputChannels"};class R{constructor(){this.channels=new Map,this._onDidRegisterChannel=new n.Emitter,this.onDidRegisterChannel=this._onDidRegisterChannel.event,this._onDidRemoveChannel=new n.Emitter,this.onDidRemoveChannel=this._onDidRemoveChannel.event}registerChannel(h){this.channels.has(h.id)||(this.channels.set(h.id,h),this._onDidRegisterChannel.fire(h.id))}getChannels(){const h=[];return this.channels.forEach(i=>h.push(i)),h}getChannel(h){return this.channels.get(h)}removeChannel(h){this.channels.delete(h),this._onDidRemoveChannel.fire(h)}}k.Registry.add(e.Extensions.OutputChannels,new R);function y(v,h,i,o,u){return(0,S.createCancelablePromise)(async b=>{await(0,I.whenProviderRegistered)(i,o);const E=k.Registry.as(e.Extensions.OutputChannels);try{await f(i,1,o,u,b),E.registerChannel({id:v,label:h,file:i,log:!0})}catch(g){(0,A.isCancellationError)(g)||u.error("Error while registering log channel",i.toString(),(0,A.getErrorMessage)(g))}})}e.registerLogChannel=y;async function f(v,h,i,o,u){if(!await i.exists(v)){if(u.isCancellationRequested)throw new A.CancellationError;if(h>10)throw new Error("Timed out while waiting for file to be created");o.debug("[Registering Log Channel] File does not exist. Waiting for 1s to retry.",v.toString()),await(0,S.timeout)(1e3,u),await f(v,h+1,i,o,u)}}e.ACTIVE_OUTPUT_CHANNEL_CONTEXT=new _.RawContextKey("activeOutputChannel","")}),define(De[101],Ie([1,0,4,3,14,26,12,233,57,27,37,115,24,9,36,5,7]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostOutputService=e.ExtHostOutputService=void 0;class u extends I.AbstractMessageLogger{get disposed(){return this._disposed}constructor(w,s,r,a,d){super(),this.id=w,this.name=s,this.logger=r,this.proxy=a,this.extension=d,this.offset=0,this._disposed=!1,this.visible=!1,this.setLevel(r.getLevel()),this._register(r.onDidChangeLogLevel(l=>this.setLevel(l)))}get logLevel(){return this.getLevel()}appendLine(w){this.append(w+`
`)}append(w){this.info(w)}clear(){const w=this.offset;this.logger.flush(),this.proxy.$update(this.id,A.OutputChannelUpdateMode.Clear,w)}replace(w){const s=this.offset;this.info(w),this.proxy.$update(this.id,A.OutputChannelUpdateMode.Replace,s),this.visible&&this.logger.flush()}show(w,s){this.logger.flush(),this.proxy.$reveal(this.id,!!(typeof w=="boolean"?w:s))}hide(){this.proxy.$close(this.id)}log(w,s){this.offset+=f.VSBuffer.fromString(s).byteLength,(0,I.log)(this.logger,w,s),this.visible&&(this.logger.flush(),this.proxy.$update(this.id,A.OutputChannelUpdateMode.Append))}dispose(){super.dispose(),this._disposed||(this.proxy.$dispose(this.id),this._disposed=!0)}}class b extends u{appendLine(w){this.append(w)}}let E=class{constructor(w,s,r,a,d,l){this.initData=s,this.extHostFileSystem=r,this.extHostFileSystemInfo=a,this.loggerService=d,this.logService=l,this.extensionLogDirectoryPromise=new Map,this.namePool=1,this.channels=new Map,this.visibleChannelId=null,this.proxy=w.getProxy(n.MainContext.MainThreadOutputService),this.outputsLocation=this.extHostFileSystemInfo.extUri.joinPath(s.logsLocation,`output_logging_${(0,y.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"")}`)}$setVisibleChannel(w){this.visibleChannelId=w;for(const[s,r]of this.channels)r.visible=s===this.visibleChannelId}createOutputChannel(w,s,r){if(w=w.trim(),!w)throw new Error("illegal argument `name`. must not be falsy");const a=typeof s=="object"&&s.log,d=(0,v.isString)(s)?s:void 0;if((0,v.isString)(d)&&!d.trim())throw new Error("illegal argument `languageId`. must not be empty");let l;const c=this.initData.environment.extensionLogLevel?.find(([m])=>M.ExtensionIdentifier.equals(r.identifier,m))?.[1];c&&(l=(0,I.parseLogLevel)(c));const t=a?this.doCreateLogOutputChannel(w,l,r):this.doCreateOutputChannel(w,d,r);return t.then(m=>{this.channels.set(m.id,m),m.visible=m.id===this.visibleChannelId}),a?this.createExtHostLogOutputChannel(w,l??this.logService.getLevel(),t):this.createExtHostOutputChannel(w,t)}async doCreateOutputChannel(w,s,r){this.outputDirectoryPromise||(this.outputDirectoryPromise=this.extHostFileSystem.value.createDirectory(this.outputsLocation).then(()=>this.outputsLocation));const a=await this.outputDirectoryPromise,d=this.extHostFileSystemInfo.extUri.joinPath(a,`${this.namePool++}-${w.replace(/[\\/:\*\?"<>\|]/g,"")}.log`),l=this.loggerService.createLogger(d,{always:!0,donotRotate:!0,donotUseFormatters:!0}),c=await this.proxy.$register(w,d,!1,s,r.identifier.value);return new u(c,w,l,this.proxy,r)}async doCreateLogOutputChannel(w,s,r){const a=await this.createExtensionLogDirectory(r),d=this.extHostFileSystemInfo.extUri.joinPath(a,`${w.replace(/[\\/:\*\?"<>\|]/g,"")}.log`),l=this.loggerService.createLogger(d,{name:w},s),c=await this.proxy.$register(w,d,!0,void 0,r.identifier.value);return new b(c,w,l,this.proxy,r)}createExtensionLogDirectory(w){let s=this.extensionLogDirectoryPromise.get(w.identifier.value);if(!s){const r=this.extHostFileSystemInfo.extUri.joinPath(this.initData.logsLocation,w.identifier.value);this.extensionLogDirectoryPromise.set(w.identifier.value,s=(async()=>{try{await this.extHostFileSystem.value.createDirectory(r)}catch(a){if((0,h.toFileSystemProviderErrorCode)(a)!==h.FileSystemProviderErrorCode.FileExists)throw a}return r})())}return s}createExtHostOutputChannel(w,s){let r=!1;const a=()=>{if(r)throw new Error("Channel has been closed")};return{get name(){return w},append(d){a(),s.then(l=>l.append(d))},appendLine(d){a(),s.then(l=>l.appendLine(d))},clear(){a(),s.then(d=>d.clear())},replace(d){a(),s.then(l=>l.replace(d))},show(d,l){a(),s.then(c=>c.show(d,l))},hide(){a(),s.then(d=>d.hide())},dispose(){r=!0,s.then(d=>d.dispose())}}}createExtHostLogOutputChannel(w,s,r){const a=new o.DisposableStore,d=()=>{if(a.isDisposed)throw new Error("Channel has been closed")},l=a.add(new i.Emitter);return r.then(c=>{a.add(c),a.add(c.onDidChangeLogLevel(t=>{s=t,l.fire(t)}))}),{...this.createExtHostOutputChannel(w,r),get logLevel(){return s},onDidChangeLogLevel:l.event,trace(c,...t){d(),r.then(m=>m.trace(c,...t))},debug(c,...t){d(),r.then(m=>m.debug(c,...t))},info(c,...t){d(),r.then(m=>m.info(c,...t))},warn(c,...t){d(),r.then(m=>m.warn(c,...t))},error(c,...t){d(),r.then(m=>m.error(c,...t))},dispose(){a.dispose()}}}};E=Ve([We(0,_.IExtHostRpcService),We(1,C.IExtHostInitDataService),We(2,S.IExtHostConsumerFileSystem),We(3,R.IExtHostFileSystemInfo),We(4,I.ILoggerService),We(5,I.ILogService)],E),e.ExtHostOutputService=E,e.IExtHostOutputService=(0,k.createDecorator)("IExtHostOutputService")}),define(De[234],Ie([1,0,3]),function(te,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteAgentService=e.RemoteExtensionLogFileName=void 0,e.RemoteExtensionLogFileName="remoteagent",e.IRemoteAgentService=(0,n.createDecorator)("remoteAgentService")}),define(De[235],Ie([1,0,39,13,19,21,22,2,3,164,50,179,234]),function(te,e,n,k,_,M,I,A,S,C,R,y,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPathService=e.IPathService=void 0,e.IPathService=(0,S.createDecorator)("pathService");let v=class rn{constructor(i,o,u,b){this.localUserHome=i,this.remoteAgentService=o,this.environmentService=u,this.contextService=b,this.resolveOS=(async()=>(await this.remoteAgentService.getEnvironment())?.os||M.OS)(),this.resolveUserHome=(async()=>{const E=await this.remoteAgentService.getEnvironment();return this.maybeUnresolvedUserHome=E?.userHome??i})()}hasValidBasename(i,o,u){return typeof o=="string"||typeof o>"u"?this.resolveOS.then(b=>this.doHasValidBasename(i,b,o)):this.doHasValidBasename(i,o,u)}doHasValidBasename(i,o,u){return i.scheme===k.Schemas.file||i.scheme===k.Schemas.vscodeRemote?(0,n.isValidBasename)(u??(0,I.basename)(i),o===1):!0}get defaultUriScheme(){return rn.findDefaultUriScheme(this.environmentService,this.contextService)}static findDefaultUriScheme(i,o){if(i.remoteAuthority)return k.Schemas.vscodeRemote;const u=(0,C.getVirtualWorkspaceScheme)(o.getWorkspace());if(u)return u;const b=o.getWorkspace().folders[0];if(b)return b.uri.scheme;const E=o.getWorkspace().configuration;return E?E.scheme:k.Schemas.file}userHome(i){return i?.preferLocal?this.localUserHome:this.resolveUserHome}get resolvedUserHome(){return this.maybeUnresolvedUserHome}get path(){return this.resolveOS.then(i=>i===1?_.win32:_.posix)}async fileURI(i){let o="";if(await this.resolveOS===1&&(i=i.replace(/\\/g,"/")),i[0]==="/"&&i[1]==="/"){const b=i.indexOf("/",2);b===-1?(o=i.substring(2),i="/"):(o=i.substring(2,b),i=i.substring(b)||"/")}return A.URI.from({scheme:k.Schemas.file,authority:o,path:i,query:"",fragment:""})}};v=Ve([We(1,f.IRemoteAgentService),We(2,y.IWorkbenchEnvironmentService),We(3,R.IWorkspaceContextService)],v),e.AbstractPathService=v}),define(De[102],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchCompleteMessageType=e.Range=e.Position=void 0;class n{constructor(I,A){this.line=I,this.character=A}isBefore(I){return!1}isBeforeOrEqual(I){return!1}isAfter(I){return!1}isAfterOrEqual(I){return!1}isEqual(I){return!1}compareTo(I){return 0}translate(I,A){return new n(0,0)}with(I){return new n(0,0)}}e.Position=n;class k{constructor(I,A,S,C){this.isEmpty=!1,this.isSingleLine=!1,this.start=new n(I,A),this.end=new n(S,C)}contains(I){return!1}isEqual(I){return!1}intersection(I){}union(I){return new k(0,0,0,0)}with(I){return new k(0,0,0,0)}}e.Range=k;var _;(function(M){M[M.Information=1]="Information",M[M.Warning=2]="Warning"})(_=e.TextSearchCompleteMessageType||(e.TextSearchCompleteMessageType={}))}),define(De[44],Ie([1,0,16,35,23,39,10,3,19,11,102,15]),function(te,e,n,k,_,M,I,A,S,C,R,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasSiblingFn=e.hasSiblingPromiseFn=e.QueryGlobTester=e.resolvePatternsForProvider=e.SerializableFileMatch=e.isFilePatternMatch=e.isSerializedFileMatch=e.isSerializedSearchSuccess=e.isSerializedSearchComplete=e.serializeSearchError=e.deserializeSearchError=e.SearchError=e.SearchErrorCode=e.pathIncludedInQuery=e.getExcludes=e.SearchSortOrder=e.ViewMode=e.OneLineRange=e.SearchRange=e.TextSearchMatch=e.FileMatch=e.SearchCompletionExitCode=e.isProgressMessage=e.isFileMatch=e.resultIsMatch=e.QueryType=e.SearchProviderType=e.ISearchService=e.SEARCH_EXCLUDE_CONFIG=e.VIEW_ID=e.PANEL_ID=e.VIEWLET_ID=e.TextSearchCompleteMessageType=void 0,Object.defineProperty(e,"TextSearchCompleteMessageType",{enumerable:!0,get:function(){return R.TextSearchCompleteMessageType}}),e.VIEWLET_ID="workbench.view.search",e.PANEL_ID="workbench.panel.search",e.VIEW_ID="workbench.view.search",e.SEARCH_EXCLUDE_CONFIG="search.exclude";const f="\u27EA ",v=" characters skipped \u27EB",h=(f.length+v.length+5)*2;e.ISearchService=(0,A.createDecorator)("searchService");var i;(function(oe){oe[oe.file=0]="file",oe[oe.text=1]="text"})(i=e.SearchProviderType||(e.SearchProviderType={}));var o;(function(oe){oe[oe.File=1]="File",oe[oe.Text=2]="Text"})(o=e.QueryType||(e.QueryType={}));function u(oe){return!!oe.preview}e.resultIsMatch=u;function b(oe){return!!oe.resource}e.isFileMatch=b;function E(oe){return!!oe.message}e.isProgressMessage=E;var g;(function(oe){oe[oe.Normal=0]="Normal",oe[oe.NewSearchStarted=1]="NewSearchStarted"})(g=e.SearchCompletionExitCode||(e.SearchCompletionExitCode={}));class w{constructor(ce){this.resource=ce,this.results=[]}}e.FileMatch=w;class s{constructor(ce,le,fe){this.ranges=le;const Y=Array.isArray(le)?le:[le];if(fe&&fe.matchLines===1&&r(Y)){ce=(0,I.getNLines)(ce,fe.matchLines);let ge="",we=0,Fe=0;const xe=Math.floor(fe.charsPerLine/5),Xe=[];for(const ke of Y){const ye=Math.max(ke.startColumn-xe,0),Ce=ke.startColumn+fe.charsPerLine;if(ye>Fe+xe+h){const re=f+(ye-Fe)+v;ge+=re+ce.slice(ye,Ce),we+=ye-(Fe+re.length)}else ge+=ce.slice(Fe,Ce);Xe.push(new d(0,ke.startColumn-we,ke.endColumn-we)),Fe=Ce}this.preview={text:ge,matches:Array.isArray(this.ranges)?Xe:Xe[0]}}else{const ge=Array.isArray(le)?le[0].startLineNumber:le.startLineNumber;this.preview={text:ce,matches:(0,n.mapArrayOrNot)(le,we=>new a(we.startLineNumber-ge,we.startColumn,we.endLineNumber-ge,we.endColumn))}}}}e.TextSearchMatch=s;function r(oe){const ce=oe[0].startLineNumber;for(const le of oe)if(le.startLineNumber!==ce||le.endLineNumber!==ce)return!1;return!0}class a{constructor(ce,le,fe,Y){this.startLineNumber=ce,this.startColumn=le,this.endLineNumber=fe,this.endColumn=Y}}e.SearchRange=a;class d extends a{constructor(ce,le,fe){super(ce,le,ce,fe)}}e.OneLineRange=d;var l;(function(oe){oe.List="list",oe.Tree="tree"})(l=e.ViewMode||(e.ViewMode={}));var c;(function(oe){oe.Default="default",oe.FileNames="fileNames",oe.Type="type",oe.Modified="modified",oe.CountDescending="countDescending",oe.CountAscending="countAscending"})(c=e.SearchSortOrder||(e.SearchSortOrder={}));function t(oe,ce=!0){const le=oe&&oe.files&&oe.files.exclude,fe=ce&&oe&&oe.search&&oe.search.exclude;if(!le&&!fe)return;if(!le||!fe)return le||fe;let Y=Object.create(null);return Y=_.mixin(Y,_.deepClone(le)),Y=_.mixin(Y,_.deepClone(fe),!0),Y}e.getExcludes=t;function m(oe,ce){return oe.excludePattern&&k.match(oe.excludePattern,ce)?!1:oe.includePattern||oe.usingSearchPaths?oe.includePattern&&k.match(oe.includePattern,ce)?!0:oe.usingSearchPaths?!!oe.folderQueries&&oe.folderQueries.some(le=>{const fe=le.folder.fsPath;if(M.isEqualOrParent(ce,fe)){const Y=S.relative(fe,ce);return!le.includePattern||!!k.match(le.includePattern,Y)}else return!1}):!1:!0}e.pathIncludedInQuery=m;var p;(function(oe){oe[oe.unknownEncoding=1]="unknownEncoding",oe[oe.regexParseError=2]="regexParseError",oe[oe.globParseError=3]="globParseError",oe[oe.invalidLiteral=4]="invalidLiteral",oe[oe.rgProcessError=5]="rgProcessError",oe[oe.other=6]="other",oe[oe.canceled=7]="canceled"})(p=e.SearchErrorCode||(e.SearchErrorCode={}));class P extends Error{constructor(ce,le){super(ce),this.code=le}}e.SearchError=P;function L(oe){const ce=oe.message;if((0,C.isCancellationError)(oe))return new P(ce,p.canceled);try{const le=JSON.parse(ce);return new P(le.message,le.code)}catch{return new P(ce,p.other)}}e.deserializeSearchError=L;function V(oe){const ce={message:oe.message,code:oe.code};return new Error(JSON.stringify(ce))}e.serializeSearchError=V;function H(oe){return oe.type==="error"?!0:oe.type==="success"}e.isSerializedSearchComplete=H;function W(oe){return oe.type==="success"}e.isSerializedSearchSuccess=W;function T(oe){return!!oe.path}e.isSerializedFileMatch=T;function F(oe,ce){const le=oe.searchPath?oe.searchPath:oe.relativePath;return(0,I.fuzzyContains)(le,ce)}e.isFilePatternMatch=F;class O{constructor(ce){this.path=ce,this.results=[]}addMatch(ce){this.results.push(ce)}serialize(){return{path:this.path,results:this.results,numMatches:this.results.length}}}e.SerializableFileMatch=O;function B(oe,ce){const le={...oe||{},...ce||{}};return Object.keys(le).filter(fe=>{const Y=le[fe];return typeof Y=="boolean"&&Y})}e.resolvePatternsForProvider=B;class z{constructor(ce,le){this._parsedIncludeExpression=null,this._excludeExpression={...ce.excludePattern||{},...le.excludePattern||{}},this._parsedExcludeExpression=k.parse(this._excludeExpression);let fe=ce.includePattern;le.includePattern&&(fe?fe={...fe,...le.includePattern}:fe=le.includePattern),fe&&(this._parsedIncludeExpression=k.parse(fe))}matchesExcludesSync(ce,le,fe){return!!(this._parsedExcludeExpression&&this._parsedExcludeExpression(ce,le,fe))}includedInQuerySync(ce,le,fe){return!(this._parsedExcludeExpression&&this._parsedExcludeExpression(ce,le,fe)||this._parsedIncludeExpression&&!this._parsedIncludeExpression(ce,le,fe))}includedInQuery(ce,le,fe){const Y=this._parsedExcludeExpression(ce,le,fe),ge=()=>this._parsedIncludeExpression?!!this._parsedIncludeExpression(ce,le,fe):!0;return(0,y.isThenable)(Y)?Y.then(we=>we?!1:ge()):ge()}hasSiblingExcludeClauses(){return j(this._excludeExpression)}}e.QueryGlobTester=z;function j(oe){for(const ce in oe)if(typeof oe[ce]!="boolean")return!0;return!1}function G(oe){if(!oe)return;let ce;return le=>(ce||(ce=(oe()||Promise.resolve([])).then(fe=>fe?he(fe):{})),ce.then(fe=>!!fe[le]))}e.hasSiblingPromiseFn=G;function Z(oe){if(!oe)return;let ce;return le=>{if(!ce){const fe=oe();ce=fe?he(fe):{}}return!!ce[le]}}e.hasSiblingFn=Z;function he(oe){const ce={};for(const le of oe)ce[le]=!0;return ce}}),define(De[31],Ie([1,0,16,15,20,5,7,46,13,109,22,10,9,2,138,3,12,153,50,37,27,14,8,6,52,44,4]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w,s,r,a,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWorkspace=e.ExtHostWorkspace=void 0;function c(W,T,F){return new R.ExtUri(O=>P(O,F)).isEqual(W,T)}function t(W,T,F){return c(W.uri,T.uri,F)?0:(0,y.compare)(W.uri.toString(),T.uri.toString())}function m(W,T,F){return W.index!==T.index?W.index<T.index?-1:1:c(W.uri,T.uri,F)?(0,y.compare)(W.name,T.name):(0,y.compare)(W.uri.toString(),T.uri.toString())}function p(W,T,F,O){const B=W.slice(0).sort((j,G)=>F(j,G,O)),z=T.slice(0).sort((j,G)=>F(j,G,O));return(0,n.delta)(B,z,(j,G)=>F(j,G,O))}function P(W,T){const F=T.getCapabilities(W.scheme);return!(F&&F&1024)}class L extends b.Workspace{static toExtHostWorkspace(T,F,O,B){if(!T)return{workspace:null,added:[],removed:[]};const{id:z,name:j,folders:G,configuration:Z,transient:he,isUntitled:oe}=T,ce=[],le=F;F?G.forEach((we,Fe)=>{const xe=v.URI.revive(we.uri),Xe=L._findFolder(O||F,xe,B);Xe?(Xe.name=we.name,Xe.index=we.index,ce.push(Xe)):ce.push({uri:xe,name:we.name,index:Fe})}):ce.push(...G.map(({uri:we,name:Fe,index:xe})=>({uri:v.URI.revive(we),name:Fe,index:xe}))),ce.sort((we,Fe)=>we.index<Fe.index?-1:1);const fe=new L(z,j,ce,!!he,Z?v.URI.revive(Z):null,!!oe,we=>P(we,B)),{added:Y,removed:ge}=p(le?le.workspaceFolders:[],fe.workspaceFolders,t,B);return{workspace:fe,added:Y,removed:ge}}static _findFolder(T,F,O){for(let B=0;B<T.folders.length;B++){const z=T.workspaceFolders[B];if(c(z.uri,F,O))return z}}constructor(T,F,O,B,z,j,G){super(T,O.map(Z=>new b.WorkspaceFolder(Z)),B,z,G),this._name=F,this._isUntitled=j,this._workspaceFolders=[],this._structure=A.TernarySearchTree.forUris(G),O.forEach(Z=>{this._workspaceFolders.push(Z),this._structure.set(Z.uri,Z)})}get name(){return this._name}get isUntitled(){return this._isUntitled}get workspaceFolders(){return this._workspaceFolders.slice(0)}getWorkspaceFolder(T,F){return F&&this._structure.get(T)&&(T=(0,R.dirname)(T)),this._structure.findSubstr(T)}resolveWorkspaceFolder(T){return this._structure.get(T)}}let V=class{constructor(T,F,O,B,z){this._onDidChangeWorkspace=new M.Emitter,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._onDidGrantWorkspaceTrust=new M.Emitter,this.onDidGrantWorkspaceTrust=this._onDidGrantWorkspaceTrust.event,this._activeSearchCallbacks=[],this._trusted=!1,this._editSessionIdentityProviders=new Map,this._providerHandlePool=0,this._logService=B,this._extHostFileSystemInfo=O,this._uriTransformerService=z,this._requestIdProvider=new C.Counter,this._barrier=new k.Barrier,this._proxy=T.getProxy(l.MainContext.MainThreadWorkspace),this._messageService=T.getProxy(l.MainContext.MainThreadMessageService);const j=F.workspace;this._confirmedWorkspace=j?new L(j.id,j.name,[],!!j.transient,j.configuration?v.URI.revive(j.configuration):null,!!j.isUntitled,G=>P(G,O)):void 0}$initializeWorkspace(T,F){this._trusted=F,this.$acceptWorkspaceData(T),this._barrier.open()}waitForInitializeCall(){return this._barrier.wait()}get workspace(){return this._actualWorkspace}get name(){return this._actualWorkspace?this._actualWorkspace.name:void 0}get workspaceFile(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?v.URI.from({scheme:S.Schemas.untitled,path:(0,R.basename)((0,R.dirname)(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}get _actualWorkspace(){return this._unconfirmedWorkspace||this._confirmedWorkspace}getWorkspaceFolders(){if(!!this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}async getWorkspaceFolders2(){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}updateWorkspaceFolders(T,F,O,...B){const z=[];if(Array.isArray(B)&&B.forEach(oe=>{v.URI.isUri(oe.uri)&&!z.some(ce=>c(ce.uri,oe.uri,this._extHostFileSystemInfo))&&z.push({uri:oe.uri,name:oe.name||(0,R.basenameOrAuthority)(oe.uri)})}),this._unconfirmedWorkspace||[F,O].some(oe=>typeof oe!="number"||oe<0)||O===0&&z.length===0)return!1;const j=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(F+O>j.length)return!1;const G=j.slice(0);G.splice(F,O,...z.map(oe=>({uri:oe.uri,name:oe.name||(0,R.basenameOrAuthority)(oe.uri),index:void 0})));for(let oe=0;oe<G.length;oe++){const ce=G[oe];if(G.some((le,fe)=>fe!==oe&&c(ce.uri,le.uri,this._extHostFileSystemInfo)))return!1}G.forEach((oe,ce)=>oe.index=ce);const{added:Z,removed:he}=p(j,G,m,this._extHostFileSystemInfo);if(Z.length===0&&he.length===0)return!1;if(this._proxy){const oe=T.displayName||T.name;this._proxy.$updateWorkspaceFolders(oe,F,O,z).then(void 0,ce=>{this._unconfirmedWorkspace=void 0;const le={source:{identifier:T.identifier,label:T.displayName||T.name}};this._messageService.$showMessage(u.Severity.Error,(0,h.localize)(0,null,oe,ce.toString()),le,[])})}return this.trySetWorkspaceFolders(G),!0}getWorkspaceFolder(T,F){if(!!this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(T,F)}async getWorkspaceFolder2(T,F){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(T,F)}async resolveWorkspaceFolder(T){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.resolveWorkspaceFolder(T)}getPath(){if(!this._actualWorkspace)return;const{folders:T}=this._actualWorkspace;if(T.length!==0)return T[0].uri.fsPath}getRelativePath(T,F){let O,B="";if(typeof T=="string"?(O=v.URI.file(T),B=T):typeof T<"u"&&(O=T,B=T.fsPath),!O)return B;const z=this.getWorkspaceFolder(O,!0);if(!z)return B;typeof F>"u"&&this._actualWorkspace&&(F=this._actualWorkspace.folders.length>1);let j=(0,R.relativePath)(z.uri,O);return F&&z.name&&(j=`${z.name}/${j}`),j}trySetWorkspaceFolders(T){this._actualWorkspace&&(this._unconfirmedWorkspace=L.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:T,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}$acceptWorkspaceData(T){const{workspace:F,added:O,removed:B}=L.toExtHostWorkspace(T,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo);this._confirmedWorkspace=F||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:O,removed:B}))}findFiles(T,F,O,B,z=_.CancellationToken.None){this._logService.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${B.value}, entryPoint: findFiles`);let j;if(F===null?j=!1:F&&(typeof F=="string"?j=F:j=F.pattern),z&&z.isCancellationRequested)return Promise.resolve([]);const{includePattern:G,folder:Z}=H(s.GlobPattern.from(T));return this._proxy.$startFileSearch((0,f.withUndefinedAsNull)(G),(0,f.withUndefinedAsNull)(Z),(0,f.withUndefinedAsNull)(j),(0,f.withUndefinedAsNull)(O),z).then(he=>Array.isArray(he)?he.map(oe=>v.URI.revive(oe)):[])}async findTextInFiles(T,F,O,B,z=_.CancellationToken.None){this._logService.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${B.value}, entryPoint: findTextInFiles`);const j=this._requestIdProvider.getNext(),G=typeof F.previewOptions>"u"?{matchLines:100,charsPerLine:1e4}:F.previewOptions,{includePattern:Z,folder:he}=H(s.GlobPattern.from(F.include)),oe=typeof F.exclude=="string"?F.exclude:F.exclude?F.exclude.pattern:void 0,ce={ignoreSymlinks:typeof F.followSymlinks=="boolean"?!F.followSymlinks:void 0,disregardIgnoreFiles:typeof F.useIgnoreFiles=="boolean"?!F.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:typeof F.useGlobalIgnoreFiles=="boolean"?!F.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:typeof F.useParentIgnoreFiles=="boolean"?!F.useParentIgnoreFiles:void 0,disregardExcludeSettings:typeof F.useDefaultExcludes=="boolean"?!F.useDefaultExcludes:!0,fileEncoding:F.encoding,maxResults:F.maxResults,previewOptions:G,afterContext:F.afterContext,beforeContext:F.beforeContext,includePattern:Z,excludePattern:oe},le=!1;if(this._activeSearchCallbacks[j]=fe=>{if(le)return;const Y=v.URI.revive(fe.resource);fe.results.forEach(ge=>{(0,d.resultIsMatch)(ge)?O({uri:Y,preview:{text:ge.preview.text,matches:(0,n.mapArrayOrNot)(ge.preview.matches,we=>new r.Range(we.startLineNumber,we.startColumn,we.endLineNumber,we.endColumn))},ranges:(0,n.mapArrayOrNot)(ge.ranges,we=>new r.Range(we.startLineNumber,we.startColumn,we.endLineNumber,we.endColumn))}):O({uri:Y,text:ge.text,lineNumber:ge.lineNumber})})},z.isCancellationRequested)return{};try{const fe=await this._proxy.$startTextSearch(T,(0,f.withUndefinedAsNull)(he),ce,j,z);return delete this._activeSearchCallbacks[j],fe||{}}catch(fe){throw delete this._activeSearchCallbacks[j],fe}}$handleTextSearchResult(T,F){this._activeSearchCallbacks[F]?.(T)}saveAll(T){return this._proxy.$saveAll(T)}resolveProxy(T){return this._proxy.$resolveProxy(T)}get trusted(){return this._trusted}requestWorkspaceTrust(T){return this._proxy.$requestWorkspaceTrust(T)}$onDidGrantWorkspaceTrust(){this._trusted||(this._trusted=!0,this._onDidGrantWorkspaceTrust.fire())}registerEditSessionIdentityProvider(T,F){if(this._editSessionIdentityProviders.has(T))throw new Error(`A provider has already been registered for scheme ${T}`);this._editSessionIdentityProviders.set(T,F);const O=this._uriTransformerService.transformOutgoingScheme(T),B=this._providerHandlePool++;return this._proxy.$registerEditSessionIdentityProvider(B,O),(0,I.toDisposable)(()=>{this._editSessionIdentityProviders.delete(T),this._proxy.$unregisterEditSessionIdentityProvider(B)})}async $getEditSessionIdentifier(T,F){this._logService.info("Getting edit session identifier for workspaceFolder",T);const O=await this.resolveWorkspaceFolder(v.URI.revive(T));if(!O){this._logService.warn("Unable to resolve workspace folder");return}this._logService.info("Invoking #provideEditSessionIdentity for workspaceFolder",O);const B=this._editSessionIdentityProviders.get(O.uri.scheme);if(this._logService.info(`Provider for scheme ${O.uri.scheme} is defined: `,!!B),!B)return;const z=await B.provideEditSessionIdentity(O,F);if(this._logService.info("Provider returned edit session identifier: ",z),!!z)return z}async $provideEditSessionIdentityMatch(T,F,O,B){this._logService.info("Getting edit session identifier for workspaceFolder",T);const z=await this.resolveWorkspaceFolder(v.URI.revive(T));if(!z){this._logService.warn("Unable to resolve workspace folder");return}this._logService.info("Invoking #provideEditSessionIdentity for workspaceFolder",z);const j=this._editSessionIdentityProviders.get(z.uri.scheme);if(this._logService.info(`Provider for scheme ${z.uri.scheme} is defined: `,!!j),!j)return;const G=await j.provideEditSessionIdentityMatch?.(F,O,B);if(this._logService.info("Provider returned edit session identifier match result: ",G),!!G)return G}};V=Ve([We(0,w.IExtHostRpcService),We(1,g.IExtHostInitDataService),We(2,E.IExtHostFileSystemInfo),We(3,o.ILogService),We(4,a.IURITransformerService)],V),e.ExtHostWorkspace=V,e.IExtHostWorkspace=(0,i.createDecorator)("IExtHostWorkspace");function H(W){let T,F;return W&&(typeof W=="string"?T=W:(T=W.pattern,F=v.URI.revive(W.baseUri))),{includePattern:T,folder:F}}}),define(De[32],Ie([1,0,23,5,31,4,6,156,89,9,15,3,14,12,2]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConfiguration=e.ExtHostConfigProvider=e.ExtHostConfiguration=void 0;function i(r,a){if(a){const d=a.split(".");let l=r;for(let c=0;l&&c<d.length;c++)l=l[d[c]];return l}}function o(r){return r instanceof h.URI}function u(r){return r&&r.uri instanceof h.URI&&r.languageId&&typeof r.languageId=="string"}function b(r){return r&&!r.uri&&r.languageId&&typeof r.languageId=="string"}function E(r){return r&&r.uri instanceof h.URI&&(!r.name||typeof r.name=="string")&&(!r.index||typeof r.index=="number")}function g(r){if(o(r))return{resource:r};if(u(r))return{resource:r.uri,overrideIdentifier:r.languageId};if(b(r))return{overrideIdentifier:r.languageId};if(E(r))return{resource:r.uri};if(r===null)return{resource:null}}let w=class{constructor(a,d,l){this._proxy=a.getProxy(M.MainContext.MainThreadConfiguration),this._extHostWorkspace=d,this._logService=l,this._barrier=new R.Barrier,this._actual=null}getConfigProvider(){return this._barrier.wait().then(a=>this._actual)}$initializeConfiguration(a){this._actual=new s(this._proxy,this._extHostWorkspace,a,this._logService),this._barrier.open()}$acceptConfigurationChanged(a,d){this.getConfigProvider().then(l=>l.$acceptConfigurationChanged(a,d))}};w=Ve([We(0,f.IExtHostRpcService),We(1,_.IExtHostWorkspace),We(2,v.ILogService)],w),e.ExtHostConfiguration=w;class s{constructor(a,d,l,c){this._onDidChangeConfiguration=new k.Emitter,this._proxy=a,this._logService=c,this._extHostWorkspace=d,this._configuration=A.Configuration.parse(l),this._configurationScopes=this._toMap(l.configurationScopes)}get onDidChangeConfiguration(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}$acceptConfigurationChanged(a,d){const l={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=A.Configuration.parse(a),this._configurationScopes=this._toMap(a.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(d,l))}getConfiguration(a,d,l){const c=g(d)||{},t=this._toReadonlyValue(a?i(this._configuration.getValue(void 0,c,this._extHostWorkspace.workspace),a):this._configuration.getValue(void 0,c,this._extHostWorkspace.workspace));a&&this._validateConfigurationAccess(a,c,l?.identifier);function m(P){if(P==null)return null;if(typeof P=="boolean")return P?2:5;switch(P){case I.ConfigurationTarget.Global:return 2;case I.ConfigurationTarget.Workspace:return 5;case I.ConfigurationTarget.WorkspaceFolder:return 6}}const p={has(P){return typeof i(t,P)<"u"},get:(P,L)=>{this._validateConfigurationAccess(a?`${a}.${P}`:P,c,l?.identifier);let V=i(t,P);if(typeof V>"u")V=L;else{let H;const W=(T,F)=>{let O;const B=()=>{H=H||(0,n.deepClone)(t),O=O||i(H,F)};return(0,C.isObject)(T)?new Proxy(T,{get:(z,j)=>{if(typeof j=="string"&&j.toLowerCase()==="tojson")return B(),()=>O;if(H)return O=O||i(H,F),O[j];const G=z[j];return typeof j=="string"?W(G,`${F}.${j}`):G},set:(z,j,G)=>(B(),O&&(O[j]=G),!0),deleteProperty:(z,j)=>(B(),O&&delete O[j],!0),defineProperty:(z,j,G)=>(B(),O&&Object.defineProperty(O,j,G),!0)}):T};V=W(V,P)}return V},update:(P,L,V,H)=>{P=a?`${a}.${P}`:P;const W=m(V);return L!==void 0?this._proxy.$updateConfigurationOption(W,P,L,c,H):this._proxy.$removeConfigurationOption(W,P,c,H)},inspect:P=>{P=a?`${a}.${P}`:P;const L=this._configuration.inspect(P,c,this._extHostWorkspace.workspace);if(L)return{key:P,defaultValue:(0,n.deepClone)(L.policy?.value??L.default?.value),globalValue:(0,n.deepClone)(L.user?.value??L.application?.value),workspaceValue:(0,n.deepClone)(L.workspace?.value),workspaceFolderValue:(0,n.deepClone)(L.workspaceFolder?.value),defaultLanguageValue:(0,n.deepClone)(L.default?.override),globalLanguageValue:(0,n.deepClone)(L.user?.override??L.application?.override),workspaceLanguageValue:(0,n.deepClone)(L.workspace?.override),workspaceFolderLanguageValue:(0,n.deepClone)(L.workspaceFolder?.override),languageIds:(0,n.deepClone)(L.overrideIdentifiers)}}};return typeof t=="object"&&(0,n.mixin)(p,t,!1),Object.freeze(p)}_toReadonlyValue(a){const d=l=>(0,C.isObject)(l)?new Proxy(l,{get:(c,t)=>d(c[t]),set:(c,t,m)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(t)}' of object`)},deleteProperty:(c,t)=>{throw new Error(`TypeError: Cannot delete read only property '${String(t)}' of object`)},defineProperty:(c,t)=>{throw new Error(`TypeError: Cannot define property '${String(t)}' for a readonly object`)},setPrototypeOf:c=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):l;return d(a)}_validateConfigurationAccess(a,d,l){const c=S.OVERRIDE_PROPERTY_REGEX.test(a)?4:this._configurationScopes.get(a),t=l?`[${l.value}] `:"";if(c===4){typeof d?.resource>"u"&&this._logService.warn(`${t}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${a}', provide the URI of a resource or 'null' for any resource.`);return}if(c===3){d?.resource&&this._logService.warn(`${t}Accessing a window scoped configuration for a resource is not expected. To associate '${a}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`);return}}_toConfigurationChangeEvent(a,d){const l=new A.ConfigurationChangeEvent(a,d,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:(c,t)=>l.affectsConfiguration(c,g(t))})}_toMap(a){return a.reduce((d,l)=>(d.set(l[0],l[1]),d),new Map)}}e.ExtHostConfigProvider=s,e.IExtHostConfiguration=(0,y.createDecorator)("IExtHostConfiguration")});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[103],Ie([1,0,2,15,5,4,6,31,55,32,20,58,14,27,3,13,21,12,72,192,11]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostTask=e.WorkerExtHostTask=e.ExtHostTaskBase=e.TaskDTO=e.TaskHandleDTO=e.CustomExecutionDTO=void 0;var s;(function(T){function F(B){if(B!=null)return B}T.from=F;function O(B){if(B!=null)return B}T.to=O})(s||(s={}));var r;(function(T){function F(B){if(B!=null)return B}T.from=F;function O(B){if(B!=null)return B}T.to=O})(r||(r={}));var a;(function(T){function F(B){if(B!=null)return B}T.from=F;function O(B){if(B!=null)return B}T.to=O})(a||(a={}));var d;(function(T){function F(z){if(z){const j=z;return j&&!!j.process}else return!1}T.is=F;function O(z){if(z==null)return;const j={process:z.process,args:z.args};return z.options&&(j.options=a.from(z.options)),j}T.from=O;function B(z){if(z!=null)return new I.ProcessExecution(z.process,z.args,z.options)}T.to=B})(d||(d={}));var l;(function(T){function F(B){if(B!=null)return B}T.from=F;function O(B){if(B!=null)return B}T.to=O})(l||(l={}));var c;(function(T){function F(z){if(z){const j=z;return j&&(!!j.commandLine||!!j.command)}else return!1}T.is=F;function O(z){if(z==null)return;const j={};return z.commandLine!==void 0?j.commandLine=z.commandLine:(j.command=z.command,j.args=z.args),z.options&&(j.options=l.from(z.options)),j}T.from=O;function B(z){if(!(z==null||z.command===void 0&&z.commandLine===void 0))return z.commandLine?new I.ShellExecution(z.commandLine,z.options):new I.ShellExecution(z.command,z.args?z.args:[],z.options)}T.to=B})(c||(c={}));var t;(function(T){function F(z){if(z){const j=z;return j&&j.customExecution==="customExecution"}else return!1}T.is=F;function O(z){return{customExecution:"customExecution"}}T.from=O;function B(z,j){return j.get(z)}T.to=B})(t=e.CustomExecutionDTO||(e.CustomExecutionDTO={}));var m;(function(T){function F(O,B){let z;return O.scope!==void 0&&typeof O.scope!="number"?z=O.scope.uri:O.scope!==void 0&&typeof O.scope=="number"&&(O.scope===I.TaskScope.Workspace&&B&&B.workspaceFile?z=B.workspaceFile:z=E.USER_TASKS_GROUP_KEY),{id:O._id,workspaceFolder:z}}T.from=F})(m=e.TaskHandleDTO||(e.TaskHandleDTO={}));var p;(function(T){function F(O){if(O!=null)return{_id:O.id,isDefault:O.isDefault}}T.from=F})(p||(p={}));var P;(function(T){function F(z,j){if(z==null)return[];const G=[];for(const Z of z){const he=O(Z,j);he&&G.push(he)}return G}T.fromMany=F;function O(z,j){if(z==null)return;let G;z.execution instanceof I.ProcessExecution?G=d.from(z.execution):z.execution instanceof I.ShellExecution?G=c.from(z.execution):z.execution&&z.execution instanceof I.CustomExecution&&(G=t.from(z.execution));const Z=s.from(z.definition);let he;return z.scope?typeof z.scope=="number"?he=z.scope:he=z.scope.uri:he=I.TaskScope.Workspace,!Z||!he?void 0:{_id:z._id,definition:Z,name:z.name,source:{extensionId:j.identifier.value,label:z.source,scope:he},execution:G,isBackground:z.isBackground,group:p.from(z.group),presentationOptions:r.from(z.presentationOptions),problemMatchers:z.problemMatchers,hasDefinedMatchers:z.hasDefinedMatchers,runOptions:z.runOptions?z.runOptions:{reevaluateOnRerun:!0},detail:z.detail}}T.from=O;async function B(z,j,G){if(z==null)return;let Z;d.is(z.execution)?Z=d.to(z.execution):c.is(z.execution)?Z=c.to(z.execution):t.is(z.execution)&&(Z=t.to(z._id,G));const he=s.to(z.definition);let oe;if(z.source&&(z.source.scope!==void 0?typeof z.source.scope=="number"?oe=z.source.scope:oe=await j.resolveWorkspaceFolder(n.URI.revive(z.source.scope)):oe=I.TaskScope.Workspace),!he||!oe)return;const ce=new I.Task(he,oe,z.name,z.source.label,Z,z.problemMatchers);return z.isBackground!==void 0&&(ce.isBackground=z.isBackground),z.group!==void 0&&(ce.group=I.TaskGroup.from(z.group._id),ce.group&&z.group.isDefault&&(ce.group=new I.TaskGroup(ce.group.id,ce.group.label),z.group.isDefault===!0&&(ce.group.isDefault=z.group.isDefault))),z.presentationOptions&&(ce.presentationOptions=r.to(z.presentationOptions)),z._id&&(ce._id=z._id),z.detail&&(ce.detail=z.detail),ce}T.to=B})(P=e.TaskDTO||(e.TaskDTO={}));var L;(function(T){function F(B){return B}T.from=F;function O(B){if(!!B)return Object.assign(Object.create(null),B)}T.to=O})(L||(L={}));class V{constructor(F,O,B){this._id=O,this._task=B,w.set(this,void 0),Ye(this,w,F,"f")}get task(){return this._task}terminate(){Ae(this,w,"f").terminateTask(this)}fireDidStartProcess(F){}fireDidEndProcess(F){}}w=new WeakMap;let H=class{constructor(F,O,B,z,j,G,Z,he){this._onDidExecuteTask=new _.Emitter,this._onDidTerminateTask=new _.Emitter,this._onDidTaskProcessStarted=new _.Emitter,this._onDidTaskProcessEnded=new _.Emitter,this._proxy=F.getProxy(M.MainContext.MainThreadTask),this._workspaceProvider=B,this._editorService=z,this._configurationService=j,this._terminalService=G,this._handleCounter=0,this._handlers=new Map,this._taskExecutions=new Map,this._taskExecutionPromises=new Map,this._providedCustomExecutions2=new Map,this._notProvidedCustomExecutions=new Set,this._activeCustomExecutions2=new Map,this._logService=Z,this._deprecationService=he,this._proxy.$registerSupportedExecutions(!0)}registerTaskProvider(F,O,B){if(!B)return new I.Disposable(()=>{});const z=this.nextHandle();return this._handlers.set(z,{type:O,provider:B,extension:F}),this._proxy.$registerTaskProvider(z,O),new I.Disposable(()=>{this._handlers.delete(z),this._proxy.$unregisterTaskProvider(z)})}registerTaskSystem(F,O){this._proxy.$registerTaskSystem(F,O)}fetchTasks(F){return this._proxy.$fetchTasks(L.from(F)).then(async O=>{const B=[];for(const z of O){const j=await P.to(z,this._workspaceProvider,this._providedCustomExecutions2);j&&B.push(j)}return B})}get taskExecutions(){const F=[];return this._taskExecutions.forEach(O=>F.push(O)),F}terminateTask(F){if(!(F instanceof V))throw new Error("No valid task execution provided");return this._proxy.$terminateTask(F._id)}get onDidStartTask(){return this._onDidExecuteTask.event}async $onDidStartTask(F,O,B){const z=this._providedCustomExecutions2.get(F.id);z&&(this._activeCustomExecutions2.set(F.id,z),this._terminalService.attachPtyToTerminal(O,await z.callback(B))),this._lastStartedTask=F.id,this._onDidExecuteTask.fire({execution:await this.getTaskExecution(F)})}get onDidEndTask(){return this._onDidTerminateTask.event}async $OnDidEndTask(F){const O=await this.getTaskExecution(F);this._taskExecutionPromises.delete(F.id),this._taskExecutions.delete(F.id),this.customExecutionComplete(F),this._onDidTerminateTask.fire({execution:O})}get onDidStartTaskProcess(){return this._onDidTaskProcessStarted.event}async $onDidStartTaskProcess(F){const O=await this.getTaskExecution(F.id);this._onDidTaskProcessStarted.fire({execution:O,processId:F.processId})}get onDidEndTaskProcess(){return this._onDidTaskProcessEnded.event}async $onDidEndTaskProcess(F){const O=await this.getTaskExecution(F.id);this._onDidTaskProcessEnded.fire({execution:O,exitCode:F.exitCode})}$provideTasks(F,O){const B=this._handlers.get(F);if(!B)return Promise.reject(new Error("no handler found"));const z=[],j=(0,k.asPromise)(()=>B.provider.provideTasks(R.CancellationToken.None)).then(G=>this.provideTasksInternal(O,z,B,G));return new Promise(G=>{j.then(Z=>{Promise.all(z).then(()=>{G(Z)})})})}async $resolveTask(F,O){const B=this._handlers.get(F);if(!B)return Promise.reject(new Error("no handler found"));if(O.definition.type!==B.type)throw new Error(`Unexpected: Task of type [${O.definition.type}] cannot be resolved by provider of type [${B.type}].`);const z=await P.to(O,this._workspaceProvider,this._providedCustomExecutions2);if(!z)throw new Error("Unexpected: Task cannot be resolved.");const j=await B.provider.resolveTask(z,R.CancellationToken.None);if(!j)return;this.checkDeprecation(j,B);const G=P.from(j,B.extension);if(!G)throw new Error("Unexpected: Task cannot be resolved.");if(j.definition!==z.definition)throw new Error("Unexpected: The resolved task definition must be the same object as the original task definition. The task definition cannot be changed.");return t.is(G.execution)&&await this.addCustomExecution(G,j,!0),await this.resolveTaskInternal(G)}nextHandle(){return this._handleCounter++}async addCustomExecution(F,O,B){const z=await this._proxy.$createTaskId(F);!B&&!this._providedCustomExecutions2.has(z)&&(this._notProvidedCustomExecutions.add(z),this._activeCustomExecutions2.set(z,O.execution)),this._providedCustomExecutions2.set(z,O.execution)}async getTaskExecution(F,O){if(typeof F=="string"){const j=this._taskExecutionPromises.get(F);if(!j)throw new g.ErrorNoTelemetry("Unexpected: The specified task is missing an execution");return j}const B=this._taskExecutionPromises.get(F.id);if(B)return B;const z=new Promise((j,G)=>{function Z(he,oe,ce){ce?j(new V(he,oe.id,ce)):G("Unexpected: Task does not exist.")}O?Z(this,F,O):P.to(F.task,this._workspaceProvider,this._providedCustomExecutions2).then(he=>Z(this,F,he))});return this._taskExecutionPromises.set(F.id,z),z.then(j=>(this._taskExecutions.set(F.id,j),j),j=>Promise.reject(j))}checkDeprecation(F,O){F._deprecated&&this._deprecationService.report("Task.constructor",O.extension,"Use the Task constructor that takes a `scope` instead.")}customExecutionComplete(F){this._activeCustomExecutions2.get(F.id)&&this._activeCustomExecutions2.delete(F.id),this._notProvidedCustomExecutions.has(F.id)&&this._lastStartedTask!==F.id&&(this._providedCustomExecutions2.delete(F.id),this._notProvidedCustomExecutions.delete(F.id));const B=this._notProvidedCustomExecutions.values();let z=B.next();for(;!z.done;)!this._activeCustomExecutions2.has(z.value)&&this._lastStartedTask!==z.value&&(this._providedCustomExecutions2.delete(z.value),this._notProvidedCustomExecutions.delete(z.value)),z=B.next()}};H=Ve([We(0,f.IExtHostRpcService),We(1,v.IExtHostInitDataService),We(2,A.IExtHostWorkspace),We(3,S.IExtHostDocumentsAndEditors),We(4,C.IExtHostConfiguration),We(5,y.IExtHostTerminalService),We(6,u.ILogService),We(7,b.IExtHostApiDeprecationService)],H),e.ExtHostTaskBase=H;let W=class extends H{constructor(F,O,B,z,j,G,Z,he){super(F,O,B,z,j,G,Z,he),this.registerTaskSystem(i.Schemas.vscodeRemote,{scheme:i.Schemas.vscodeRemote,authority:"",platform:o.PlatformToString(0)})}async executeTask(F,O){if(!O.execution)throw new Error("Tasks to execute must include an execution");const B=P.from(O,F);if(B===void 0)throw new Error("Task is not valid");if(t.is(B.execution))await this.addCustomExecution(B,O,!1);else throw new g.NotSupportedError;const z=await this.getTaskExecution(await this._proxy.$getTaskExecution(B),O);return this._proxy.$executeTask(B).catch(j=>{throw new Error(j)}),z}provideTasksInternal(F,O,B,z){const j=[];if(z)for(const G of z){this.checkDeprecation(G,B),(!G.definition||!F[G.definition.type])&&this._logService.warn(`The task [${G.source}, ${G.name}] uses an undefined task type. The task will be ignored in the future.`);const Z=P.from(G,B.extension);Z&&t.is(Z.execution)?(j.push(Z),O.push(this.addCustomExecution(Z,G,!0))):this._logService.warn("Only custom execution tasks supported.")}return{tasks:j,extension:B.extension}}async resolveTaskInternal(F){if(t.is(F.execution))return F;this._logService.warn("Only custom execution tasks supported.")}async $resolveVariables(F,O){return{process:void 0,variables:Object.create(null)}}async $jsonTasksSupported(){return!1}async $findExecutable(F,O,B){}};W=Ve([We(0,f.IExtHostRpcService),We(1,v.IExtHostInitDataService),We(2,A.IExtHostWorkspace),We(3,S.IExtHostDocumentsAndEditors),We(4,C.IExtHostConfiguration),We(5,y.IExtHostTerminalService),We(6,u.ILogService),We(7,b.IExtHostApiDeprecationService)],W),e.WorkerExtHostTask=W,e.IExtHostTask=(0,h.createDecorator)("IExtHostTask")}),define(De[236],Ie([1,0,19,20,45,35,22,210,44]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileSearchManager=void 0;class C{constructor(f,v,h){this.config=f,this.provider=v,this.sessionToken=h,this.isLimitHit=!1,this.resultCount=0,this.isCanceled=!1,this.filePattern=f.filePattern,this.includePattern=f.includePattern&&M.parse(f.includePattern),this.maxResults=f.maxResults||void 0,this.exists=f.exists,this.activeCancellationTokens=new Set,this.globalExcludePattern=f.excludePattern&&M.parse(f.excludePattern)}cancel(){this.isCanceled=!0,this.activeCancellationTokens.forEach(f=>f.cancel()),this.activeCancellationTokens=new Set}search(f){const v=this.config.folderQueries||[];return new Promise((h,i)=>{const o=u=>{this.resultCount++,f(u)};if(this.isCanceled)return h({limitHit:this.isLimitHit});this.config.extraFileResources&&this.config.extraFileResources.forEach(u=>{const b=u.toString(),E=n.basename(b);this.globalExcludePattern&&this.globalExcludePattern(b,E)||this.matchFile(o,{base:u,basename:E})}),Promise.all(v.map(u=>this.searchInFolder(u,o))).then(u=>{h({limitHit:this.isLimitHit,stats:u[0]||void 0})},u=>{i(new Error((0,_.toErrorMessage)(u)))})})}async searchInFolder(f,v){const h=new k.CancellationTokenSource,i=this.getSearchOptionsForFolder(f),o=this.initDirectoryTree(),u=new S.QueryGlobTester(this.config,f),b=!u.hasSiblingExcludeClauses();let E;try{this.activeCancellationTokens.add(h),E=A.StopWatch.create();const g=await this.provider.provideFileSearchResults({pattern:this.config.filePattern||""},i,h.token),w=E.elapsed(),s=A.StopWatch.create();return this.isCanceled&&!this.isLimitHit||(g&&g.forEach(r=>{const a=n.posix.relative(f.folder.path,r.path);if(b){const d=n.basename(r.path);this.matchFile(v,{base:f.folder,relativePath:a,basename:d});return}this.addDirectoryEntries(o,f.folder,a,v)}),this.isCanceled&&!this.isLimitHit)?null:(this.matchDirectoryTree(o,u,v),{providerTime:w,postProcessTime:s.elapsed()})}finally{h.dispose(),this.activeCancellationTokens.delete(h)}}getSearchOptionsForFolder(f){const v=(0,S.resolvePatternsForProvider)(this.config.includePattern,f.includePattern),h=(0,S.resolvePatternsForProvider)(this.config.excludePattern,f.excludePattern);return{folder:f.folder,excludes:h,includes:v,useIgnoreFiles:!f.disregardIgnoreFiles,useGlobalIgnoreFiles:!f.disregardGlobalIgnoreFiles,useParentIgnoreFiles:!f.disregardParentIgnoreFiles,followSymlinks:!f.ignoreSymlinks,maxResults:this.config.maxResults,session:this.sessionToken}}initDirectoryTree(){const f={rootEntries:[],pathToEntries:Object.create(null)};return f.pathToEntries["."]=f.rootEntries,f}addDirectoryEntries({pathToEntries:f},v,h,i){if(h===this.filePattern){const u=n.basename(this.filePattern);this.matchFile(i,{base:v,relativePath:this.filePattern,basename:u})}function o(u){const b=n.basename(u),E=n.dirname(u);let g=f[E];g||(g=f[E]=[],o(E)),g.push({base:v,relativePath:u,basename:b})}o(h)}matchDirectoryTree({rootEntries:f,pathToEntries:v},h,i){const o=this,u=this.filePattern;function b(E){const g=(0,S.hasSiblingFn)(()=>E.map(w=>w.basename));for(let w=0,s=E.length;w<s;w++){const r=E[w],{relativePath:a,basename:d}=r;if(h.matchesExcludesSync(a,d,u!==d?g:void 0))continue;const l=v[a];if(l)b(l);else{if(a===u)continue;o.matchFile(i,r)}if(o.isLimitHit)break}}b(f)}matchFile(f,v){(!this.includePattern||v.relativePath&&this.includePattern(v.relativePath,v.basename))&&((this.exists||this.maxResults&&this.resultCount>=this.maxResults)&&(this.isLimitHit=!0,this.cancel()),this.isLimitHit||f(v))}}class R{constructor(){this.sessions=new Map}fileSearch(f,v,h,i){const o=this.getSessionTokenSource(f.cacheKey),u=new C(f,v,o&&o.token);let b=0;const E=g=>{b+=g.length,h(g.map(w=>this.rawMatchToSearchItem(w)))};return this.doSearch(u,R.BATCH_SIZE,E,i).then(g=>({limitHit:g.limitHit,stats:{fromCache:!1,type:"fileSearchProvider",resultCount:b,detailStats:g.stats}}))}clearCache(f){this.getSessionTokenSource(f)?.cancel()}getSessionTokenSource(f){if(!!f)return this.sessions.has(f)||this.sessions.set(f,new k.CancellationTokenSource),this.sessions.get(f)}rawMatchToSearchItem(f){return f.relativePath?{resource:I.joinPath(f.base,f.relativePath)}:{resource:f.base}}doSearch(f,v,h,i){i.onCancellationRequested(()=>{f.cancel()});const o=b=>{b&&(u.push(b),v>0&&u.length>=v&&(h(u),u=[]))};let u=[];return f.search(o).then(b=>(u.length&&h(u),b),b=>(u.length&&h(u),Promise.reject(b)))}}e.FileSearchManager=R,R.BATCH_SIZE=512}),define(De[237],Ie([1,0,16,78,35,82,28,13,19,22,10,9,2,253,146,40,12,50,94,235,44]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveResourcesForSearchIncludes=e.QueryBuilder=void 0;let w=class{constructor(p,P,L,V,H){this.configurationService=p,this.workspaceContextService=P,this.editorGroupsService=L,this.logService=V,this.pathService=H}text(p,P,L={}){p=this.getContentPattern(p,L);const V=this.configurationService.getValue(),H=P&&P.some(T=>!this.configurationService.getValue({resource:T}).search.useRipgrep);return{...this.commonQuery(P?.map(u.toWorkspaceFolder),L),type:2,contentPattern:p,previewOptions:L.previewOptions,maxFileSize:L.maxFileSize,usePCRE2:V.search.usePCRE2||H||!1,beforeContext:L.beforeContext,afterContext:L.afterContext,userDisabledExcludesAndIgnoreFiles:L.disregardExcludeSettings&&L.disregardIgnoreFiles}}getContentPattern(p,P){const L=this.configurationService.getValue();p.isRegExp&&(p.pattern=p.pattern.replace(/\r?\n/g,"\\n"));const V={...p,wordSeparators:L.editor.wordSeparators};return this.isCaseSensitive(p,P)&&(V.isCaseSensitive=!0),this.isMultiline(p)&&(V.isMultiline=!0),V}file(p,P={}){return{...this.commonQuery(p,P),type:1,filePattern:P.filePattern?P.filePattern.trim():P.filePattern,exists:P.exists,sortByScore:P.sortByScore,cacheKey:P.cacheKey}}handleIncludeExclude(p,P){return p?(p=Array.isArray(p)?p.map(l):l(p),P?this.parseSearchPaths(p):{pattern:r(...Array.isArray(p)?p:[p])}):{}}commonQuery(p=[],P={}){const L=this.handleIncludeExclude(P.includePattern,P.expandPatterns),V=this.handleIncludeExclude(P.excludePattern,P.expandPatterns),H=p.length>1,W=(L.searchPaths&&L.searchPaths.length?L.searchPaths.map(O=>this.getFolderQueryForSearchPath(O,P,V)):p.map(O=>this.getFolderQueryForRoot(O,P,V,H))).filter(O=>!!O),T={_reason:P._reason,folderQueries:W,usingSearchPaths:!!(L.searchPaths&&L.searchPaths.length),extraFileResources:P.extraFileResources,excludePattern:V.pattern,includePattern:L.pattern,onlyOpenEditors:P.onlyOpenEditors,maxResults:P.maxResults};if(P.onlyOpenEditors){const O=n.coalesce(n.flatten(this.editorGroupsService.groups.map(j=>j.editors.map(G=>G.resource))));this.logService.trace("QueryBuilder#commonQuery - openEditor URIs",JSON.stringify(O));const B=O.filter(j=>(0,g.pathIncludedInQuery)(T,j.fsPath)),z=this.commonQueryFromFileList(B);return this.logService.trace("QueryBuilder#commonQuery - openEditor Query",JSON.stringify(z)),{...T,...z}}const F=P.extraFileResources&&P.extraFileResources.filter(O=>(0,g.pathIncludedInQuery)(T,O.fsPath));return T.extraFileResources=F&&F.length?F:void 0,T}commonQueryFromFileList(p){const P=[],L=new I.ResourceMap,V={};let H=!1;return p.forEach(W=>{if(W.scheme===A.Schemas.walkThrough)return;if((0,C.isAbsolutePath)(W)){const F=this.workspaceContextService.getWorkspaceFolder(W)?.uri??W.with({path:S.dirname(W.fsPath)});let O=L.get(F);O||(H=!0,O={folder:F,includePattern:{}},P.push(O),L.set(F,O));const B=S.relative(F.fsPath,W.fsPath);(0,y.assertIsDefined)(O.includePattern)[B.replace(/\\/g,"/")]=!0}else W.fsPath&&(H=!0,V[W.fsPath]=!0)}),{folderQueries:P,includePattern:V,usingSearchPaths:!0,excludePattern:H?void 0:{"**/*":!0}}}isCaseSensitive(p,P){if(P.isSmartCase){if(p.isRegExp){if(R.containsUppercaseCharacter(p.pattern,!0))return!0}else if(R.containsUppercaseCharacter(p.pattern))return!0}return!!p.isCaseSensitive}isMultiline(p){return p.isMultiline||p.isRegExp&&(0,v.isMultilineRegexSource)(p.pattern)||p.pattern.indexOf(`
`)>=0?!0:!!p.isMultiline}parseSearchPaths(p){const P=z=>S.isAbsolute(z)||/^\.\.?([\/\\]|$)/.test(z),V=(Array.isArray(p)?p:a(p)).map(z=>{const j=this.pathService.resolvedUserHome;return j?(0,M.untildify)(z,j.scheme===A.Schemas.file?j.fsPath:j.path):z}),H=k.groupBy(V,z=>P(z)?"searchPaths":"exprSegments"),W=(H.exprSegments||[]).map(z=>R.rtrim(z,"/")).map(z=>R.rtrim(z,"\\")).map(z=>(z[0]==="."&&(z="*"+z),d(z))),T={},F=this.expandSearchPathPatterns(H.searchPaths||[]);F&&F.length&&(T.searchPaths=F);const O=n.flatten(W),B=r(...O);return B&&(T.pattern=B),T}getExcludesForFolder(p,P){return P.disregardExcludeSettings?void 0:(0,g.getExcludes)(p,!P.disregardSearchExcludeSettings)}expandSearchPathPatterns(p){if(!p||!p.length)return[];const P=n.flatten(p.map(V=>{let{pathPortion:H,globPortion:W}=s(V);W&&(W=c(W));const T=this.expandOneSearchPath(H);return n.flatten(T.map(F=>this.resolveOneSearchPathPattern(F,W)))})),L=new Map;return P.forEach(V=>{const H=V.searchPath.toString(),W=L.get(H);W?V.pattern&&(W.pattern=W.pattern||{},W.pattern[V.pattern]=!0):L.set(H,{searchPath:V.searchPath,pattern:V.pattern?r(V.pattern):void 0})}),Array.from(L.values())}expandOneSearchPath(p){if(S.isAbsolute(p)){const P=this.workspaceContextService.getWorkspace().folders;return P[0]&&P[0].uri.scheme!==A.Schemas.file?[{searchPath:P[0].uri.with({path:p})}]:[{searchPath:f.URI.file(S.normalize(p))}]}if(this.workspaceContextService.getWorkbenchState()===2){const P=this.workspaceContextService.getWorkspace().folders[0].uri;if(p=l(p),p.startsWith("../")||p===".."){const V=S.posix.resolve(P.path,p);return[{searchPath:P.with({path:V})}]}const L=c(p);return[{searchPath:P,pattern:L}]}else{if(p==="./"||p===".\\")return[];{const P=p.replace(/^\.[\/\\]/,""),V=this.workspaceContextService.getWorkspace().folders.map(H=>{const W=P.match(new RegExp(`^${R.escapeRegExpCharacters(H.name)}(?:/(.*)|$)`));return W?{match:W,folder:H}:null}).filter(y.isDefined);if(V.length)return V.map(H=>{const W=H.match[1];return{searchPath:H.folder.uri,pattern:W&&c(W)}});{const H=p.match(/\.[\/\\](.+)[\/\\]?/),W=H?H[1]:p,T=h.localize(0,null,W);throw new Error(T)}}}}resolveOneSearchPathPattern(p,P){const L=p.pattern&&P?`${p.pattern}/${P}`:p.pattern||P,V=[{searchPath:p.searchPath,pattern:L}];return L&&!L.endsWith("**")&&V.push({searchPath:p.searchPath,pattern:L+"/**"}),V}getFolderQueryForSearchPath(p,P,L){const V=this.getFolderQueryForRoot((0,u.toWorkspaceFolder)(p.searchPath),P,L,!1);return V?{...V,includePattern:p.pattern}:null}getFolderQueryForRoot(p,P,L,V){let H;const W=f.URI.isUri(p)?p:p.uri;if(L.searchPaths){const z=L.searchPaths.filter(j=>(0,C.isEqual)(j.searchPath,W))[0];if(z&&!z.pattern)return null;z&&(H=z.pattern)}const T=this.configurationService.getValue({resource:W}),O={...this.getExcludesForFolder(T,P)||{},...H||{}},B=f.URI.isUri(p)?(0,C.basename)(p):p.name;return{folder:W,folderName:V?B:void 0,excludePattern:Object.keys(O).length>0?O:void 0,fileEncoding:T.files&&T.files.encoding,disregardIgnoreFiles:typeof P.disregardIgnoreFiles=="boolean"?P.disregardIgnoreFiles:!T.search.useIgnoreFiles,disregardGlobalIgnoreFiles:typeof P.disregardGlobalIgnoreFiles=="boolean"?P.disregardGlobalIgnoreFiles:!T.search.useGlobalIgnoreFiles,disregardParentIgnoreFiles:typeof P.disregardParentIgnoreFiles=="boolean"?P.disregardParentIgnoreFiles:!T.search.useParentIgnoreFiles,ignoreSymlinks:typeof P.ignoreSymlinks=="boolean"?P.ignoreSymlinks:!T.search.followSymlinks}}};w=Ve([We(0,i.IConfigurationService),We(1,u.IWorkspaceContextService),We(2,b.IEditorGroupsService),We(3,o.ILogService),We(4,E.IPathService)],w),e.QueryBuilder=w;function s(m){const p=m.match(/[\*\{\}\(\)\[\]\?]/);if(p){const P=p.index,L=m.substr(0,P).match(/[/|\\][^/\\]*$/);if(L){let V=m.substr(0,L.index);return V.match(/[/\\]/)||(V+="/"),{pathPortion:V,globPortion:m.substr((L.index||0)+1)}}}return{pathPortion:m}}function r(...m){return m.length?m.reduce((p,P)=>(p[P]=!0,p),Object.create(null)):void 0}function a(m){return _.splitGlobAware(m,",").map(p=>p.trim()).filter(p=>!!p.length)}function d(m){return[`**/${m}/**`,`**/${m}`].map(P=>P.replace(/\*\*\/\*\*/g,"**"))}function l(m){return m.replace(/\\/g,"/")}function c(m){return l(m).replace(/^\.\//,"").replace(/\/+$/g,"")}function t(m,p){m=n.distinct(m,V=>V.toString());const P=[],L=p.getWorkspace();return m&&m.forEach(V=>{let H;if(p.getWorkbenchState()===2)H=(0,C.relativePath)(L.folders[0].uri,V),H&&H!=="."&&(H="./"+H);else{const W=p.getWorkspaceFolder(V);if(W){const T=W.name;if(L.folders.filter(O=>O.name===T).length===1){const O=(0,C.relativePath)(W.uri,V);O===""?H=`./${W.name}`:H=`./${W.name}/${O}`}else H=V.fsPath}}H&&P.push(H)}),P}e.resolveResourcesForSearchIncludes=t}),define(De[238],Ie([1,0,22,2,20,11,3,237,44,50]),function(te,e,n,k,_,M,I,A,S,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkGlobFileExists=e.checkActivateWorkspaceContainsExtension=void 0;const R=7e3;function y(i,o){const u=o.activationEvents;if(!u)return Promise.resolve(void 0);const b=[],E=[];for(const d of u)if(/^workspaceContains:/.test(d)){const l=d.substr(18);l.indexOf("*")>=0||l.indexOf("?")>=0||i.forceUsingSearch?E.push(l):b.push(l)}if(b.length===0&&E.length===0)return Promise.resolve(void 0);let g;const w=new Promise((d,l)=>{g=d}),s=d=>g({activationEvent:d}),r=Promise.all(b.map(d=>f(i,d,s))).then(()=>{}),a=v(i,o.identifier,E,s);return Promise.all([r,a]).then(()=>{g(void 0)}),w}e.checkActivateWorkspaceContainsExtension=y;async function f(i,o,u){for(const b of i.folders)if(await i.exists(n.joinPath(k.URI.revive(b),o))){u(`workspaceContains:${o}`);return}}async function v(i,o,u,b){if(u.length===0)return Promise.resolve(void 0);const E=new _.CancellationTokenSource,g=i.checkExists(i.folders,u,E.token),w=setTimeout(async()=>{E.cancel(),i.logService.info(`Not activating extension '${o.value}': Timed out while searching for 'workspaceContains' pattern ${u.join(",")}`)},R);let s=!1;try{s=await g}catch(r){M.isCancellationError(r)||M.onUnexpectedError(r)}E.dispose(),clearTimeout(w),s&&b(`workspaceContains:${u.join(",")}`)}function h(i,o,u,b){const E=i.get(I.IInstantiationService),g=i.get(S.ISearchService),s=E.createInstance(A.QueryBuilder).file(o.map(r=>(0,C.toWorkspaceFolder)(k.URI.revive(r))),{_reason:"checkExists",includePattern:u,exists:!0});return g.fileSearch(s,b).then(r=>!!r.limitHit,r=>M.isCancellationError(r)?!1:Promise.reject(r))}e.checkGlobFileExists=h});var Ye=this&&this.__classPrivateFieldSet||function(te,e,n,k,_){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?te!==e||!_:!e.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?_.call(te,n):_?_.value=n:e.set(te,n),n},Ae=this&&this.__classPrivateFieldGet||function(te,e,n,k){if(n==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?te!==e||!k:!e.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?k:n==="a"?k.call(te):k?k.value:e.get(te)};define(De[33],Ie([1,0,133,19,77,22,15,7,46,2,12,4,32,181,75,31,25,180,11,26,24,165,6,90,3,27,76,14,63,65,58,5,238,74,167,13,73]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w,s,r,a,d,l,c,t,m,p,P,L,V,H,W,T){"use strict";var F,O,B;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionPaths=e.Extension=e.IExtHostExtensionService=e.AbstractExtHostExtensionService=e.IHostUtils=void 0,e.IHostUtils=(0,a.createDecorator)("IHostUtils");let z=class Ai extends A.Disposable{constructor(le,fe,Y,ge,we,Fe,xe,Xe,ke,ye,Ce){super(),this._onDidChangeRemoteConnectionData=this._register(new P.Emitter),this.onDidChangeRemoteConnectionData=this._onDidChangeRemoteConnectionData.event,this._isTerminating=!1,this._hostUtils=fe,this._extHostContext=Y,this._initData=xe,this._extHostWorkspace=ge,this._extHostConfiguration=we,this._logService=Fe,this._extHostTunnelService=ke,this._extHostTerminalService=ye,this._extHostLocalizationService=Ce,this._mainThreadWorkspaceProxy=this._extHostContext.getProxy(y.MainContext.MainThreadWorkspace),this._mainThreadTelemetryProxy=this._extHostContext.getProxy(y.MainContext.MainThreadTelemetry),this._mainThreadExtensionsProxy=this._extHostContext.getProxy(y.MainContext.MainThreadExtensionService),this._almostReadyToRunExtensions=new I.Barrier,this._readyToStartExtensionHost=new I.Barrier,this._readyToRunExtensions=new I.Barrier,this._eagerExtensionsActivated=new I.Barrier,this._globalRegistry=new u.ExtensionDescriptionRegistry(this._initData.allExtensions);const re=(0,o.extensionIdentifiersArrayToSet)(this._initData.myExtensions);this._myRegistry=new u.ExtensionDescriptionRegistry(Z(this._globalRegistry,re)),this._storage=new h.ExtHostStorage(this._extHostContext,this._logService),this._secretState=new V.ExtHostSecretState(this._extHostContext),this._storagePath=Xe,this._instaService=le.createChild(new t.ServiceCollection([h.IExtHostStorage,this._storage],[V.IExtHostSecretState,this._secretState]));const ae=this._initData.allExtensions.filter(N=>!N.main&&!N.browser).map(N=>N.identifier),J=this._initData.allExtensions.filter(N=>!re.has(E.ExtensionIdentifier.toKey(N.identifier.value))).filter(N=>(N.main||N.browser)&&N.api==="none").map(N=>N.identifier),D=(0,o.extensionIdentifiersArrayToSet)(J);this._activator=this._register(new v.ExtensionsActivator(this._myRegistry,ae,J,{onExtensionActivationError:(N,$,q)=>{this._mainThreadExtensionsProxy.$onExtensionActivationError(N,b.transformErrorForSerialization($),q)},actualActivateExtension:async(N,$)=>{if(D.has(E.ExtensionIdentifier.toKey(N)))return await this._mainThreadExtensionsProxy.$activateExtension(N,$),new v.HostExtension;const q=this._myRegistry.getExtensionDescription(N);return this._activateExtension(q,$)}},this._logService)),this._extensionPathIndex=null,this._resolvers=Object.create(null),this._started=!1,this._remoteConnectionData=this._initData.remote.connectionData}getRemoteConnectionData(){return this._remoteConnectionData}async initialize(){try{await this._beforeAlmostReadyToRunExtensions(),this._almostReadyToRunExtensions.open(),await this._extHostWorkspace.waitForInitializeCall(),_.mark("code/extHost/ready"),this._readyToStartExtensionHost.open(),this._initData.autoStart&&this._startExtensionHost()}catch(le){b.onUnexpectedError(le)}}async _deactivateAll(){this._storagePath.onWillDeactivateAll();let le=[];try{le=this._myRegistry.getAllExtensionDescriptions().map(we=>we.identifier).filter(we=>this.isActivated(we)).map(we=>this._deactivate(we))}catch{}await Promise.all(le)}terminate(le,fe=0){if(this._isTerminating)return;this._isTerminating=!0,this._logService.info(`Extension host terminating: ${le}`),this._logService.flush(),this._extHostTerminalService.dispose(),this._activator.dispose(),b.setUnexpectedErrorHandler(ge=>{this._logService.error(ge)}),this._extHostContext.dispose();const Y=this._deactivateAll();Promise.race([(0,I.timeout)(5e3),Y]).finally(()=>{this._hostUtils.pid?this._logService.info(`Extension host with pid ${this._hostUtils.pid} exiting with code ${fe}`):this._logService.info(`Extension host exiting with code ${fe}`),this._logService.flush(),this._logService.dispose(),this._hostUtils.exit(fe)})}isActivated(le){return this._readyToRunExtensions.isOpen()?this._activator.isActivated(le):!1}async getExtension(le){const fe=await this._mainThreadExtensionsProxy.$getExtension(le);let Y;if(fe?.browserNlsBundleUris){Y={};for(const ge of Object.keys(fe.browserNlsBundleUris))Y[ge]=C.URI.revive(fe.browserNlsBundleUris[ge])}return fe&&{...fe,identifier:new E.ExtensionIdentifier(fe.identifier.value),extensionLocation:C.URI.revive(fe.extensionLocation),browserNlsBundleUris:Y}}_activateByEvent(le,fe){return this._activator.activateByEvent(le,fe)}_activateById(le,fe){return this._activator.activateById(le,fe)}activateByIdWithErrors(le,fe){return this._activateById(le,fe).then(()=>{const Y=this._activator.getActivatedExtension(le);if(Y.activationFailed)return Promise.reject(Y.activationFailedError)})}getExtensionRegistry(){return this._readyToRunExtensions.wait().then(le=>this._myRegistry)}getExtensionExports(le){return this._readyToRunExtensions.isOpen()?this._activator.getActivatedExtension(le).exports:null}async _realPathExtensionUri(le){if(le.scheme!==W.Schemas.file)return le;const fe=await this._hostUtils.realpath(le.fsPath);return C.URI.file(fe)}async getExtensionPathIndex(){return this._extensionPathIndex||(this._extensionPathIndex=this._createExtensionPathIndex(this._myRegistry.getAllExtensionDescriptions()).then(le=>new oe(le))),this._extensionPathIndex}async _createExtensionPathIndex(le){const fe=S.TernarySearchTree.forUris(Y=>M.extUriBiasedIgnorePathCase.ignorePathCasing(Y));return await Promise.all(le.map(async Y=>{if(this._getEntryPoint(Y)){const ge=await this._realPathExtensionUri(Y.extensionLocation);fe.set(ge,Y)}})),fe}_deactivate(le){let fe=Promise.resolve(void 0);if(!this._readyToRunExtensions.isOpen()||!this._activator.isActivated(le))return fe;const Y=this._activator.getActivatedExtension(le);if(!Y)return fe;try{typeof Y.module.deactivate=="function"&&(fe=Promise.resolve(Y.module.deactivate()).then(void 0,ge=>(this._logService.error(ge),Promise.resolve(void 0))))}catch(ge){this._logService.error(`An error occurred when deactivating the extension '${le.value}':`),this._logService.error(ge)}try{(0,A.dispose)(Y.subscriptions)}catch(ge){this._logService.error(`An error occurred when deactivating the subscriptions for extension '${le.value}':`),this._logService.error(ge)}return fe}async _activateExtension(le,fe){return this._initData.remote.isRemote?this._mainThreadExtensionsProxy.$onWillActivateExtension(le.identifier):await this._mainThreadExtensionsProxy.$onWillActivateExtension(le.identifier),this._doActivateExtension(le,fe).then(Y=>{const ge=Y.activationTimes;return this._mainThreadExtensionsProxy.$onDidActivateExtension(le.identifier,ge.codeLoadingTime,ge.activateCallTime,ge.activateResolvedTime,fe),this._logExtensionActivationTimes(le,fe,"success",ge),Y},Y=>{throw this._logExtensionActivationTimes(le,fe,"failure"),Y})}_logExtensionActivationTimes(le,fe,Y,ge){const we=j(le,fe);this._mainThreadTelemetryProxy.$publicLog2("extensionActivationTimes",{...we,...ge||{},outcome:Y})}_doActivateExtension(le,fe){const Y=j(le,fe);this._mainThreadTelemetryProxy.$publicLog2("activatePlugin",Y);const ge=this._getEntryPoint(le);if(!ge)return Promise.resolve(new v.EmptyExtension(v.ExtensionActivationTimes.NONE));this._logService.info(`ExtensionService#_doActivateExtension ${le.identifier.value}, startup: ${fe.startup}, activationEvent: '${fe.activationEvent}'${le.identifier.value!==fe.extensionId.value?`, root cause: ${fe.extensionId.value}`:""}`),this._logService.flush();const we=new v.ExtensionActivationTimesBuilder(fe.startup);return Promise.all([this._loadCommonJSModule(le,(0,M.joinPath)(le.extensionLocation,ge),we),this._loadExtensionContext(le)]).then(Fe=>(_.mark(`code/extHost/willActivateExtension/${le.identifier.value}`),Ai._callActivate(this._logService,le.identifier,Fe[0],Fe[1],we))).then(Fe=>(_.mark(`code/extHost/didActivateExtension/${le.identifier.value}`),Fe))}_loadExtensionContext(le){const fe=new w.ExtensionGlobalMemento(le,this._storage),Y=new w.ExtensionMemento(le.identifier.value,!1,this._storage),ge=new H.ExtensionSecrets(le,this._secretState),we=le.isUnderDevelopment?this._initData.environment.extensionTestsLocationURI?s.ExtensionMode.Test:s.ExtensionMode.Development:s.ExtensionMode.Production,Fe=this._initData.remote.isRemote?s.ExtensionKind.Workspace:s.ExtensionKind.UI;return this._logService.trace(`ExtensionService#loadExtensionContext ${le.identifier.value}`),Promise.all([fe.whenReady,Y.whenReady,this._storagePath.whenReady]).then(()=>{const xe=this;let Xe,ke;const ye=(0,o.isProposedApiEnabled)(le,"ipc")?this._initData.messagePorts?.get(E.ExtensionIdentifier.toKey(le.identifier)):void 0;return Object.freeze({globalState:fe,workspaceState:Y,secrets:ge,subscriptions:[],get extensionUri(){return le.extensionLocation},get extensionPath(){return le.extensionLocation.fsPath},asAbsolutePath(Ce){return k.join(le.extensionLocation.fsPath,Ce)},get storagePath(){return xe._storagePath.workspaceValue(le)?.fsPath},get globalStoragePath(){return xe._storagePath.globalValue(le).fsPath},get logPath(){return k.join(xe._initData.logsLocation.fsPath,le.identifier.value)},get logUri(){return C.URI.joinPath(xe._initData.logsLocation,le.identifier.value)},get storageUri(){return xe._storagePath.workspaceValue(le)},get globalStorageUri(){return xe._storagePath.globalValue(le)},get extensionMode(){return we},get extension(){return Xe===void 0&&(Xe=new G(xe,le.identifier,le,Fe,!1)),Xe},get extensionRuntime(){return(0,o.checkProposedApiEnabled)(le,"extensionRuntime"),xe.extensionRuntime},get environmentVariableCollection(){return xe._extHostTerminalService.getEnvironmentVariableCollection(le)},get messagePassingProtocol(){if(!ke){if(!ye)return;const Ce=P.Event.buffer(P.Event.fromDOMEventEmitter(ye,"message",re=>re.data));ye.start(),ke={onDidReceiveMessage:Ce,postMessage:ye.postMessage.bind(ye)}}return ke}})})}static _callActivate(le,fe,Y,ge,we){return Y=Y||{activate:void 0,deactivate:void 0},this._callActivateOptional(le,fe,Y,ge,we).then(Fe=>new v.ActivatedExtension(!1,null,we.build(),Y,Fe,ge.subscriptions))}static _callActivateOptional(le,fe,Y,ge,we){if(typeof Y.activate=="function")try{we.activateCallStart(),le.trace(`ExtensionService#_callActivateOptional ${fe.value}`);const Fe=typeof global=="object"?global:self,xe=Y.activate.apply(Fe,[ge]);return we.activateCallStop(),we.activateResolveStart(),Promise.resolve(xe).then(Xe=>(we.activateResolveStop(),Xe))}catch(Fe){return Promise.reject(Fe)}else return Promise.resolve(Y)}_activateOneStartupFinished(le,fe){this._activateById(le.identifier,{startup:!1,extensionId:le.identifier,activationEvent:fe}).then(void 0,Y=>{this._logService.error(Y)})}_activateAllStartupFinished(){this._mainThreadExtensionsProxy.$setPerformanceMarks(_.getMarks());for(const le of this._myRegistry.getAllExtensionDescriptions())if(le.activationEvents)for(const fe of le.activationEvents)fe==="onStartupFinished"&&this._activateOneStartupFinished(le,fe)}_handleEagerExtensions(){const le=this._activateByEvent("*",!0).then(void 0,we=>{this._logService.error(we)});this._register(this._extHostWorkspace.onDidChangeWorkspace(we=>this._handleWorkspaceContainsEagerExtensions(we.added)));const fe=this._extHostWorkspace.workspace?this._extHostWorkspace.workspace.folders:[],Y=this._handleWorkspaceContainsEagerExtensions(fe),ge=Promise.all([le,Y]).then(()=>{});return Promise.race([ge,(0,I.timeout)(1e4)]).then(()=>{this._activateAllStartupFinished()}),ge}_handleWorkspaceContainsEagerExtensions(le){return le.length===0?Promise.resolve(void 0):Promise.all(this._myRegistry.getAllExtensionDescriptions().map(fe=>this._handleWorkspaceContainsEagerExtension(le,fe))).then(()=>{})}async _handleWorkspaceContainsEagerExtension(le,fe){if(this.isActivated(fe.identifier))return;const Y=!this._initData.remote.isRemote&&!!this._initData.remote.authority,ge={logService:this._logService,folders:le.map(Fe=>Fe.uri),forceUsingSearch:Y,exists:Fe=>this._hostUtils.exists(Fe.fsPath),checkExists:(Fe,xe,Xe)=>this._mainThreadWorkspaceProxy.$checkExists(Fe,xe,Xe)},we=await(0,L.checkActivateWorkspaceContainsExtension)(ge,fe);if(!!we)return this._activateById(fe.identifier,{startup:!0,extensionId:fe.identifier,activationEvent:we.activationEvent}).then(void 0,Fe=>this._logService.error(Fe))}async $extensionTestsExecute(){await this._eagerExtensionsActivated.wait();try{return await this._doHandleExtensionTests()}catch(le){throw console.error(le),le}}async _doHandleExtensionTests(){const{extensionDevelopmentLocationURI:le,extensionTestsLocationURI:fe}=this._initData.environment;if(!le||!fe)throw new Error(n.localize(0,null));const Y=await this._loadCommonJSModule(null,fe,new v.ExtensionActivationTimesBuilder(!1));if(!Y||typeof Y.run!="function")throw new Error(n.localize(1,null,fe.toString()));return new Promise((ge,we)=>{const Fe=(ke,ye)=>{ke?we(ke):ge(typeof ye=="number"&&ye>0?1:0)},xe=(0,M.originalFSPath)(fe),Xe=Y.run(xe,Fe);Xe&&Xe.then&&Xe.then(()=>{ge(0)}).catch(ke=>{we(ke instanceof Error&&ke.stack?ke.stack:String(ke))})})}_startExtensionHost(){if(this._started)throw new Error("Extension host is already started!");return this._started=!0,this._readyToStartExtensionHost.wait().then(()=>this._readyToRunExtensions.open()).then(()=>this._handleEagerExtensions()).then(()=>{this._eagerExtensionsActivated.open(),this._logService.info("Eager extensions activated")})}registerRemoteAuthorityResolver(le,fe){return this._resolvers[le]=fe,(0,A.toDisposable)(()=>{delete this._resolvers[le]})}async _activateAndGetResolver(le){const fe=le.indexOf("+");if(fe===-1)throw new Error("Not an authority that can be resolved!");const Y=le.substr(0,fe);return await this._almostReadyToRunExtensions.wait(),await this._activateByEvent(`onResolveRemoteAuthority:${Y}`,!1),{authorityPrefix:Y,resolver:this._resolvers[Y]}}async $resolveAuthority(le,fe){this._logService.info(`$resolveAuthority invoked for authority (${he(le)})`);const{authorityPrefix:Y,resolver:ge}=await this._activateAndGetResolver(le);if(!ge)return{type:"error",error:{code:r.RemoteAuthorityResolverErrorCode.NoResolverFound,message:`No remote extension installed to resolve ${Y}.`,detail:void 0}};try{this._register(await this._extHostTunnelService.setTunnelFactory(ge)),_.mark(`code/extHost/willResolveAuthority/${Y}`);const we=await ge.resolve(le,{resolveAttempt:fe});_.mark(`code/extHost/didResolveAuthorityOK/${Y}`);const Fe={authority:le,host:we.host,port:we.port,connectionToken:we.connectionToken},xe={extensionHostEnv:we.extensionHostEnv,isTrusted:we.isTrusted,authenticationSession:we.authenticationSessionForInitializingExtensions?{id:we.authenticationSessionForInitializingExtensions.id,providerId:we.authenticationSessionForInitializingExtensions.providerId}:void 0};return{type:"ok",value:{authority:Fe,options:xe,tunnelInformation:{environmentTunnels:we.environmentTunnels,features:we.tunnelFeatures}}}}catch(we){if(_.mark(`code/extHost/didResolveAuthorityError/${Y}`),we instanceof s.RemoteAuthorityResolverError)return{type:"error",error:{code:we._code,message:we._message,detail:we._detail}};throw we}}async $getCanonicalURI(le,fe){this._logService.info(`$getCanonicalURI invoked for authority (${he(le)})`);const{resolver:Y}=await this._activateAndGetResolver(le);if(!Y)return null;const ge=C.URI.revive(fe);if(typeof Y.getCanonicalURI>"u")return ge;const we=await(0,I.asPromise)(()=>Y.getCanonicalURI(ge));return we||ge}static _applyExtensionsDelta(le,fe,Y){const ge=new u.ExtensionDescriptionRegistry(le.getAllExtensionDescriptions());ge.deltaExtensions(Y.toAdd,Y.toRemove);const we=(0,o.extensionIdentifiersArrayToSet)(fe.getAllExtensionDescriptions().map(xe=>xe.identifier));for(const xe of Y.myToRemove)we.delete(E.ExtensionIdentifier.toKey(xe));for(const xe of Y.myToAdd)we.add(E.ExtensionIdentifier.toKey(xe));const Fe=Z(ge,we);return{globalRegistry:ge,myExtensions:Fe}}$startExtensionHost(le){le.toAdd.forEach(ge=>ge.extensionLocation=C.URI.revive(ge.extensionLocation));const{globalRegistry:fe,myExtensions:Y}=Ai._applyExtensionsDelta(this._globalRegistry,this._myRegistry,le);return this._globalRegistry.set(fe.getAllExtensionDescriptions()),this._myRegistry.set(Y),this._startExtensionHost()}$activateByEvent(le,fe){return fe===1?this._activateByEvent(le,!1):this._readyToRunExtensions.wait().then(Y=>this._activateByEvent(le,!1))}async $activate(le,fe){return await this._readyToRunExtensions.wait(),this._myRegistry.getExtensionDescription(le)?(await this._activateById(le,fe),!0):!1}async $deltaExtensions(le){le.toAdd.forEach(Fe=>Fe.extensionLocation=C.URI.revive(Fe.extensionLocation));const{globalRegistry:fe,myExtensions:Y}=Ai._applyExtensionsDelta(this._globalRegistry,this._myRegistry,le),ge=await this._createExtensionPathIndex(Y);return(await this.getExtensionPathIndex()).setSearchTree(ge),this._globalRegistry.set(fe.getAllExtensionDescriptions()),this._myRegistry.set(Y),Promise.resolve(void 0)}async $test_latency(le){return le}async $test_up(le){return le.byteLength}async $test_down(le){const fe=g.VSBuffer.alloc(le),Y=Math.random()%256;for(let ge=0;ge<le;ge++)fe.writeUInt8(Y,ge);return fe}async $updateRemoteConnectionData(le){this._remoteConnectionData=le,this._onDidChangeRemoteConnectionData.fire()}};z=Ve([We(0,a.IInstantiationService),We(1,e.IHostUtils),We(2,c.IExtHostRpcService),We(3,i.IExtHostWorkspace),We(4,f.IExtHostConfiguration),We(5,R.ILogService),We(6,d.IExtHostInitDataService),We(7,l.IExtensionStoragePaths),We(8,m.IExtHostTunnelService),We(9,p.IExtHostTerminalService),We(10,T.IExtHostLocalizationService)],z),e.AbstractExtHostExtensionService=z;function j(ce,le){return{id:ce.identifier.value,name:ce.name,extensionVersion:ce.version,publisherDisplayName:ce.publisher,activationEvents:ce.activationEvents?ce.activationEvents.join(","):null,isBuiltin:ce.isBuiltin,reason:le.activationEvent,reasonId:le.extensionId.value}}e.IExtHostExtensionService=(0,a.createDecorator)("IExtHostExtensionService");class G{constructor(le,fe,Y,ge,we){F.set(this,void 0),O.set(this,void 0),B.set(this,void 0),Ye(this,F,le,"f"),Ye(this,O,fe,"f"),Ye(this,B,Y.identifier,"f"),this.id=Y.identifier.value,this.extensionUri=Y.extensionLocation,this.extensionPath=k.normalize((0,M.originalFSPath)(Y.extensionLocation)),this.packageJSON=Y,this.extensionKind=ge,this.isFromDifferentExtensionHost=we}get isActive(){return Ae(this,F,"f").isActivated(Ae(this,B,"f"))}get exports(){if(!(this.packageJSON.api==="none"||this.isFromDifferentExtensionHost))return Ae(this,F,"f").getExtensionExports(Ae(this,B,"f"))}async activate(){if(this.isFromDifferentExtensionHost)throw new Error("Cannot activate foreign extension");return await Ae(this,F,"f").activateByIdWithErrors(Ae(this,B,"f"),{startup:!1,extensionId:Ae(this,O,"f"),activationEvent:"api"}),this.exports}}e.Extension=G,F=new WeakMap,O=new WeakMap,B=new WeakMap;function Z(ce,le){return ce.getAllExtensionDescriptions().filter(fe=>le.has(E.ExtensionIdentifier.toKey(fe.identifier)))}function he(ce){const le=ce.indexOf("+");return le===-1?ce:ce.substring(0,le)}class oe{constructor(le){this._searchTree=le}setSearchTree(le){this._searchTree=le}findSubstr(le){return this._searchTree.findSubstr(le)}forEach(le){return this._searchTree.forEach(le)}}e.ExtensionPaths=oe}),define(De[239],Ie([1,0,77,2,4,32,25,26,14,27,3,33,49,12,10]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequireInterceptor=void 0;let i=class{constructor(w,s,r,a,d,l,c){this._apiFactory=w,this._extensionRegistry=s,this._instaService=r,this._extHostConfiguration=a,this._extHostExtensionService=d,this._initData=l,this._logService=c,this._factories=new Map,this._alternatives=[]}async install(){this._installInterceptor(),n.mark("code/extHost/willWaitForConfig");const w=await this._extHostConfiguration.getConfigProvider();n.mark("code/extHost/didWaitForConfig");const s=await this._extHostExtensionService.getExtensionPathIndex();this.register(new u(this._apiFactory,s,this._extensionRegistry,w,this._logService)),this.register(this._instaService.createInstance(b,s)),this.register(this._instaService.createInstance(o)),this._initData.remote.isRemote&&this.register(this._instaService.createInstance(E,s,this._initData.environment.appUriScheme))}register(w){if("nodeModuleName"in w)if(Array.isArray(w.nodeModuleName))for(const s of w.nodeModuleName)this._factories.set(s,w);else this._factories.set(w.nodeModuleName,w);typeof w.alternativeModuleName=="function"&&this._alternatives.push(s=>w.alternativeModuleName(s))}};i=Ve([We(2,R.IInstantiationService),We(3,M.IExtHostConfiguration),We(4,y.IExtHostExtensionService),We(5,C.IExtHostInitDataService),We(6,v.ILogService)],i),e.RequireInterceptor=i;let o=class Zi{constructor(w){if(w.environment.appRoot&&Zi.aliased.size){const s=(0,h.escapeRegExpCharacters)(this.forceForwardSlashes(w.environment.appRoot.fsPath)),r="[a-z0-9_.-]",a=`@${r}+\\/${r}+|${r}+`,d="node_modules|node_modules\\.asar(?:\\.unpacked)?";this.re=new RegExp(`^(${s}/${d}\\/)(${a})(.*)$`,"i")}}alternativeModuleName(w){if(!this.re)return;const s=this.re.exec(this.forceForwardSlashes(w));if(!s)return;const[,r,a,d]=s,l=Zi.aliased.get(a);if(l!==void 0)return console.warn(`${a} as been renamed to ${l}, please update your imports`),r+l+d}forceForwardSlashes(w){return w.replace(/\\/g,"/")}};o.aliased=new Map([["vscode-ripgrep","@vscode/ripgrep"],["vscode-windows-registry","@vscode/windows-registry"]]),o=Ve([We(0,C.IExtHostInitDataService)],o);class u{constructor(w,s,r,a,d){this._apiFactory=w,this._extensionPaths=s,this._extensionRegistry=r,this._configProvider=a,this._logService=d,this.nodeModuleName="vscode",this._extApiImpl=new Map}load(w,s){const r=this._extensionPaths.findSubstr(s);if(r){let a=this._extApiImpl.get(A.ExtensionIdentifier.toKey(r.identifier));return a||(a=this._apiFactory(r,this._extensionRegistry,this._configProvider),this._extApiImpl.set(A.ExtensionIdentifier.toKey(r.identifier),a)),a}if(!this._defaultApiImpl){let a="";this._extensionPaths.forEach((d,l)=>a+=`	${l} -> ${d.identifier.value}
`),this._logService.warn(`Could not identify extension for 'vscode' require call from ${s}. These are the extension path mappings: 
${a}`),this._defaultApiImpl=this._apiFactory(I.nullExtensionDescription,this._extensionRegistry,this._configProvider)}return this._defaultApiImpl}}let b=class{constructor(w,s,r){this._extensionPaths=w,this.nodeModuleName="keytar",this._mainThreadTelemetry=s.getProxy(_.MainContext.MainThreadTelemetry);const{environment:a}=r,d=s.getProxy(_.MainContext.MainThreadKeytar);if(a.appRoot){let l=a.appRoot.fsPath;f.platform==="win32"&&(l=l.replace(/\\/g,"/")),l[l.length-1]==="/"&&(l=l.substr(0,l.length-1)),this.alternativeNames=new Set,this.alternativeNames.add(`${l}/node_modules.asar/keytar`),this.alternativeNames.add(`${l}/node_modules/keytar`)}this._impl={getPassword:(l,c)=>d.$getPassword(l,c),setPassword:(l,c,t)=>d.$setPassword(l,c,t),deletePassword:(l,c)=>d.$deletePassword(l,c),findPassword:l=>d.$findPassword(l),findCredentials(l){return d.$findCredentials(l)}}}load(w,s){const r=this._extensionPaths.findSubstr(s);return this._mainThreadTelemetry.$publicLog2("shimming.keytar",{extension:r?.identifier.value??"unknown_extension"}),this._impl}alternativeModuleName(w){const s=w.length;if(s<=7||!this.alternativeNames)return;const r=s-7;if((w.charAt(r)==="/"||w.charAt(r)==="\\")&&w.endsWith("keytar")&&(w=w.replace(/\\/g,"/"),this.alternativeNames.has(w)))return"keytar"}};b=Ve([We(1,S.IExtHostRpcService),We(2,C.IExtHostInitDataService)],b);let E=class{constructor(w,s,r){this._extensionPaths=w,this._appUriScheme=s,this.nodeModuleName=["open","opn"],this._mainThreadTelemetry=r.getProxy(_.MainContext.MainThreadTelemetry);const a=r.getProxy(_.MainContext.MainThreadWindow);this._impl=(d,l)=>{const c=k.URI.parse(d);return l?this.callOriginal(d,l):c.scheme==="http"||c.scheme==="https"?a.$openUri(c,d,{allowTunneling:!0}):c.scheme==="mailto"||c.scheme===this._appUriScheme?a.$openUri(c,d,{}):this.callOriginal(d,l)}}load(w,s,r){const a=this._extensionPaths.findSubstr(s);return a&&(this._extensionId=a.identifier.value,this.sendShimmingTelemetry()),this._original=r(w),this._impl}callOriginal(w,s){return this.sendNoForwardTelemetry(),this._original(w,s)}sendShimmingTelemetry(){!this._extensionId||this._mainThreadTelemetry.$publicLog2("shimming.open",{extension:this._extensionId})}sendNoForwardTelemetry(){!this._extensionId||this._mainThreadTelemetry.$publicLog2("shimming.open.call.noForward",{extension:this._extensionId})}};E=Ve([We(2,S.IExtHostRpcService)],E)}),define(De[104],Ie([1,0,204,7,19,49,3,55,56,33,6,31,177,32]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostVariableResolverProviderService=e.IExtHostVariableResolverProvider=void 0,e.IExtHostVariableResolverProvider=(0,I.createDecorator)("IExtHostVariableResolverProvider");class h extends f.AbstractVariableResolverService{constructor(u,b,E,g,w,s,r){function a(){if(E){const d=E.activeEditor();if(d)return d.document.uri;const l=g.tabGroups.all.find(c=>c.isActive)?.activeTab;if(l!==void 0){if(l.input instanceof R.TextDiffTabInput||l.input instanceof R.NotebookDiffEditorTabInput)return l.input.modified;if(l.input instanceof R.TextTabInput||l.input instanceof R.NotebookEditorTabInput||l.input instanceof R.CustomEditorTabInput)return l.input.uri}}}super({getFolderUri:d=>{const l=s.folders.filter(c=>c.name===d);if(l&&l.length>0)return l[0].uri},getWorkspaceFolderCount:()=>s.folders.length,getConfigurationValue:(d,l)=>w.getConfiguration(void 0,d).get(l),getAppRoot:()=>M.cwd(),getExecPath:()=>M.env.VSCODE_EXEC_PATH,getFilePath:()=>{const d=a();if(d)return _.normalize(d.fsPath)},getWorkspaceFolderPathForFile:()=>{if(b){const d=a();if(d){const l=b.getWorkspaceFolder(d);if(l)return _.normalize(l.uri.fsPath)}}},getSelectedText:()=>{if(E){const d=E.activeEditor();if(d&&!d.selection.isEmpty)return d.document.getText(d.selection)}},getLineNumber:()=>{if(E){const d=E.activeEditor();if(d)return String(d.selection.end.line+1)}},getExtension:d=>u.getExtension(d)},void 0,r?Promise.resolve(r):void 0,Promise.resolve(M.env))}}let i=class extends k.Disposable{constructor(u,b,E,g,w){super(),this.extensionService=u,this.workspaceService=b,this.editorService=E,this.configurationService=g,this.editorTabs=w,this._resolver=new n.Lazy(async()=>{const s=await this.configurationService.getConfigProvider(),a={folders:await this.workspaceService.getWorkspaceFolders2()||[]};return this._register(this.workspaceService.onDidChangeWorkspace(async d=>{a.folders=await this.workspaceService.getWorkspaceFolders2()||[]})),new h(this.extensionService,this.workspaceService,this.editorService,this.editorTabs,s,a,this.homeDir())})}getResolver(){return this._resolver.getValue()}homeDir(){}};i=Ve([We(0,C.IExtHostExtensionService),We(1,y.IExtHostWorkspace),We(2,A.IExtHostDocumentsAndEditors),We(3,v.IExtHostConfiguration),We(4,S.IExtHostEditorTabs)],i),e.ExtHostVariableResolverProviderService=i}),define(De[105],Ie([1,0,15,5,9,2,3,4,56,33,14,6,31,169,171,32,104]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostDebugService=e.ExtHostDebugConsole=e.ExtHostDebugSession=e.ExtHostDebugServiceBase=e.IExtHostDebugService=void 0,e.IExtHostDebugService=(0,I.createDecorator)("IExtHostDebugService");let u=class{get onDidStartDebugSession(){return this._onDidStartDebugSession.event}get onDidTerminateDebugSession(){return this._onDidTerminateDebugSession.event}get onDidChangeActiveDebugSession(){return this._onDidChangeActiveDebugSession.event}get activeDebugSession(){return this._activeDebugSession}get onDidReceiveDebugSessionCustomEvent(){return this._onDidReceiveDebugSessionCustomEvent.event}get activeDebugConsole(){return this._activeDebugConsole.value}constructor(a,d,l,c,t,m){this._workspaceService=d,this._extensionService=l,this._configurationService=c,this._editorTabs=t,this._variableResolver=m,this._debugSessions=new Map,this._configProviderHandleCounter=0,this._configProviders=[],this._adapterFactoryHandleCounter=0,this._adapterFactories=[],this._trackerFactoryHandleCounter=0,this._trackerFactories=[],this._debugAdapters=new Map,this._debugAdaptersTrackers=new Map,this._onDidStartDebugSession=new k.Emitter,this._onDidTerminateDebugSession=new k.Emitter,this._onDidChangeActiveDebugSession=new k.Emitter,this._onDidReceiveDebugSessionCustomEvent=new k.Emitter,this._debugServiceProxy=a.getProxy(A.MainContext.MainThreadDebugService),this._onDidChangeBreakpoints=new k.Emitter({onWillAddFirstListener:()=>{this.startBreakpoints()}}),this._activeDebugConsole=new E(this._debugServiceProxy),this._breakpoints=new Map,this._breakpointEventsActive=!1,this._extensionService.getExtensionRegistry().then(p=>{p.onDidChange(P=>{this.registerAllDebugTypes(p)}),this.registerAllDebugTypes(p)})}asDebugSourceUri(a,d){const l=a;if(typeof l.sourceReference=="number"&&l.sourceReference>0){let c=`debug:${encodeURIComponent(l.path||"")}`,t="?";return d&&(c+=`${t}session=${encodeURIComponent(d.id)}`,t="&"),c+=`${t}ref=${l.sourceReference}`,M.URI.parse(c)}else{if(l.path)return M.URI.file(l.path);throw new Error("cannot create uri from DAP 'source' object; properties 'path' and 'sourceReference' are both missing.")}}registerAllDebugTypes(a){const d=[];for(const l of a.getAllExtensionDescriptions())if(l.contributes){const c=l.contributes.debuggers;if(c&&c.length>0)for(const t of c)(0,h.isDebuggerMainContribution)(t)&&d.push(t.type)}this._debugServiceProxy.$registerDebugTypes(d)}get onDidChangeBreakpoints(){return this._onDidChangeBreakpoints.event}get breakpoints(){this.startBreakpoints();const a=[];return this._breakpoints.forEach(d=>a.push(d)),a}addBreakpoints(a){this.startBreakpoints();const d=a.filter(t=>{const m=t.id;return this._breakpoints.has(m)?!1:(this._breakpoints.set(m,t),!0)});this.fireBreakpointChanges(d,[],[]);const l=[],c=new Map;for(const t of d)if(t instanceof y.SourceBreakpoint){let m=c.get(t.location.uri.toString());m||(m={type:"sourceMulti",uri:t.location.uri,lines:[]},c.set(t.location.uri.toString(),m),l.push(m)),m.lines.push({id:t.id,enabled:t.enabled,condition:t.condition,hitCondition:t.hitCondition,logMessage:t.logMessage,line:t.location.range.start.line,character:t.location.range.start.character})}else t instanceof y.FunctionBreakpoint&&l.push({type:"function",id:t.id,enabled:t.enabled,hitCondition:t.hitCondition,logMessage:t.logMessage,condition:t.condition,functionName:t.functionName});return this._debugServiceProxy.$registerBreakpoints(l)}removeBreakpoints(a){this.startBreakpoints();const d=a.filter(m=>this._breakpoints.delete(m.id));this.fireBreakpointChanges([],d,[]);const l=d.filter(m=>m instanceof y.SourceBreakpoint).map(m=>m.id),c=d.filter(m=>m instanceof y.FunctionBreakpoint).map(m=>m.id),t=d.filter(m=>m instanceof y.DataBreakpoint).map(m=>m.id);return this._debugServiceProxy.$unregisterBreakpoints(l,c,t)}startDebugging(a,d,l){return this._debugServiceProxy.$startDebugging(a?a.uri:void 0,d,{parentSessionID:l.parentSession?l.parentSession.id:void 0,lifecycleManagedByParent:l.lifecycleManagedByParent,repl:l.consoleMode===y.DebugConsoleMode.MergeWithParent?"mergeWithParent":"separate",noDebug:l.noDebug,compact:l.compact,suppressSaveBeforeStart:l.suppressSaveBeforeStart,suppressDebugStatusbar:l.suppressDebugStatusbar??l.debugUI?.simple,suppressDebugToolbar:l.suppressDebugToolbar??l.debugUI?.simple,suppressDebugView:l.suppressDebugView??l.debugUI?.simple})}stopDebugging(a){return this._debugServiceProxy.$stopDebugging(a?a.id:void 0)}registerDebugConfigurationProvider(a,d,l){if(!d)return new y.Disposable(()=>{});const c=this._configProviderHandleCounter++;return this._configProviders.push({type:a,handle:c,provider:d}),this._debugServiceProxy.$registerDebugConfigurationProvider(a,l,!!d.provideDebugConfigurations,!!d.resolveDebugConfiguration,!!d.resolveDebugConfigurationWithSubstitutedVariables,c),new y.Disposable(()=>{this._configProviders=this._configProviders.filter(t=>t.provider!==d),this._debugServiceProxy.$unregisterDebugConfigurationProvider(c)})}registerDebugAdapterDescriptorFactory(a,d,l){if(!l)return new y.Disposable(()=>{});if(!this.definesDebugType(a,d))throw new Error(`a DebugAdapterDescriptorFactory can only be registered from the extension that defines the '${d}' debugger.`);if(this.getAdapterDescriptorFactoryByType(d))throw new Error("a DebugAdapterDescriptorFactory can only be registered once per a type.");const c=this._adapterFactoryHandleCounter++;return this._adapterFactories.push({type:d,handle:c,factory:l}),this._debugServiceProxy.$registerDebugAdapterDescriptorFactory(d,c),new y.Disposable(()=>{this._adapterFactories=this._adapterFactories.filter(t=>t.factory!==l),this._debugServiceProxy.$unregisterDebugAdapterDescriptorFactory(c)})}registerDebugAdapterTrackerFactory(a,d){if(!d)return new y.Disposable(()=>{});const l=this._trackerFactoryHandleCounter++;return this._trackerFactories.push({type:a,handle:l,factory:d}),new y.Disposable(()=>{this._trackerFactories=this._trackerFactories.filter(c=>c.factory!==d)})}async $runInTerminal(a,d){return Promise.resolve(void 0)}async $substituteVariables(a,d){let l;const c=await this.getFolder(a);return c&&(l={uri:c.uri,name:c.name,index:c.index,toResource:()=>{throw new Error("Not implemented")}}),(await this._variableResolver.getResolver()).resolveAnyAsync(l,d)}createDebugAdapter(a,d){if(a.type==="implementation")return new w(a.implementation)}createSignService(){}async $startDASession(a,d){const l=this,c=await this.getSession(d);return this.getAdapterDescriptor(this.getAdapterDescriptorFactoryByType(c.type),c).then(t=>{if(!t)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${c.type}' (extension might have failed to activate)`);const m=this.convertToDto(t),p=this.createDebugAdapter(m,c);if(!p)throw new Error(`Couldn't create a debug adapter for type '${c.type}'.`);const P=p;return this._debugAdapters.set(a,P),this.getDebugAdapterTrackers(c).then(L=>(L&&this._debugAdaptersTrackers.set(a,L),P.onMessage(async V=>{if(V.type==="request"&&V.command==="handshake"){const H=V,W={type:"response",seq:0,command:H.command,request_seq:H.seq,success:!0};this._signService||(this._signService=this.createSignService());try{if(this._signService){const T=await this._signService.sign(H.arguments.value);W.body={signature:T},P.sendResponse(W)}else throw new Error("no signer")}catch(T){W.success=!1,W.message=T.message,P.sendResponse(W)}}else L&&L.onDidSendMessage&&L.onDidSendMessage(V),V=(0,h.convertToVSCPaths)(V,!0),l._debugServiceProxy.$acceptDAMessage(a,V)}),P.onError(V=>{L&&L.onError&&L.onError(V),this._debugServiceProxy.$acceptDAError(a,V.name,V.message,V.stack)}),P.onExit(V=>{L&&L.onExit&&L.onExit((0,_.withNullAsUndefined)(V),void 0),this._debugServiceProxy.$acceptDAExit(a,(0,_.withNullAsUndefined)(V),void 0)}),L&&L.onWillStartSession&&L.onWillStartSession(),P.startSession()))})}$sendDAMessage(a,d){d=(0,h.convertToDAPaths)(d,!1);const l=this._debugAdaptersTrackers.get(a);l&&l.onWillReceiveMessage&&l.onWillReceiveMessage(d),this._debugAdapters.get(a)?.sendMessage(d)}$stopDASession(a){const d=this._debugAdaptersTrackers.get(a);this._debugAdaptersTrackers.delete(a),d&&d.onWillStopSession&&d.onWillStopSession();const l=this._debugAdapters.get(a);return this._debugAdapters.delete(a),l?l.stopSession():Promise.resolve(void 0)}$acceptBreakpointsDelta(a){const d=[],l=[],c=[];if(a.added)for(const t of a.added){const m=t.id;if(m&&!this._breakpoints.has(m)){let p;if(t.type==="function")p=new y.FunctionBreakpoint(t.functionName,t.enabled,t.condition,t.hitCondition,t.logMessage);else if(t.type==="data")p=new y.DataBreakpoint(t.label,t.dataId,t.canPersist,t.enabled,t.hitCondition,t.condition,t.logMessage);else{const P=M.URI.revive(t.uri);p=new y.SourceBreakpoint(new y.Location(P,new y.Position(t.line,t.character)),t.enabled,t.condition,t.hitCondition,t.logMessage)}p._id=m,this._breakpoints.set(m,p),d.push(p)}}if(a.removed)for(const t of a.removed){const m=this._breakpoints.get(t);m&&(this._breakpoints.delete(t),l.push(m))}if(a.changed){for(const t of a.changed)if(t.id){const m=this._breakpoints.get(t.id);if(m){if(m instanceof y.FunctionBreakpoint&&t.type==="function"){const p=m;p.enabled=t.enabled,p.condition=t.condition,p.hitCondition=t.hitCondition,p.logMessage=t.logMessage,p.functionName=t.functionName}else if(m instanceof y.SourceBreakpoint&&t.type==="source"){const p=m;p.enabled=t.enabled,p.condition=t.condition,p.hitCondition=t.hitCondition,p.logMessage=t.logMessage,p.location=new y.Location(M.URI.revive(t.uri),new y.Position(t.line,t.character))}c.push(m)}}}this.fireBreakpointChanges(d,l,c)}$provideDebugConfigurations(a,d,l){return(0,n.asPromise)(async()=>{const c=this.getConfigProviderByHandle(a);if(!c)throw new Error("no DebugConfigurationProvider found");if(!c.provideDebugConfigurations)throw new Error("DebugConfigurationProvider has no method provideDebugConfigurations");const t=await this.getFolder(d);return c.provideDebugConfigurations(t,l)}).then(c=>{if(!c)throw new Error("nothing returned from DebugConfigurationProvider.provideDebugConfigurations");return c})}$resolveDebugConfiguration(a,d,l,c){return(0,n.asPromise)(async()=>{const t=this.getConfigProviderByHandle(a);if(!t)throw new Error("no DebugConfigurationProvider found");if(!t.resolveDebugConfiguration)throw new Error("DebugConfigurationProvider has no method resolveDebugConfiguration");const m=await this.getFolder(d);return t.resolveDebugConfiguration(m,l,c)})}$resolveDebugConfigurationWithSubstitutedVariables(a,d,l,c){return(0,n.asPromise)(async()=>{const t=this.getConfigProviderByHandle(a);if(!t)throw new Error("no DebugConfigurationProvider found");if(!t.resolveDebugConfigurationWithSubstitutedVariables)throw new Error("DebugConfigurationProvider has no method resolveDebugConfigurationWithSubstitutedVariables");const m=await this.getFolder(d);return t.resolveDebugConfigurationWithSubstitutedVariables(m,l,c)})}async $provideDebugAdapter(a,d){const l=this.getAdapterDescriptorFactoryByHandle(a);if(!l)return Promise.reject(new Error("no adapter descriptor factory found for handle"));const c=await this.getSession(d);return this.getAdapterDescriptor(l,c).then(t=>{if(!t)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${c.type}'`);return this.convertToDto(t)})}async $acceptDebugSessionStarted(a){const d=await this.getSession(a);this._onDidStartDebugSession.fire(d)}async $acceptDebugSessionTerminated(a){const d=await this.getSession(a);d&&(this._onDidTerminateDebugSession.fire(d),this._debugSessions.delete(d.id))}async $acceptDebugSessionActiveChanged(a){this._activeDebugSession=a?await this.getSession(a):void 0,this._onDidChangeActiveDebugSession.fire(this._activeDebugSession)}async $acceptDebugSessionNameChanged(a,d){(await this.getSession(a))?._acceptNameChanged(d)}async $acceptDebugSessionCustomEvent(a,d){const c={session:await this.getSession(a),event:d.event,body:d.body};this._onDidReceiveDebugSessionCustomEvent.fire(c)}convertToDto(a){if(a instanceof y.DebugAdapterExecutable)return{type:"executable",command:a.command,args:a.args,options:a.options};if(a instanceof y.DebugAdapterServer)return{type:"server",port:a.port,host:a.host};if(a instanceof y.DebugAdapterNamedPipeServer)return{type:"pipeServer",path:a.path};if(a instanceof y.DebugAdapterInlineImplementation)return{type:"implementation",implementation:a.implementation};throw new Error("convertToDto unexpected type")}getAdapterDescriptorFactoryByType(a){const d=this._adapterFactories.filter(l=>l.type===a);if(d.length>0)return d[0].factory}getAdapterDescriptorFactoryByHandle(a){const d=this._adapterFactories.filter(l=>l.handle===a);if(d.length>0)return d[0].factory}getConfigProviderByHandle(a){const d=this._configProviders.filter(l=>l.handle===a);if(d.length>0)return d[0].provider}definesDebugType(a,d){if(a.contributes){const l=a.contributes.debuggers;if(l&&l.length>0){for(const c of l)if(c.label&&c.type&&c.type===d)return!0}}return!1}getDebugAdapterTrackers(a){const l=a.configuration.type,c=this._trackerFactories.filter(t=>t.type===l||t.type==="*").map(t=>(0,n.asPromise)(()=>t.factory.createDebugAdapterTracker(a)).then(m=>m,m=>null));return Promise.race([Promise.all(c).then(t=>{const m=t.filter(p=>!!p);if(m.length>0)return new g(m)}),new Promise(t=>setTimeout(()=>t(void 0),1e3))]).catch(t=>{})}async getAdapterDescriptor(a,d){const l=d.configuration.debugServer;if(typeof l=="number")return Promise.resolve(new y.DebugAdapterServer(l));if(a){const t=await this._extensionService.getExtensionRegistry();return(0,n.asPromise)(()=>a.createDebugAdapterDescriptor(d,this.daExecutableFromPackage(d,t))).then(m=>{if(m)return m})}const c=await this._extensionService.getExtensionRegistry();return Promise.resolve(this.daExecutableFromPackage(d,c))}daExecutableFromPackage(a,d){}startBreakpoints(){this._breakpointEventsActive||(this._breakpointEventsActive=!0,this._debugServiceProxy.$startBreakpointEvents())}fireBreakpointChanges(a,d,l){(a.length>0||d.length>0||l.length>0)&&this._onDidChangeBreakpoints.fire(Object.freeze({added:a,removed:d,changed:l}))}async getSession(a){if(a)if(typeof a=="string"){const d=this._debugSessions.get(a);if(d)return d}else{let d=this._debugSessions.get(a.id);if(!d){const l=await this.getFolder(a.folderUri),c=a.parent?this._debugSessions.get(a.parent):void 0;d=new b(this._debugServiceProxy,a.id,a.type,a.name,l,a.configuration,c),this._debugSessions.set(d.id,d),this._debugServiceProxy.$sessionCached(d.id)}return d}throw new Error("cannot find session")}getFolder(a){if(a){const d=M.URI.revive(a);return this._workspaceService.resolveWorkspaceFolder(d)}return Promise.resolve(void 0)}};u=Ve([We(0,R.IExtHostRpcService),We(1,f.IExtHostWorkspace),We(2,C.IExtHostExtensionService),We(3,i.IExtHostConfiguration),We(4,S.IExtHostEditorTabs),We(5,o.IExtHostVariableResolverProvider)],u),e.ExtHostDebugServiceBase=u;class b{constructor(a,d,l,c,t,m,p){this._debugServiceProxy=a,this._id=d,this._type=l,this._name=c,this._workspaceFolder=t,this._configuration=m,this._parentSession=p}get id(){return this._id}get type(){return this._type}get name(){return this._name}set name(a){this._name=a,this._debugServiceProxy.$setDebugSessionName(this._id,a)}get parentSession(){return this._parentSession}_acceptNameChanged(a){this._name=a}get workspaceFolder(){return this._workspaceFolder}get configuration(){return this._configuration}customRequest(a,d){return this._debugServiceProxy.$customDebugAdapterRequest(this._id,a,d)}getDebugProtocolBreakpoint(a){return this._debugServiceProxy.$getDebugProtocolBreakpoint(this._id,a.id)}}e.ExtHostDebugSession=b;class E{constructor(a){this.value=Object.freeze({append(d){a.$appendDebugConsole(d)},appendLine(d){this.append(d+`
`)}})}}e.ExtHostDebugConsole=E;class g{constructor(a){this.trackers=a}onWillStartSession(){this.trackers.forEach(a=>a.onWillStartSession?a.onWillStartSession():void 0)}onWillReceiveMessage(a){this.trackers.forEach(d=>d.onWillReceiveMessage?d.onWillReceiveMessage(a):void 0)}onDidSendMessage(a){this.trackers.forEach(d=>d.onDidSendMessage?d.onDidSendMessage(a):void 0)}onWillStopSession(){this.trackers.forEach(a=>a.onWillStopSession?a.onWillStopSession():void 0)}onError(a){this.trackers.forEach(d=>d.onError?d.onError(a):void 0)}onExit(a,d){this.trackers.forEach(l=>l.onExit?l.onExit(a,d):void 0)}}class w extends v.AbstractDebugAdapter{constructor(a){super(),this.implementation=a,a.onDidSendMessage(d=>{this.acceptMessage(d)})}startSession(){return Promise.resolve(void 0)}sendMessage(a){this.implementation.handleMessage(a)}stopSession(){return this.implementation.dispose(),Promise.resolve(void 0)}}let s=class extends u{constructor(a,d,l,c,t,m){super(a,d,l,c,t,m)}};s=Ve([We(0,R.IExtHostRpcService),We(1,f.IExtHostWorkspace),We(2,C.IExtHostExtensionService),We(3,i.IExtHostConfiguration),We(4,S.IExtHostEditorTabs),We(5,o.IExtHostVariableResolverProvider)],s),e.WorkerExtHostDebugService=s}),define(De[240],Ie([1,0,11,77,2,4,231,12,62,63,27,151,14,52,33,70]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostMain=void 0;class o{static async installEarlyHandler(E){const g=E.get(A.ILogService),s=E.get(f.IExtHostRpcService).getProxy(M.MainContext.MainThreadErrors);n.setUnexpectedErrorHandler(r=>{g.error(r);const a=n.transformErrorForSerialization(r);s.$onUnexpectedError(a)})}static async installFullHandler(E){const g=E.get(A.ILogService),w=E.get(f.IExtHostRpcService),s=E.get(h.IExtHostExtensionService),r=E.get(i.IExtHostTelemetry),a=w.getProxy(M.MainContext.MainThreadExtensionService),d=w.getProxy(M.MainContext.MainThreadErrors),l=await s.getExtensionPathIndex(),c=new WeakMap;Error.prepareStackTrace=(t,m)=>{let p="",P,L;for(const V of m)p+=`
	at ${V.toString()}`,L=V.getFileName(),!P&&L&&(P=l.findSubstr(_.URI.file(L)));return c.set(t,P?.identifier),`${t.name||"Error"}: ${t.message||""}${p}`},n.setUnexpectedErrorHandler(t=>{g.error(t);const m=n.transformErrorForSerialization(t),p=c.get(t);if(!p){d.$onUnexpectedError(m);return}a.$onExtensionRuntimeError(p,m);const P=r.onExtensionError(p,t);g.trace("forwarded error to extension?",P,p)})}}Error.stackTraceLimit=100;class u{constructor(E,g,w,s,r){this._hostUtils=w,this._rpcProtocol=new I.RPCProtocol(E,null,s),g=u._transform(g,this._rpcProtocol);const a=new C.ServiceCollection(...(0,S.getSingletonServiceDescriptors)());a.set(R.IExtHostInitDataService,{_serviceBrand:void 0,...g,messagePorts:r}),a.set(f.IExtHostRpcService,new f.ExtHostRpcService(this._rpcProtocol)),a.set(v.IURITransformerService,new v.URITransformerService(s)),a.set(h.IHostUtils,w);const d=new y.InstantiationService(a,!0);d.invokeFunction(o.installEarlyHandler),this._logService=d.invokeFunction(l=>l.get(A.ILogService)),k.mark("code/extHost/didCreateServices"),this._hostUtils.pid?this._logService.info(`Extension host with pid ${this._hostUtils.pid} started`):this._logService.info("Extension host started"),this._logService.trace("initData",g),this._extensionService=d.invokeFunction(l=>l.get(h.IExtHostExtensionService)),this._extensionService.initialize(),d.invokeFunction(o.installFullHandler)}async asBrowserUri(E){const g=this._rpcProtocol.getProxy(M.MainContext.MainThreadExtensionService);return _.URI.revive(await g.$asBrowserUri(E))}terminate(E){this._extensionService.terminate(E)}static _transform(E,g){E.allExtensions.forEach(s=>{s.extensionLocation=_.URI.revive(g.transformIncomingURIs(s.extensionLocation));const r={};s.browserNlsBundleUris&&(Object.keys(s.browserNlsBundleUris).forEach(a=>r[a]=_.URI.revive(g.transformIncomingURIs(s.browserNlsBundleUris[a]))),s.browserNlsBundleUris=r)}),E.environment.appRoot=_.URI.revive(g.transformIncomingURIs(E.environment.appRoot));const w=E.environment.extensionDevelopmentLocationURI;return w&&(E.environment.extensionDevelopmentLocationURI=w.map(s=>_.URI.revive(g.transformIncomingURIs(s)))),E.environment.extensionTestsLocationURI=_.URI.revive(g.transformIncomingURIs(E.environment.extensionTestsLocationURI)),E.environment.globalStorageHome=_.URI.revive(g.transformIncomingURIs(E.environment.globalStorageHome)),E.environment.workspaceStorageHome=_.URI.revive(g.transformIncomingURIs(E.environment.workspaceStorageHome)),E.environment.extensionTelemetryLogResource=_.URI.revive(g.transformIncomingURIs(E.environment.extensionTelemetryLogResource)),E.nlsBaseUrl=_.URI.revive(g.transformIncomingURIs(E.nlsBaseUrl)),E.logsLocation=_.URI.revive(g.transformIncomingURIs(E.logsLocation)),E.logFile=_.URI.revive(g.transformIncomingURIs(E.logFile)),E.workspace=g.transformIncomingURIs(E.workspace),E}}e.ExtensionHostMain=u}),define(De[241],Ie([1,0,16,15,20,45,13,19,22,2,44]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchedCollector=e.extensionResultIsMatch=e.TextSearchResultsCollector=e.TextSearchManager=void 0;class y{constructor(b,E,g,w){this.query=b,this.provider=E,this.fileUtils=g,this.processType=w,this.collector=null,this.isLimitHit=!1,this.resultCount=0}search(b,E){const g=this.query.folderQueries||[],w=new _.CancellationTokenSource;return E.onCancellationRequested(()=>w.cancel()),new Promise((s,r)=>{this.collector=new v(b);let a=!1;const d=(l,c)=>{if(!a&&!this.isLimitHit){const t=this.resultSize(l);i(l)&&typeof this.query.maxResults=="number"&&this.resultCount+t>this.query.maxResults&&(this.isLimitHit=!0,a=!0,w.cancel(),l=this.trimResultToSize(l,this.query.maxResults-this.resultCount));const m=this.resultSize(l);this.resultCount+=m,(m>0||!i(l))&&this.collector.add(l,c)}};Promise.all(g.map((l,c)=>this.searchInFolder(l,t=>d(t,c),w.token))).then(l=>{w.dispose(),this.collector.flush();const c=l.some(t=>!!t&&!!t.limitHit);s({limitHit:this.isLimitHit||c,messages:(0,n.flatten)(l.map(t=>t?.message?Array.isArray(t.message)?t.message:[t.message]:[])),stats:{type:this.processType}})},l=>{w.dispose();const c=(0,M.toErrorMessage)(l);r(new Error(c))})})}resultSize(b){return i(b)?Array.isArray(b.ranges)?b.ranges.length:1:0}trimResultToSize(b,E){const g=Array.isArray(b.ranges)?b.ranges:[b.ranges],w=Array.isArray(b.preview.matches)?b.preview.matches:[b.preview.matches];return{ranges:g.slice(0,E),preview:{matches:w.slice(0,E),text:b.preview.text},uri:b.uri}}async searchInFolder(b,E,g){const w=new R.QueryGlobTester(this.query,b),s=[],r={report:l=>{if(!this.validateProviderResult(l))return;const c=b.folder.scheme===I.Schemas.file?(0,R.hasSiblingPromiseFn)(()=>this.fileUtils.readdir(S.dirname(l.uri))):void 0,t=S.relativePath(b.folder,l.uri);if(t){const m=w.includedInQuery(t,A.basename(t),c);(0,k.isThenable)(m)?s.push(m.then(p=>{p&&E(l)})):m&&E(l)}}},a=this.getSearchOptionsForFolder(b),d=await this.provider.provideTextSearchResults(f(this.query.contentPattern),a,r,g);return s.length&&await Promise.all(s),d}validateProviderResult(b){if(i(b)){if(Array.isArray(b.ranges)){if(!Array.isArray(b.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same type."),!1;if(b.preview.matches.length!==b.ranges.length)return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}else if(Array.isArray(b.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}return!0}getSearchOptionsForFolder(b){const E=(0,R.resolvePatternsForProvider)(this.query.includePattern,b.includePattern),g=(0,R.resolvePatternsForProvider)(this.query.excludePattern,b.excludePattern),w={folder:C.URI.from(b.folder),excludes:g,includes:E,useIgnoreFiles:!b.disregardIgnoreFiles,useGlobalIgnoreFiles:!b.disregardGlobalIgnoreFiles,useParentIgnoreFiles:!b.disregardParentIgnoreFiles,followSymlinks:!b.ignoreSymlinks,encoding:b.fileEncoding&&this.fileUtils.toCanonicalName(b.fileEncoding),maxFileSize:this.query.maxFileSize,maxResults:this.query.maxResults,previewOptions:this.query.previewOptions,afterContext:this.query.afterContext,beforeContext:this.query.beforeContext};return w.usePCRE2=this.query.usePCRE2,w}}e.TextSearchManager=y;function f(u){return{isCaseSensitive:u.isCaseSensitive||!1,isRegExp:u.isRegExp||!1,isWordMatch:u.isWordMatch||!1,isMultiline:u.isMultiline||!1,pattern:u.pattern}}class v{constructor(b){this._onResult=b,this._currentFolderIdx=-1,this._currentFileMatch=null,this._batchedCollector=new o(512,E=>this.sendItems(E))}add(b,E){this._currentFileMatch&&(this._currentFolderIdx!==E||!S.isEqual(this._currentUri,b.uri))&&(this.pushToCollector(),this._currentFileMatch=null),this._currentFileMatch||(this._currentFolderIdx=E,this._currentFileMatch={resource:b.uri,results:[]}),this._currentFileMatch.results.push(h(b))}pushToCollector(){const b=this._currentFileMatch&&this._currentFileMatch.results?this._currentFileMatch.results.length:0;this._batchedCollector.addItem(this._currentFileMatch,b)}flush(){this.pushToCollector(),this._batchedCollector.flush()}sendItems(b){this._onResult(b)}}e.TextSearchResultsCollector=v;function h(u){return i(u)?{preview:{matches:(0,n.mapArrayOrNot)(u.preview.matches,b=>({startLineNumber:b.start.line,startColumn:b.start.character,endLineNumber:b.end.line,endColumn:b.end.character})),text:u.preview.text},ranges:(0,n.mapArrayOrNot)(u.ranges,b=>({startLineNumber:b.start.line,startColumn:b.start.character,endLineNumber:b.end.line,endColumn:b.end.character}))}:{text:u.text,lineNumber:u.lineNumber}}function i(u){return!!u.preview}e.extensionResultIsMatch=i;class o{constructor(b,E){this.maxBatchSize=b,this.cb=E,this.totalNumberCompleted=0,this.batch=[],this.batchSize=0}addItem(b,E){!b||this.addItemToBatch(b,E)}addItems(b,E){!b||this.addItemsToBatch(b,E)}addItemToBatch(b,E){this.batch.push(b),this.batchSize+=E,this.onUpdate()}addItemsToBatch(b,E){this.batch=this.batch.concat(b),this.batchSize+=E,this.onUpdate()}onUpdate(){this.totalNumberCompleted<o.START_BATCH_AFTER_COUNT?this.flush():this.batchSize>=this.maxBatchSize?this.flush():this.timeoutHandle||(this.timeoutHandle=setTimeout(()=>{this.flush()},o.TIMEOUT))}flush(){this.batchSize&&(this.totalNumberCompleted+=this.batchSize,this.cb(this.batch),this.batch=[],this.batchSize=0,this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=0))}}e.BatchedCollector=o,o.TIMEOUT=4e3,o.START_BATCH_AFTER_COUNT=50}),define(De[106],Ie([1,0,7,4,3,236,14,52,12,2,241]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reviveQuery=e.ExtHostSearch=e.IExtHostSearch=void 0,e.IExtHostSearch=(0,_.createDecorator)("IExtHostSearch");let y=class{constructor(i,o,u){this.extHostRpc=i,this._uriTransformer=o,this._logService=u,this._proxy=this.extHostRpc.getProxy(k.MainContext.MainThreadSearch),this._handlePool=0,this._textSearchProvider=new Map,this._textSearchUsedSchemes=new Set,this._fileSearchProvider=new Map,this._fileSearchUsedSchemes=new Set,this._fileSearchManager=new M.FileSearchManager}_transformScheme(i){return this._uriTransformer.transformOutgoingScheme(i)}registerTextSearchProvider(i,o){if(this._textSearchUsedSchemes.has(i))throw new Error(`a text search provider for the scheme '${i}' is already registered`);this._textSearchUsedSchemes.add(i);const u=this._handlePool++;return this._textSearchProvider.set(u,o),this._proxy.$registerTextSearchProvider(u,this._transformScheme(i)),(0,n.toDisposable)(()=>{this._textSearchUsedSchemes.delete(i),this._textSearchProvider.delete(u),this._proxy.$unregisterProvider(u)})}registerFileSearchProvider(i,o){if(this._fileSearchUsedSchemes.has(i))throw new Error(`a file search provider for the scheme '${i}' is already registered`);this._fileSearchUsedSchemes.add(i);const u=this._handlePool++;return this._fileSearchProvider.set(u,o),this._proxy.$registerFileSearchProvider(u,this._transformScheme(i)),(0,n.toDisposable)(()=>{this._fileSearchUsedSchemes.delete(i),this._fileSearchProvider.delete(u),this._proxy.$unregisterProvider(u)})}$provideFileSearchResults(i,o,u,b){const E=f(u),g=this._fileSearchProvider.get(i);if(g)return this._fileSearchManager.fileSearch(E,g,w=>{this._proxy.$handleFileMatch(i,o,w.map(s=>s.resource))},b);throw new Error("unknown provider: "+i)}$clearCache(i){return this._fileSearchManager.clearCache(i),Promise.resolve(void 0)}$provideTextSearchResults(i,o,u,b){const E=this._textSearchProvider.get(i);if(!E||!E.provideTextSearchResults)throw new Error(`Unknown provider ${i}`);const g=f(u);return this.createTextSearchManager(g,E).search(s=>this._proxy.$handleTextMatch(i,o,s),b)}$enableExtensionHostSearch(){}createTextSearchManager(i,o){return new R.TextSearchManager(i,o,{readdir:u=>Promise.resolve([]),toCanonicalName:u=>u},"textSearchProvider")}};y=Ve([We(0,I.IExtHostRpcService),We(1,A.IURITransformerService),We(2,S.ILogService)],y),e.ExtHostSearch=y;function f(h){return{...h,folderQueries:h.folderQueries&&h.folderQueries.map(v),extraFileResources:h.extraFileResources&&h.extraFileResources.map(i=>C.URI.revive(i))}}e.reviveQuery=f;function v(h){return{...h,folder:C.URI.revive(h.folder)}}}),define(De[242],Ie([1,0,62,101,31,99,32,38,55,58,103,105,106,75,65,72,100,57,37,74,70,56,212,12,182,104,73]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w,s,r,a,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,n.registerSingleton)(l.IExtHostLocalizationService,l.ExtHostLocalizationService,1),(0,n.registerSingleton)(r.ILoggerService,s.ExtHostLoggerService,1),(0,n.registerSingleton)(r.ILogService,a.ExtHostLogService,1),(0,n.registerSingleton)(i.IExtHostApiDeprecationService,i.ExtHostApiDeprecationService,1),(0,n.registerSingleton)(A.IExtHostCommands,A.ExtHostCommands,0),(0,n.registerSingleton)(I.IExtHostConfiguration,I.ExtHostConfiguration,0),(0,n.registerSingleton)(u.IExtHostConsumerFileSystem,u.ExtHostConsumerFileSystem,0),(0,n.registerSingleton)(y.IExtHostDebugService,y.WorkerExtHostDebugService,0),(0,n.registerSingleton)(M.IExtHostDecorations,M.ExtHostDecorations,0),(0,n.registerSingleton)(S.IExtHostDocumentsAndEditors,S.ExtHostDocumentsAndEditors,0),(0,n.registerSingleton)(b.IExtHostFileSystemInfo,b.ExtHostFileSystemInfo,0),(0,n.registerSingleton)(k.IExtHostOutputService,k.ExtHostOutputService,1),(0,n.registerSingleton)(f.IExtHostSearch,f.ExtHostSearch,0),(0,n.registerSingleton)(v.IExtHostStorage,v.ExtHostStorage,0),(0,n.registerSingleton)(R.IExtHostTask,R.WorkerExtHostTask,0),(0,n.registerSingleton)(C.IExtHostTerminalService,C.WorkerExtHostTerminalService,0),(0,n.registerSingleton)(h.IExtHostTunnelService,h.ExtHostTunnelService,0),(0,n.registerSingleton)(o.IExtHostWindow,o.ExtHostWindow,0),(0,n.registerSingleton)(_.IExtHostWorkspace,_.ExtHostWorkspace,0),(0,n.registerSingleton)(E.IExtHostSecretState,E.ExtHostSecretState,0),(0,n.registerSingleton)(g.IExtHostTelemetry,g.ExtHostTelemetry,0),(0,n.registerSingleton)(w.IExtHostEditorTabs,w.ExtHostEditorTabs,0),(0,n.registerSingleton)(d.IExtHostVariableResolverProvider,d.ExtHostVariableResolverProviderService,0)}),define(De[243],Ie([1,0]),function(te,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TreeviewsService=void 0;class n{constructor(){this._dragOperations=new Map,this._renderedElements=new Map}removeDragOperationTransfer(_){if(_&&this._dragOperations.has(_)){const M=this._dragOperations.get(_);return this._dragOperations.delete(_),M}}addDragOperationTransfer(_,M){this._dragOperations.set(_,M)}getRenderedTreeElement(_){if(this._renderedElements.has(_))return this._renderedElements.get(_)}addRenderedTreeItemElement(_,M){this._renderedElements.set(_,M)}removeRenderedTreeItemElement(_){this._renderedElements.has(_)&&this._renderedElements.delete(_)}}e.TreeviewsService=n}),define(De[244],Ie([1,0,137,6,22,2,5,7,15,6,9,16,8,20,243,25]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTreeViews=void 0;function o(E,g){if((0,R.isString)(E))return{label:E};if(E&&typeof E=="object"&&typeof E.label=="string"){let w;return Array.isArray(E.highlights)&&(w=E.highlights.filter(s=>s.length===2&&typeof s[0]=="number"&&typeof s[1]=="number"),w=w.length?w:void 0),{label:E.label,highlights:w}}}class u{constructor(g,w,s){this._proxy=g,this.commands=w,this.logService=s,this.treeViews=new Map,this.treeDragAndDropService=new h.TreeviewsService;function r(a){return a&&a.$treeViewId&&(a.$treeItemHandle||a.$selectedTreeItems||a.$focusedTreeItem)}w.registerArgumentProcessor({processArgument:a=>r(a)?this.convertArgument(a):Array.isArray(a)&&a.length>0?a.map(d=>r(d)?this.convertArgument(d):d):a})}registerTreeDataProvider(g,w,s){const r=this.createTreeView(g,{treeDataProvider:w},s);return{dispose:()=>r.dispose()}}createTreeView(g,w,s){if(!w||!w.treeDataProvider)throw new Error("Options with treeDataProvider is mandatory");const r=w.dragAndDropController?.dropMimeTypes??[],a=w.dragAndDropController?.dragMimeTypes??[],d=!!w.dragAndDropController?.handleDrag,l=!!w.dragAndDropController?.handleDrop,c=this.createExtHostTreeView(g,w,s),t=this._proxy.$registerTreeViewDataProvider(g,{showCollapseAll:!!w.showCollapseAll,canSelectMany:!!w.canSelectMany,dropMimeTypes:r,dragMimeTypes:a,hasHandleDrag:d,hasHandleDrop:l});return{get onDidCollapseElement(){return c.onDidCollapseElement},get onDidExpandElement(){return c.onDidExpandElement},get selection(){return c.selectedElements},get onDidChangeSelection(){return c.onDidChangeSelection},get visible(){return c.visible},get onDidChangeVisibility(){return c.onDidChangeVisibility},get onDidChangeCheckboxState(){return(0,i.checkProposedApiEnabled)(s,"treeItemCheckbox"),c.onDidChangeCheckboxState},get message(){return c.message},set message(m){c.message=m},get title(){return c.title},set title(m){c.title=m},get description(){return c.description},set description(m){c.description=m},get badge(){return c.badge},set badge(m){m!==void 0&&C.ViewBadge.isViewBadge(m)?c.badge={value:Math.floor(Math.abs(m.value)),tooltip:m.tooltip}:m===void 0&&(c.badge=void 0)},reveal:(m,p)=>c.reveal(m,p),dispose:async()=>{await t,this.treeViews.delete(g),c.dispose()}}}$getChildren(g,w){const s=this.treeViews.get(g);return s?s.getChildren(w):Promise.reject(new Error((0,n.localize)(0,null,g)))}async $handleDrop(g,w,s,r,a,d,l,c){const t=this.treeViews.get(g);if(!t)return Promise.reject(new Error((0,n.localize)(1,null,g)));const m=f.DataTransfer.toDataTransfer(s,async p=>(await this._proxy.$resolveDropFileData(g,w,p)).buffer);return l===g&&c&&await this.addAdditionalTransferItems(m,t,c,a,d),t.onDrop(m,r,a)}async addAdditionalTransferItems(g,w,s,r,a){const d=this.treeDragAndDropService.removeDragOperationTransfer(a);if(d)(await d)?.forEach((l,c)=>{l&&g.set(c,l)});else if(a&&w.handleDrag){const l=w.handleDrag(s,g,r);this.treeDragAndDropService.addDragOperationTransfer(a,l),await l}return g}async $handleDrag(g,w,s,r){const a=this.treeViews.get(g);if(!a)return Promise.reject(new Error((0,n.localize)(2,null,g)));const d=await this.addAdditionalTransferItems(new k.DataTransfer,a,w,r,s);if(!!d)return f.DataTransfer.toDataTransferDTO(d)}async $hasResolve(g){const w=this.treeViews.get(g);if(!w)throw new Error((0,n.localize)(3,null,g));return w.hasResolve}$resolve(g,w,s){const r=this.treeViews.get(g);if(!r)throw new Error((0,n.localize)(4,null,g));return r.resolveTreeItem(w,s)}$setExpanded(g,w,s){const r=this.treeViews.get(g);if(!r)throw new Error((0,n.localize)(5,null,g));r.setExpanded(w,s)}$setSelection(g,w){const s=this.treeViews.get(g);if(!s)throw new Error((0,n.localize)(6,null,g));s.setSelection(w)}$setFocus(g,w){const s=this.treeViews.get(g);if(!s)throw new Error((0,n.localize)(7,null,g));s.setFocus(w)}$setVisible(g,w){const s=this.treeViews.get(g);if(!s)throw new Error((0,n.localize)(8,null,g));s.setVisible(w)}$changeCheckboxState(g,w){const s=this.treeViews.get(g);if(!s)throw new Error((0,n.localize)(9,null,g));s.setCheckboxState(w)}createExtHostTreeView(g,w,s){const r=new b(g,w,this._proxy,this.commands.converter,this.logService,s);return this.treeViews.set(g,r),r}convertArgument(g){const w=this.treeViews.get(g.$treeViewId);return w&&"$treeItemHandle"in g?w.getExtensionElement(g.$treeItemHandle):w&&"$focusedTreeItem"in g&&g.$focusedTreeItem?w.focusedElement:null}}e.ExtHostTreeViews=u;class b extends A.Disposable{get visible(){return this._visible}get selectedElements(){return this._selectedHandles.map(g=>this.getExtensionElement(g)).filter(g=>!(0,R.isUndefinedOrNull)(g))}get focusedElement(){return this._focusedHandle?this.getExtensionElement(this._focusedHandle):void 0}constructor(g,w,s,r,a,d){if(super(),this.viewId=g,this.proxy=s,this.commands=r,this.logService=a,this.extension=d,this.roots=void 0,this.elements=new Map,this.nodes=new Map,this._visible=!1,this._selectedHandles=[],this._focusedHandle=void 0,this._onDidExpandElement=this._register(new I.Emitter),this.onDidExpandElement=this._onDidExpandElement.event,this._onDidCollapseElement=this._register(new I.Emitter),this.onDidCollapseElement=this._onDidCollapseElement.event,this._onDidChangeSelection=this._register(new I.Emitter),this.onDidChangeSelection=this._onDidChangeSelection.event,this._onDidChangeVisibility=this._register(new I.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._onDidChangeCheckboxState=this._register(new I.Emitter),this.onDidChangeCheckboxState=this._onDidChangeCheckboxState.event,this._onDidChangeData=this._register(new I.Emitter),this.refreshPromise=Promise.resolve(),this.refreshQueue=Promise.resolve(),this._message="",this._title="",this._refreshCancellationSource=new v.CancellationTokenSource,d.contributes&&d.contributes.views)for(const t in d.contributes.views)for(const m of d.contributes.views[t])m.id===g&&(this._title=m.name);this.dataProvider=w.treeDataProvider,this.dndController=w.dragAndDropController,this.dataProvider.onDidChangeTreeData&&this._register(this.dataProvider.onDidChangeTreeData(t=>this._onDidChangeData.fire({message:!1,element:t})));let l,c;this._register(I.Event.debounce(this._onDidChangeData.event,(t,m)=>(t||(t={message:!1,elements:[]}),m.element!==!1&&(l||(l=new Promise(p=>c=p),this.refreshPromise=this.refreshPromise.then(()=>l)),Array.isArray(m.element)?t.elements.push(...m.element):t.elements.push(m.element)),m.message&&(t.message=!0),t),200,!0)(({message:t,elements:m})=>{m.length&&(this.refreshQueue=this.refreshQueue.then(()=>{const p=c;return l=null,this.refresh(m).then(()=>p())})),t&&this.proxy.$setMessage(this.viewId,this._message)}))}async getChildren(g){const w=g?this.getExtensionElement(g):void 0;if(g&&!w)return this.logService.error(`No tree item with id '${g}' found.`),Promise.resolve([]);let s=this.getChildrenNodes(g);return s||(s=await this.fetchChildrenNodes(w)),s?s.map(r=>r.item):void 0}getExtensionElement(g){return this.elements.get(g)}reveal(g,w){w=w||{select:!0,focus:!1};const s=(0,R.isUndefinedOrNull)(w.select)?!0:w.select,r=(0,R.isUndefinedOrNull)(w.focus)?!1:w.focus,a=(0,R.isUndefinedOrNull)(w.expand)?!1:w.expand;return typeof this.dataProvider.getParent!="function"?Promise.reject(new Error("Required registered TreeDataProvider to implement 'getParent' method to access 'reveal' method")):g?this.refreshPromise.then(()=>this.resolveUnknownParentChain(g)).then(d=>this.resolveTreeNode(g,d[d.length-1]).then(l=>this.proxy.$reveal(this.viewId,{item:l.item,parentChain:d.map(c=>c.item)},{select:s,focus:r,expand:a})),d=>this.logService.error(d)):this.proxy.$reveal(this.viewId,void 0,{select:s,focus:r,expand:a})}get message(){return this._message}set message(g){this._message=g,this._onDidChangeData.fire({message:!0,element:!1})}get title(){return this._title}set title(g){this._title=g,this.proxy.$setTitle(this.viewId,g,this._description)}get description(){return this._description}set description(g){this._description=g,this.proxy.$setTitle(this.viewId,this._title,g)}get badge(){return this._badge}set badge(g){this._badge?.value===g?.value&&this._badge?.tooltip===g?.tooltip||(this._badge=f.ViewBadge.from(g),this.proxy.$setBadge(this.viewId,g))}setExpanded(g,w){const s=this.getExtensionElement(g);s&&(w?this._onDidExpandElement.fire(Object.freeze({element:s})):this._onDidCollapseElement.fire(Object.freeze({element:s})))}setSelection(g){(0,y.equals)(this._selectedHandles,g)||(this._selectedHandles=g,this._onDidChangeSelection.fire(Object.freeze({selection:this.selectedElements})))}setFocus(g){this._focusedHandle=g}setVisible(g){g!==this._visible&&(this._visible=g,this._onDidChangeVisibility.fire(Object.freeze({visible:this._visible})))}async setCheckboxState(g){const w=(await Promise.all(g.map(async s=>{const r=this.getExtensionElement(s.treeItemHandle);return r?{extensionItem:r,treeItem:await this.dataProvider.getTreeItem(r),newState:s.newState?C.TreeItemCheckboxState.Checked:C.TreeItemCheckboxState.Unchecked}:Promise.resolve(void 0)}))).filter(s=>s!==void 0);w.forEach(s=>{s.treeItem.checkboxState=s.newState?C.TreeItemCheckboxState.Checked:C.TreeItemCheckboxState.Unchecked}),this._onDidChangeCheckboxState.fire({items:w.map(s=>[s.extensionItem,s.newState])})}async handleDrag(g,w,s){const r=[];for(const a of g){const d=this.getExtensionElement(a);d&&r.push(d)}if(!(!this.dndController?.handleDrag||r.length===0))return await this.dndController.handleDrag(r,w,s),w}get hasHandleDrag(){return!!this.dndController?.handleDrag}async onDrop(g,w,s){const r=w?this.getExtensionElement(w):void 0;if(!(!r&&w||!this.dndController?.handleDrop))return(0,S.asPromise)(()=>this.dndController?.handleDrop?this.dndController.handleDrop(r,g,s):void 0)}get hasResolve(){return!!this.dataProvider.resolveTreeItem}async resolveTreeItem(g,w){if(!this.dataProvider.resolveTreeItem)return;const s=this.elements.get(g);if(s){const r=this.nodes.get(s);if(r){const a=await this.dataProvider.resolveTreeItem(r.extensionItem,s,w)??r.extensionItem;return this.validateTreeItem(a),r.item.tooltip=this.getTooltip(a.tooltip),r.item.command=this.getCommand(r.disposableStore,a.command),r.item}}}resolveUnknownParentChain(g){return this.resolveParent(g).then(w=>w?this.resolveUnknownParentChain(w).then(s=>this.resolveTreeNode(w,s[s.length-1]).then(r=>(s.push(r),s))):Promise.resolve([]))}resolveParent(g){const w=this.nodes.get(g);return w?Promise.resolve(w.parent?this.elements.get(w.parent.item.handle):void 0):(0,S.asPromise)(()=>this.dataProvider.getParent(g))}resolveTreeNode(g,w){const s=this.nodes.get(g);return s?Promise.resolve(s):(0,S.asPromise)(()=>this.dataProvider.getTreeItem(g)).then(r=>this.createHandle(g,r,w,!0)).then(r=>this.getChildren(w?w.item.handle:void 0).then(()=>{const a=this.getExtensionElement(r);if(a){const d=this.nodes.get(a);if(d)return Promise.resolve(d)}throw new Error(`Cannot resolve tree item for element ${r}`)}))}getChildrenNodes(g){if(g){let w;if(typeof g=="string"){const s=this.getExtensionElement(g);w=s?this.nodes.get(s):void 0}else w=g;return w&&w.children||void 0}return this.roots}async fetchChildrenNodes(g){this.clearChildren(g);const w=new v.CancellationTokenSource(this._refreshCancellationSource.token);try{const s=g?this.nodes.get(g):void 0,r=await this.dataProvider.getChildren(g);if(w.token.isCancellationRequested)return;const a=await Promise.all((0,y.coalesce)(r||[]).map(async d=>{const l=await this.dataProvider.getTreeItem(d);return l&&!w.token.isCancellationRequested?this.createAndRegisterTreeNode(d,l,s):null}));return w.token.isCancellationRequested?void 0:(0,y.coalesce)(a)}finally{w.dispose()}}refresh(g){if(g.some(s=>!s))return this._refreshCancellationSource.dispose(!0),this._refreshCancellationSource=new v.CancellationTokenSource,this.clearAll(),this.proxy.$refresh(this.viewId);{const s=this.getHandlesToRefresh(g);if(s.length)return this.refreshHandles(s)}return Promise.resolve(void 0)}getHandlesToRefresh(g){const w=new Set,s=g.map(a=>this.nodes.get(a));for(const a of s)if(a&&!w.has(a.item.handle)){let d=a;for(;d&&d.parent&&s.findIndex(l=>d&&d.parent&&l&&l.item.handle===d.parent.item.handle)===-1;){const l=this.elements.get(d.parent.item.handle);d=l?this.nodes.get(l):void 0}d&&!d.parent&&w.add(a.item.handle)}const r=[];return w.forEach(a=>{const d=this.elements.get(a);if(d){const l=this.nodes.get(d);l&&(!l.parent||!w.has(l.parent.item.handle))&&r.push(a)}}),r}refreshHandles(g){const w={};return Promise.all(g.map(s=>this.refreshNode(s).then(r=>{r&&(w[s]=r.item)}))).then(()=>Object.keys(w).length?this.proxy.$refresh(this.viewId,w):void 0)}refreshNode(g){const w=this.getExtensionElement(g);if(w){const s=this.nodes.get(w);if(s)return this.clearChildren(w),(0,S.asPromise)(()=>this.dataProvider.getTreeItem(w)).then(r=>{if(r){const a=this.createTreeNode(w,r,s.parent);return this.updateNodeCache(w,a,s,s.parent),s.dispose(),a}return null})}return Promise.resolve(null)}createAndRegisterTreeNode(g,w,s){const r=this.createTreeNode(g,w,s);if(w.id&&this.elements.has(r.item.handle))throw new Error((0,n.localize)(10,null,w.id));return this.addNodeToCache(g,r),this.addNodeToParentCache(r,s),r}getTooltip(g){return C.MarkdownString.isMarkdownString(g)?f.MarkdownString.from(g):g}getCommand(g,w){return w?{...this.commands.toInternal(w,g),originalId:w.command}:void 0}getCheckbox(g){if(!g.checkboxState)return;let w,s;return typeof g.checkboxState=="number"?w=g.checkboxState:(w=g.checkboxState.state,s=g.checkboxState.tooltip),{isChecked:w===C.TreeItemCheckboxState.Checked,tooltip:s}}validateTreeItem(g){if(!C.TreeItem.isTreeItem(g,this.extension))throw new Error(`Extension ${this.extension.identifier.value} has provided an invalid tree item.`)}createTreeNode(g,w,s){this.validateTreeItem(w);const r=new A.DisposableStore,a=this.createHandle(g,w,s),d=this.getLightIconPath(w);return{item:{handle:a,parentHandle:s?s.item.handle:void 0,label:o(w.label,this.extension),description:w.description,resourceUri:w.resourceUri,tooltip:this.getTooltip(w.tooltip),command:this.getCommand(r,w.command),contextValue:w.contextValue,icon:d,iconDark:this.getDarkIconPath(w)||d,themeIcon:this.getThemeIcon(w),collapsibleState:(0,R.isUndefinedOrNull)(w.collapsibleState)?C.TreeItemCollapsibleState.None:w.collapsibleState,accessibilityInformation:w.accessibilityInformation,checkbox:this.getCheckbox(w)},extensionItem:w,parent:s,children:void 0,disposableStore:r,dispose(){r.dispose()}}}getThemeIcon(g){return g.iconPath instanceof C.ThemeIcon?g.iconPath:void 0}createHandle(g,{id:w,label:s,resourceUri:r},a,d){if(w)return`${b.ID_HANDLE_PREFIX}/${w}`;const l=o(s,this.extension),c=a?a.item.handle:b.LABEL_HANDLE_PREFIX;let t=l?l.label:r?(0,_.basename)(r):"";t=t.indexOf("/")!==-1?t.replace("/","//"):t;const m=this.nodes.has(g)?this.nodes.get(g).item.handle:void 0,p=this.getChildrenNodes(a)||[];let P,L=0;do{if(P=`${c}/${L}:${t}`,d||!this.elements.has(P)||m===P)break;L++}while(L<=p.length);return P}getLightIconPath(g){if(g.iconPath&&!(g.iconPath instanceof C.ThemeIcon))return typeof g.iconPath=="string"||M.URI.isUri(g.iconPath)?this.getIconPath(g.iconPath):this.getIconPath(g.iconPath.light)}getDarkIconPath(g){if(g.iconPath&&!(g.iconPath instanceof C.ThemeIcon)&&g.iconPath.dark)return this.getIconPath(g.iconPath.dark)}getIconPath(g){return M.URI.isUri(g)?g:M.URI.file(g)}addNodeToCache(g,w){this.elements.set(w.item.handle,g),this.nodes.set(g,w)}updateNodeCache(g,w,s,r){this.elements.delete(w.item.handle),this.nodes.delete(g),w.item.handle!==s.item.handle&&this.elements.delete(s.item.handle),this.addNodeToCache(g,w);const a=this.getChildrenNodes(r)||[],d=a.filter(l=>l.item.handle===s.item.handle)[0];d&&a.splice(a.indexOf(d),1,w)}addNodeToParentCache(g,w){w?(w.children||(w.children=[]),w.children.push(g)):(this.roots||(this.roots=[]),this.roots.push(g))}clearChildren(g){if(g){const w=this.nodes.get(g);if(w){if(w.children)for(const s of w.children){const r=this.elements.get(s.item.handle);r&&this.clear(r)}w.children=void 0}}else this.clearAll()}clear(g){const w=this.nodes.get(g);if(w){if(w.children)for(const s of w.children){const r=this.elements.get(s.item.handle);r&&this.clear(r)}this.nodes.delete(g),this.elements.delete(w.item.handle),w.dispose()}}clearAll(){this.roots=void 0,this.elements.clear(),this.nodes.forEach(g=>g.dispose()),this.nodes.clear()}dispose(){this._refreshCancellationSource.dispose(),this.clearAll(),this.proxy.$disposeTree(this.viewId)}}b.LABEL_HANDLE_PREFIX="0",b.ID_HANDLE_PREFIX="1"}),define(De[245],Ie([1,0,20,11,5,29,2,124,254,113,122,36,4,69,197,196,38,198,32,200,201,202,185,203,55,33,205,206,209,211,213,101,188,218,219,220,75,58,223,244,8,6,91,226,59,100,31,175,208,48,99,103,105,106,12,52,14,27,214,183,65,72,194,224,76,57,229,227,228,195,37,221,225,74,56,70,215,102,216,13,87,187,166,207,7,25,170,73,163,217]),function(te,e,n,k,_,M,I,A,S,C,R,y,f,v,h,i,o,u,b,E,g,w,s,r,a,d,l,c,t,m,p,P,L,V,H,W,T,F,O,B,z,j,G,Z,he,oe,ce,le,fe,Y,ge,we,Fe,xe,Xe,ke,ye,Ce,re,ae,J,D,N,$,q,ee,ue,Se,se,ve,Ee,Be,$e,tt,Ke,et,it,dt,Oe,st,Q,X,pe,Le,Ue,He,Je,nt,vt,wt){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createApiFactoryAndRegisterActors=void 0;function kt(ut){const at=ut.get(Ce.IExtHostInitDataService),Nt=ut.get(Ee.IExtHostFileSystemInfo),Ot=ut.get(ee.IExtHostConsumerFileSystem),Ft=ut.get(d.IExtHostExtensionService),ft=ut.get(ce.IExtHostWorkspace),It=ut.get(et.IExtHostTelemetry),Ut=ut.get(b.IExtHostConfiguration),Lt=ut.get(ke.IURITransformerService),qe=ut.get(ye.IExtHostRpcService),At=ut.get(T.IExtHostStorage),Mt=ut.get(q.IExtensionStoragePaths),$t=ut.get(Xe.ILoggerService),mt=ut.get(Xe.ILogService),Pt=ut.get(J.IExtHostTunnelService),_e=ut.get(D.IExtHostApiDeprecationService),Te=ut.get(oe.IExtHostWindow),me=ut.get(tt.IExtHostSecretState),K=ut.get(Ke.IExtHostEditorTabs);qe.set(f.ExtHostContext.ExtHostFileSystemInfo,Nt),qe.set(f.ExtHostContext.ExtHostLogLevelServiceShape,$t),qe.set(f.ExtHostContext.ExtHostWorkspace,ft),qe.set(f.ExtHostContext.ExtHostConfiguration,Ut),qe.set(f.ExtHostContext.ExtHostExtensionService,Ft),qe.set(f.ExtHostContext.ExtHostStorage,At),qe.set(f.ExtHostContext.ExtHostTunnelService,Pt),qe.set(f.ExtHostContext.ExtHostWindow,Te),qe.set(f.ExtHostContext.ExtHostSecretState,me),qe.set(f.ExtHostContext.ExtHostTelemetry,It),qe.set(f.ExtHostContext.ExtHostEditorTabs,K);const Pe=qe.set(f.ExtHostContext.ExtHostDecorations,ut.get(ge.IExtHostDecorations)),Me=qe.set(f.ExtHostContext.ExtHostDocumentsAndEditors,ut.get(a.IExtHostDocumentsAndEditors)),Ge=qe.set(f.ExtHostContext.ExtHostCommands,ut.get(o.IExtHostCommands)),ze=qe.set(f.ExtHostContext.ExtHostTerminalService,ut.get(F.IExtHostTerminalService)),Ze=qe.set(f.ExtHostContext.ExtHostDebugService,ut.get(Fe.IExtHostDebugService)),Dt=qe.set(f.ExtHostContext.ExtHostSearch,ut.get(xe.IExtHostSearch)),Et=qe.set(f.ExtHostContext.ExtHostTask,ut.get(we.IExtHostTask)),Ct=qe.set(f.ExtHostContext.ExtHostOutputService,ut.get(P.IExtHostOutputService)),gt=qe.set(f.ExtHostContext.ExtHostLocalization,ut.get(nt.IExtHostLocalizationService)),pt=qe.set(f.ExtHostContext.ExtHostUrls,new Z.ExtHostUrls(qe)),St=qe.set(f.ExtHostContext.ExtHostDocuments,new r.ExtHostDocuments(qe,Me)),Bt=qe.set(f.ExtHostContext.ExtHostDocumentContentProviders,new w.ExtHostDocumentContentProvider(qe,Me,mt)),Gt=qe.set(f.ExtHostContext.ExtHostDocumentSaveParticipant,new s.ExtHostDocumentSaveParticipant(mt,St,qe.getProxy(f.MainContext.MainThreadBulkEdits))),bt=qe.set(f.ExtHostContext.ExtHostNotebook,new re.ExtHostNotebookController(qe,Ge,Me,St)),si=qe.set(f.ExtHostContext.ExtHostNotebookDocuments,new pe.ExtHostNotebookDocuments(bt)),oi=qe.set(f.ExtHostContext.ExtHostNotebookEditors,new X.ExtHostNotebookEditors(mt,bt)),Zt=qe.set(f.ExtHostContext.ExtHostNotebookKernels,new it.ExtHostNotebookKernels(qe,at,bt,Ge,mt)),pi=qe.set(f.ExtHostContext.ExtHostNotebookRenderers,new Oe.ExtHostNotebookRenderers(qe,bt)),_t=qe.set(f.ExtHostContext.ExtHostEditors,new O.ExtHostEditors(qe,Me)),ai=qe.set(f.ExtHostContext.ExtHostTreeViews,new B.ExtHostTreeViews(qe.getProxy(f.MainContext.MainThreadTreeViews),Ge,mt)),Ri=qe.set(f.ExtHostContext.ExtHostEditorInsets,new le.ExtHostEditorInsets(qe.getProxy(f.MainContext.MainThreadEditorInsets),_t,at.remote)),ei=qe.set(f.ExtHostContext.ExtHostDiagnostics,new E.ExtHostDiagnostics(qe,mt,Nt,Me)),Wt=qe.set(f.ExtHostContext.ExtHostLanguages,new m.ExtHostLanguages(qe,St,Ge.converter,Lt)),lt=qe.set(f.ExtHostContext.ExtHostLanguageFeatures,new t.ExtHostLanguageFeatures(qe,Lt,St,Ge,ei,mt,_e,It)),vi=qe.set(f.ExtHostContext.ExtHostFileSystem,new l.ExtHostFileSystem(qe,lt)),Ht=qe.set(f.ExtHostContext.ExtHostFileSystemEventService,new c.ExtHostFileSystemEventService(qe,mt,Me)),Xt=qe.set(f.ExtHostContext.ExtHostQuickOpen,(0,V.createExtHostQuickOpen)(qe,ft,Ge)),li=qe.set(f.ExtHostContext.ExtHostSCM,new H.ExtHostSCM(qe,Ge,mt)),Ei=qe.set(f.ExtHostContext.ExtHostComments,(0,u.createExtHostComments)(qe,Ge,St)),ci=qe.set(f.ExtHostContext.ExtHostProgress,new L.ExtHostProgress(qe.getProxy(f.MainContext.MainThreadProgress))),bi=qe.set(f.ExtHostContext.ExtHosLabelService,new fe.ExtHostLabelService(qe)),Ii=qe.set(f.ExtHostContext.ExtHostTheming,new ae.ExtHostTheming(qe)),ti=qe.set(f.ExtHostContext.ExtHostAuthentication,new N.ExtHostAuthentication(qe)),wi=qe.set(f.ExtHostContext.ExtHostTimeline,new $.ExtHostTimeline(qe,Ge)),ni=qe.set(f.ExtHostContext.ExtHostWebviews,new he.ExtHostWebviews(qe,at.remote,ft,mt,_e)),ri=qe.set(f.ExtHostContext.ExtHostWebviewPanels,new se.ExtHostWebviewPanels(qe,ni,ft)),Oi=qe.set(f.ExtHostContext.ExtHostCustomEditors,new Se.ExtHostCustomEditors(qe,St,Mt,ni,ri)),Si=qe.set(f.ExtHostContext.ExtHostWebviewViews,new ue.ExtHostWebviewViews(qe,ni)),Qt=qe.set(f.ExtHostContext.ExtHostTesting,new Be.ExtHostTesting(qe,Ge,Me)),Fi=qe.set(f.ExtHostContext.ExtHostUriOpeners,new $e.ExtHostUriOpeners(qe)),Li=qe.set(f.ExtHostContext.ExtHostProfileContentHandlers,new wt.ExtHostProfileContentHandlers(qe));qe.set(f.ExtHostContext.ExtHostInteractive,new Le.ExtHostInteractive(qe,bt,Me,Ge,mt));const Mi=Object.values(f.ExtHostContext);qe.assertRegistered(Mi);const Ni=new ve.ExtHostBulkEdits(qe,Me),Ui=new i.ExtHostClipboard(qe),_i=new p.ExtHostMessageService(qe,mt),ui=new g.ExtHostDialogs(qe),di=new W.ExtHostStatusBar(qe,Ge.converter);return h.ExtHostApiCommands.register(Ge),function(Ne,jt,Ci){const ht=function(){let ne=!Ne.isUnderDevelopment;function de(){ne||(mt.info(`Extension '${Ne.identifier.value}' uses a document selector without scheme. Learn more about this: https://go.microsoft.com/fwlink/?linkid=872305`),ne=!0)}return function Re(rt){if(Array.isArray(rt))rt.forEach(Re);else if(typeof rt=="string")de();else{const yt=rt;typeof yt.scheme>"u"&&de(),typeof yt.exclusive=="boolean"&&(0,He.checkProposedApiEnabled)(Ne,"documentFiltersExclusive")}return rt}}(),Bi={getSession(ne,de,Re){return ti.getSession(Ne,ne,de,Re)},async hasSession(ne,de){return(0,He.checkProposedApiEnabled)(Ne,"authSession"),!!await ti.getSession(Ne,ne,de,{silent:!0})},get onDidChangeSessions(){return ti.onDidChangeSessions},registerAuthenticationProvider(ne,de,Re,rt){return ti.registerAuthenticationProvider(ne,de,Re,rt)}},zi={registerCommand(ne,de,Re){return Ge.registerCommand(!0,ne,de,Re,void 0,Ne)},registerTextEditorCommand(ne,de,Re){return Ge.registerCommand(!0,ne,(...rt)=>{const yt=_t.getActiveTextEditor();if(!yt){mt.warn("Cannot execute "+ne+" because there is no active text editor.");return}return yt.edit(Tt=>{de.apply(Re,[yt,Tt,...rt])}).then(Tt=>{Tt||mt.warn("Edits from command "+ne+" were not applied.")},Tt=>{mt.warn("An error occurred while running command "+ne,Tt)})},void 0,void 0,Ne)},registerDiffInformationCommand:(ne,de,Re)=>((0,He.checkProposedApiEnabled)(Ne,"diffCommand"),Ge.registerCommand(!0,ne,async(...rt)=>{const yt=Me.activeEditor(!0);if(!yt){mt.warn("Cannot execute "+ne+" because there is no active text editor.");return}const Tt=await _t.getDiffInformation(yt.id);de.apply(Re,[Tt,...rt])},void 0,void 0,Ne)),executeCommand(ne,...de){return Ge.executeCommand(ne,...de)},getCommands(ne=!1){return Ge.getCommands(ne)}},ki={get machineId(){return at.telemetryInfo.machineId},get sessionId(){return at.telemetryInfo.sessionId},get language(){return at.environment.appLanguage},get appName(){return at.environment.appName},get appRoot(){return at.environment.appRoot?.fsPath??""},get appHost(){return at.environment.appHost},get uriScheme(){return at.environment.appUriScheme},get clipboard(){return Ui.value},get shell(){return ze.getDefaultShell(!1)},get onDidChangeShell(){return(0,He.checkProposedApiEnabled)(Ne,"envShellEvent"),ze.onDidChangeShell},get isTelemetryEnabled(){return It.getTelemetryConfiguration()},get onDidChangeTelemetryEnabled(){return It.onDidChangeTelemetryEnabled},get telemetryConfiguration(){return(0,He.checkProposedApiEnabled)(Ne,"telemetry"),It.getTelemetryDetails()},get onDidChangeTelemetryConfiguration(){return(0,He.checkProposedApiEnabled)(Ne,"telemetry"),It.onDidChangeTelemetryConfiguration},get isNewAppInstall(){return(0,et.isNewAppInstall)(at.telemetryInfo.firstSessionDate)},createTelemetryLogger(ne){return(0,He.checkProposedApiEnabled)(Ne,"telemetryLogger"),It.instantiateLogger(Ne,ne)},openExternal(ne,de){return Te.openUri(ne,{allowTunneling:!!at.remote.authority,allowContributedOpeners:de?.allowContributedOpeners})},async asExternalUri(ne){if(ne.scheme===at.environment.appUriScheme)return pt.createAppUri(ne);try{return await Te.asExternalUri(ne,{allowTunneling:!!at.remote.authority})}catch(de){if((0,Q.matchesScheme)(ne,st.Schemas.http)||(0,Q.matchesScheme)(ne,st.Schemas.https))return ne;throw de}},get remoteName(){return(0,Y.getRemoteName)(at.remote.authority)},get remoteAuthority(){return(0,He.checkProposedApiEnabled)(Ne,"resolvers"),at.remote.authority},get uiKind(){return at.uiKind},get logLevel(){return mt.getLevel()},get onDidChangeLogLevel(){return mt.onDidChangeLogLevel}};at.environment.extensionTestsLocationURI||Object.freeze(ki);const xi={createTestController(ne,de,Re){return Qt.createTestController(ne,de,Re)},createTestObserver(){return(0,He.checkProposedApiEnabled)(Ne,"testObserver"),Qt.createTestObserver()},runTests(ne){return(0,He.checkProposedApiEnabled)(Ne,"testObserver"),Qt.runTests(ne)},get onDidChangeTestResults(){return(0,He.checkProposedApiEnabled)(Ne,"testObserver"),Qt.onResultsChanged},get testResults(){return(0,He.checkProposedApiEnabled)(Ne,"testObserver"),Qt.results}},ii=at.remote.isRemote?j.ExtensionKind.Workspace:j.ExtensionKind.UI,$i={getExtension(ne,de){(0,He.isProposedApiEnabled)(Ne,"extensionsAny")||(de=!1);const Re=jt.mine.getExtensionDescription(ne);if(Re)return new d.Extension(Ft,Ne.identifier,Re,ii,!1);if(de){const rt=jt.all.getExtensionDescription(ne);if(rt)return new d.Extension(Ft,Ne.identifier,rt,ii,!0)}},get all(){const ne=[];for(const de of jt.mine.getAllExtensionDescriptions())ne.push(new d.Extension(Ft,Ne.identifier,de,ii,!1));return ne},get allAcrossExtensionHosts(){(0,He.checkProposedApiEnabled)(Ne,"extensionsAny");const ne=new He.ExtensionIdentifierSet(jt.mine.getAllExtensionDescriptions().map(Re=>Re.identifier)),de=[];for(const Re of jt.all.getAllExtensionDescriptions()){const rt=!ne.has(Re.identifier);de.push(new d.Extension(Ft,Ne.identifier,Re,ii,rt))}return de},get onDidChange(){return(0,He.isProposedApiEnabled)(Ne,"extensionsAny")?_.Event.any(jt.mine.onDidChange,jt.all.onDidChange):jt.mine.onDidChange}},qt={createDiagnosticCollection(ne){return ei.createDiagnosticCollection(Ne.identifier,ne)},get onDidChangeDiagnostics(){return ei.onDidChangeDiagnostics},getDiagnostics:ne=>ei.getDiagnostics(ne),getLanguages(){return Wt.getLanguages()},setTextDocumentLanguage(ne,de){return Wt.changeLanguage(ne.uri,de)},match(ne,de){const Re=St.getDocumentData(de.uri)?.notebook;return(0,R.score)(z.LanguageSelector.from(ne),de.uri,de.languageId,!0,Re?.uri,Re?.notebookType)},registerCodeActionsProvider(ne,de,Re){return lt.registerCodeActionProvider(Ne,ht(ne),de,Re)},registerDocumentPasteEditProvider(ne,de,Re){return(0,He.checkProposedApiEnabled)(Ne,"documentPaste"),lt.registerDocumentPasteEditProvider(Ne,ht(ne),de,Re)},registerCodeLensProvider(ne,de){return lt.registerCodeLensProvider(Ne,ht(ne),de)},registerDefinitionProvider(ne,de){return lt.registerDefinitionProvider(Ne,ht(ne),de)},registerDeclarationProvider(ne,de){return lt.registerDeclarationProvider(Ne,ht(ne),de)},registerImplementationProvider(ne,de){return lt.registerImplementationProvider(Ne,ht(ne),de)},registerTypeDefinitionProvider(ne,de){return lt.registerTypeDefinitionProvider(Ne,ht(ne),de)},registerHoverProvider(ne,de){return lt.registerHoverProvider(Ne,ht(ne),de,Ne.identifier)},registerEvaluatableExpressionProvider(ne,de){return lt.registerEvaluatableExpressionProvider(Ne,ht(ne),de,Ne.identifier)},registerInlineValuesProvider(ne,de){return lt.registerInlineValuesProvider(Ne,ht(ne),de,Ne.identifier)},registerDocumentHighlightProvider(ne,de){return lt.registerDocumentHighlightProvider(Ne,ht(ne),de)},registerLinkedEditingRangeProvider(ne,de){return lt.registerLinkedEditingRangeProvider(Ne,ht(ne),de)},registerReferenceProvider(ne,de){return lt.registerReferenceProvider(Ne,ht(ne),de)},registerRenameProvider(ne,de){return lt.registerRenameProvider(Ne,ht(ne),de)},registerDocumentSymbolProvider(ne,de,Re){return lt.registerDocumentSymbolProvider(Ne,ht(ne),de,Re)},registerWorkspaceSymbolProvider(ne){return lt.registerWorkspaceSymbolProvider(Ne,ne)},registerDocumentFormattingEditProvider(ne,de){return lt.registerDocumentFormattingEditProvider(Ne,ht(ne),de)},registerDocumentRangeFormattingEditProvider(ne,de){return lt.registerDocumentRangeFormattingEditProvider(Ne,ht(ne),de)},registerOnTypeFormattingEditProvider(ne,de,Re,...rt){return lt.registerOnTypeFormattingEditProvider(Ne,ht(ne),de,[Re].concat(rt))},registerDocumentSemanticTokensProvider(ne,de,Re){return lt.registerDocumentSemanticTokensProvider(Ne,ht(ne),de,Re)},registerDocumentRangeSemanticTokensProvider(ne,de,Re){return lt.registerDocumentRangeSemanticTokensProvider(Ne,ht(ne),de,Re)},registerSignatureHelpProvider(ne,de,Re,...rt){return typeof Re=="object"?lt.registerSignatureHelpProvider(Ne,ht(ne),de,Re):lt.registerSignatureHelpProvider(Ne,ht(ne),de,typeof Re>"u"?[]:[Re,...rt])},registerCompletionItemProvider(ne,de,...Re){return lt.registerCompletionItemProvider(Ne,ht(ne),de,Re)},registerInlineCompletionItemProvider(ne,de){return de.handleDidShowCompletionItem&&(0,He.checkProposedApiEnabled)(Ne,"inlineCompletionsAdditions"),lt.registerInlineCompletionsProvider(Ne,ht(ne),de)},registerDocumentLinkProvider(ne,de){return lt.registerDocumentLinkProvider(Ne,ht(ne),de)},registerColorProvider(ne,de){return lt.registerColorProvider(Ne,ht(ne),de)},registerFoldingRangeProvider(ne,de){return lt.registerFoldingRangeProvider(Ne,ht(ne),de)},registerSelectionRangeProvider(ne,de){return lt.registerSelectionRangeProvider(Ne,ne,de)},registerCallHierarchyProvider(ne,de){return lt.registerCallHierarchyProvider(Ne,ne,de)},registerTypeHierarchyProvider(ne,de){return lt.registerTypeHierarchyProvider(Ne,ne,de)},setLanguageConfiguration:(ne,de)=>lt.setLanguageConfiguration(Ne,ne,de),getTokenInformationAtPosition(ne,de){return(0,He.checkProposedApiEnabled)(Ne,"tokenInformation"),Wt.tokenAtPosition(ne,de)},registerInlayHintsProvider(ne,de){return lt.registerInlayHintsProvider(Ne,ne,de)},createLanguageStatusItem(ne,de){return Wt.createLanguageStatusItem(Ne,ne,de)},registerDocumentDropEditProvider(ne,de){return lt.registerDocumentOnDropEditProvider(Ne,ne,de)}},hi={get activeTextEditor(){return _t.getActiveTextEditor()},get visibleTextEditors(){return _t.getVisibleTextEditors()},get activeTerminal(){return ze.activeTerminal},get terminals(){return ze.terminals},async showTextDocument(ne,de,Re){const rt=await(I.URI.isUri(ne)?Promise.resolve(Ti.openTextDocument(ne)):Promise.resolve(ne));return _t.showTextDocument(rt,de,Re)},createTextEditorDecorationType(ne){return _t.createTextEditorDecorationType(Ne,ne)},onDidChangeActiveTextEditor(ne,de,Re){return _t.onDidChangeActiveTextEditor(ne,de,Re)},onDidChangeVisibleTextEditors(ne,de,Re){return _t.onDidChangeVisibleTextEditors(ne,de,Re)},onDidChangeTextEditorSelection(ne,de,Re){return _t.onDidChangeTextEditorSelection(ne,de,Re)},onDidChangeTextEditorOptions(ne,de,Re){return _t.onDidChangeTextEditorOptions(ne,de,Re)},onDidChangeTextEditorVisibleRanges(ne,de,Re){return _t.onDidChangeTextEditorVisibleRanges(ne,de,Re)},onDidChangeTextEditorViewColumn(ne,de,Re){return _t.onDidChangeTextEditorViewColumn(ne,de,Re)},onDidCloseTerminal(ne,de,Re){return ze.onDidCloseTerminal(ne,de,Re)},onDidOpenTerminal(ne,de,Re){return ze.onDidOpenTerminal(ne,de,Re)},onDidChangeActiveTerminal(ne,de,Re){return ze.onDidChangeActiveTerminal(ne,de,Re)},onDidChangeTerminalDimensions(ne,de,Re){return(0,He.checkProposedApiEnabled)(Ne,"terminalDimensions"),ze.onDidChangeTerminalDimensions(ne,de,Re)},onDidChangeTerminalState(ne,de,Re){return ze.onDidChangeTerminalState(ne,de,Re)},onDidWriteTerminalData(ne,de,Re){return(0,He.checkProposedApiEnabled)(Ne,"terminalDataWriteEvent"),ze.onDidWriteTerminalData(ne,de,Re)},get state(){return Te.state},onDidChangeWindowState(ne,de,Re){return Te.onDidChangeWindowState(ne,de,Re)},showInformationMessage(ne,...de){return _i.showMessage(Ne,M.default.Info,ne,de[0],de.slice(1))},showWarningMessage(ne,...de){return _i.showMessage(Ne,M.default.Warning,ne,de[0],de.slice(1))},showErrorMessage(ne,...de){return _i.showMessage(Ne,M.default.Error,ne,de[0],de.slice(1))},showQuickPick(ne,de,Re){return Xt.showQuickPick(ne,de,Re)},showWorkspaceFolderPick(ne){return Xt.showWorkspaceFolderPick(ne)},showInputBox(ne,de){return Xt.showInput(ne,de)},showOpenDialog(ne){return ui.showOpenDialog(ne)},showSaveDialog(ne){return ui.showSaveDialog(ne)},createStatusBarItem(ne,de,Re){let rt,yt,Tt;return typeof ne=="string"?(rt=ne,yt=de,Tt=Re):(yt=ne,Tt=de),di.createStatusBarEntry(Ne,rt,yt,Tt)},setStatusBarMessage(ne,de){return di.setStatusBarMessage(ne,de)},withScmProgress(ne){return _e.report("window.withScmProgress",Ne,"Use 'withProgress' instead."),ci.withProgress(Ne,{location:j.ProgressLocation.SourceControl},(de,Re)=>ne({report(rt){}}))},withProgress(ne,de){return ci.withProgress(Ne,ne,de)},createOutputChannel(ne,de){return Ct.createOutputChannel(ne,de,Ne)},createWebviewPanel(ne,de,Re,rt){return ri.createWebviewPanel(Ne,ne,de,Re,rt)},createWebviewTextEditorInset(ne,de,Re,rt){return(0,He.checkProposedApiEnabled)(Ne,"editorInsets"),Ri.createWebviewEditorInset(ne,de,Re,rt,Ne)},createTerminal(ne,de,Re){return typeof ne=="object"?"pty"in ne?ze.createExtensionTerminal(ne):ze.createTerminalFromOptions(ne):ze.createTerminal(ne,de,Re)},registerTerminalLinkProvider(ne){return ze.registerLinkProvider(ne)},registerTerminalProfileProvider(ne,de){return ze.registerProfileProvider(Ne,ne,de)},registerTerminalQuickFixProvider(ne,de){return(0,He.checkProposedApiEnabled)(Ne,"terminalQuickFixProvider"),ze.registerTerminalQuickFixProvider(ne,Ne.identifier.value,de)},registerTreeDataProvider(ne,de){return ai.registerTreeDataProvider(ne,de,Ne)},createTreeView(ne,de){return ai.createTreeView(ne,de,Ne)},registerWebviewPanelSerializer:(ne,de)=>ri.registerWebviewPanelSerializer(Ne,ne,de),registerCustomEditorProvider:(ne,de,Re={})=>Oi.registerCustomEditorProvider(Ne,ne,de,Re),registerFileDecorationProvider(ne){return Pe.registerFileDecorationProvider(ne,Ne)},registerUriHandler(ne){return pt.registerUriHandler(Ne.identifier,ne)},createQuickPick(){return Xt.createQuickPick(Ne)},createInputBox(){return Xt.createInputBox(Ne)},get activeColorTheme(){return Ii.activeColorTheme},onDidChangeActiveColorTheme(ne,de,Re){return Ii.onDidChangeActiveColorTheme(ne,de,Re)},registerWebviewViewProvider(ne,de,Re){return Si.registerWebviewViewProvider(Ne,ne,de,Re?.webviewOptions)},get activeNotebookEditor(){return bt.activeNotebookEditor},onDidChangeActiveNotebookEditor(ne,de,Re){return bt.onDidChangeActiveNotebookEditor(ne,de,Re)},get visibleNotebookEditors(){return bt.visibleNotebookEditors},get onDidChangeVisibleNotebookEditors(){return bt.onDidChangeVisibleNotebookEditors},onDidChangeNotebookEditorSelection(ne,de,Re){return oi.onDidChangeNotebookEditorSelection(ne,de,Re)},onDidChangeNotebookEditorVisibleRanges(ne,de,Re){return oi.onDidChangeNotebookEditorVisibleRanges(ne,de,Re)},showNotebookDocument(ne,de){return bt.showNotebookDocument(ne,de)},registerExternalUriOpener(ne,de,Re){return(0,He.checkProposedApiEnabled)(Ne,"externalUriOpener"),Fi.registerExternalUriOpener(Ne.identifier,ne,de,Re)},registerProfileContentHandler(ne,de){return(0,He.checkProposedApiEnabled)(Ne,"profileContentHandlers"),Li.registrProfileContentHandler(Ne,ne,de)},get tabGroups(){return K.tabGroups}},Ti={get rootPath(){return _e.report("workspace.rootPath",Ne,"Please use 'workspace.workspaceFolders' instead. More details: https://aka.ms/vscode-eliminating-rootpath"),ft.getPath()},set rootPath(ne){throw k.readonly()},getWorkspaceFolder(ne){return ft.getWorkspaceFolder(ne)},get workspaceFolders(){return ft.getWorkspaceFolders()},get name(){return ft.name},set name(ne){throw k.readonly()},get workspaceFile(){return ft.workspaceFile},set workspaceFile(ne){throw k.readonly()},updateWorkspaceFolders:(ne,de,...Re)=>ft.updateWorkspaceFolders(Ne,ne,de||0,...Re),onDidChangeWorkspaceFolders:function(ne,de,Re){return ft.onDidChangeWorkspace(ne,de,Re)},asRelativePath:(ne,de)=>ft.getRelativePath(ne,de),findFiles:(ne,de,Re,rt)=>ft.findFiles(ne,de,Re,Ne.identifier,rt),findTextInFiles:(ne,de,Re,rt)=>{(0,He.checkProposedApiEnabled)(Ne,"findTextInFiles");let yt,Tt;return typeof de=="object"?(yt=de,Tt=Re):(yt={},Tt=de,rt=Re),ft.findTextInFiles(ne,yt||{},Tt,Ne.identifier,rt)},saveAll:ne=>ft.saveAll(ne),applyEdit(ne,de){return Ni.applyWorkspaceEdit(ne,Ne,de)},createFileSystemWatcher:(ne,de,Re,rt)=>Ht.createFileSystemWatcher(ft,Ne,ne,de,Re,rt),get textDocuments(){return St.getAllDocumentData().map(ne=>ne.document)},set textDocuments(ne){throw k.readonly()},openTextDocument(ne){let de;const Re=ne;if(typeof ne=="string")de=Promise.resolve(I.URI.file(ne));else if(I.URI.isUri(ne))de=Promise.resolve(ne);else if(!Re||typeof Re=="object")de=St.createDocumentData(Re);else throw new Error("illegal argument - uriOrFileNameOrOptions");return de.then(rt=>St.ensureDocumentData(rt).then(yt=>yt.document))},onDidOpenTextDocument:(ne,de,Re)=>St.onDidAddDocument(ne,de,Re),onDidCloseTextDocument:(ne,de,Re)=>St.onDidRemoveDocument(ne,de,Re),onDidChangeTextDocument:(ne,de,Re)=>St.onDidChangeDocument(ne,de,Re),onDidSaveTextDocument:(ne,de,Re)=>St.onDidSaveDocument(ne,de,Re),onWillSaveTextDocument:(ne,de,Re)=>Gt.getOnWillSaveTextDocumentEvent(Ne)(ne,de,Re),get notebookDocuments(){return bt.notebookDocuments.map(ne=>ne.apiNotebook)},async openNotebookDocument(ne,de){let Re;if(I.URI.isUri(ne))Re=ne,await bt.openNotebookDocument(ne);else if(typeof ne=="string")Re=I.URI.revive(await bt.createNotebookDocument({viewType:ne,content:de}));else throw new Error("Invalid arguments");return bt.getNotebookDocument(Re).apiNotebook},onDidSaveNotebookDocument(ne,de,Re){return si.onDidSaveNotebookDocument(ne,de,Re)},onDidChangeNotebookDocument(ne,de,Re){return si.onDidChangeNotebookDocument(ne,de,Re)},get onDidOpenNotebookDocument(){return bt.onDidOpenNotebookDocument},get onDidCloseNotebookDocument(){return bt.onDidCloseNotebookDocument},registerNotebookSerializer(ne,de,Re,rt){return bt.registerNotebookSerializer(Ne,ne,de,Re,(0,He.isProposedApiEnabled)(Ne,"notebookLiveShare")?rt:void 0)},onDidChangeConfiguration:(ne,de,Re)=>Ci.onDidChangeConfiguration(ne,de,Re),getConfiguration(ne,de){return de=arguments.length===1?void 0:de,Ci.getConfiguration(ne,de,Ne)},registerTextDocumentContentProvider(ne,de){return Bt.registerTextDocumentContentProvider(ne,de)},registerTaskProvider:(ne,de)=>(_e.report("window.registerTaskProvider",Ne,"Use the corresponding function on the 'tasks' namespace instead"),Et.registerTaskProvider(Ne,ne,de)),registerFileSystemProvider(ne,de,Re){return(0,Ue.combinedDisposable)(vi.registerFileSystemProvider(Ne,ne,de,Re),Ot.addFileSystemProvider(ne,de))},get fs(){return Ot.value},registerFileSearchProvider:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"fileSearchProvider"),Dt.registerFileSearchProvider(ne,de)),registerTextSearchProvider:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"textSearchProvider"),Dt.registerTextSearchProvider(ne,de)),registerRemoteAuthorityResolver:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"resolvers"),Ft.registerRemoteAuthorityResolver(ne,de)),registerResourceLabelFormatter:ne=>((0,He.checkProposedApiEnabled)(Ne,"resolvers"),bi.$registerResourceLabelFormatter(ne)),onDidCreateFiles:(ne,de,Re)=>Ht.onDidCreateFile(ne,de,Re),onDidDeleteFiles:(ne,de,Re)=>Ht.onDidDeleteFile(ne,de,Re),onDidRenameFiles:(ne,de,Re)=>Ht.onDidRenameFile(ne,de,Re),onWillCreateFiles:(ne,de,Re)=>Ht.getOnWillCreateFileEvent(Ne)(ne,de,Re),onWillDeleteFiles:(ne,de,Re)=>Ht.getOnWillDeleteFileEvent(Ne)(ne,de,Re),onWillRenameFiles:(ne,de,Re)=>Ht.getOnWillRenameFileEvent(Ne)(ne,de,Re),openTunnel:ne=>((0,He.checkProposedApiEnabled)(Ne,"tunnels"),Pt.openTunnel(Ne,ne).then(de=>{if(!de)throw new Error("cannot open tunnel");return de})),get tunnels(){return(0,He.checkProposedApiEnabled)(Ne,"tunnels"),Pt.getTunnels()},onDidChangeTunnels:(ne,de,Re)=>((0,He.checkProposedApiEnabled)(Ne,"tunnels"),Pt.onDidChangeTunnels(ne,de,Re)),registerPortAttributesProvider:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"portsAttributes"),Pt.registerPortsAttributesProvider(ne,de)),registerTimelineProvider:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"timeline"),wi.registerTimelineProvider(ne,de,Ne.identifier,Ge.converter)),get isTrusted(){return ft.trusted},requestWorkspaceTrust:ne=>((0,He.checkProposedApiEnabled)(Ne,"workspaceTrust"),ft.requestWorkspaceTrust(ne)),onDidGrantWorkspaceTrust:(ne,de,Re)=>ft.onDidGrantWorkspaceTrust(ne,de,Re),registerEditSessionIdentityProvider:(ne,de)=>((0,He.checkProposedApiEnabled)(Ne,"editSessionIdentityProvider"),ft.registerEditSessionIdentityProvider(ne,de))},zt={get inputBox(){return _e.report("scm.inputBox",Ne,"Use 'SourceControl.inputBox' instead"),li.getLastInputBox(Ne)},createSourceControl(ne,de,Re){return li.createSourceControl(Ne,ne,de,Re)}},fi={createCommentController(ne,de){return Ei.createCommentController(Ne,ne,de)}},Wi={get activeDebugSession(){return Ze.activeDebugSession},get activeDebugConsole(){return Ze.activeDebugConsole},get breakpoints(){return Ze.breakpoints},onDidStartDebugSession(ne,de,Re){return Ze.onDidStartDebugSession(ne,de,Re)},onDidTerminateDebugSession(ne,de,Re){return Ze.onDidTerminateDebugSession(ne,de,Re)},onDidChangeActiveDebugSession(ne,de,Re){return Ze.onDidChangeActiveDebugSession(ne,de,Re)},onDidReceiveDebugSessionCustomEvent(ne,de,Re){return Ze.onDidReceiveDebugSessionCustomEvent(ne,de,Re)},onDidChangeBreakpoints(ne,de,Re){return Ze.onDidChangeBreakpoints(ne,de,Re)},registerDebugConfigurationProvider(ne,de,Re){return Ze.registerDebugConfigurationProvider(ne,de,Re||Je.DebugConfigurationProviderTriggerKind.Initial)},registerDebugAdapterDescriptorFactory(ne,de){return Ze.registerDebugAdapterDescriptorFactory(Ne,ne,de)},registerDebugAdapterTrackerFactory(ne,de){return Ze.registerDebugAdapterTrackerFactory(ne,de)},startDebugging(ne,de,Re){return!Re||typeof Re=="object"&&"configuration"in Re?Ze.startDebugging(ne,de,{parentSession:Re}):Ze.startDebugging(ne,de,Re||{})},stopDebugging(ne){return Ze.stopDebugging(ne)},addBreakpoints(ne){return Ze.addBreakpoints(ne)},removeBreakpoints(ne){return Ze.removeBreakpoints(ne)},asDebugSourceUri(ne,de){return Ze.asDebugSourceUri(ne,de)}},Hi={registerTaskProvider:(ne,de)=>Et.registerTaskProvider(Ne,ne,de),fetchTasks:ne=>Et.fetchTasks(ne),executeTask:ne=>Et.executeTask(Ne,ne),get taskExecutions(){return Et.taskExecutions},onDidStartTask:(ne,de,Re)=>Et.onDidStartTask(ne,de,Re),onDidEndTask:(ne,de,Re)=>Et.onDidEndTask(ne,de,Re),onDidStartTaskProcess:(ne,de,Re)=>Et.onDidStartTaskProcess(ne,de,Re),onDidEndTaskProcess:(ne,de,Re)=>Et.onDidEndTaskProcess(ne,de,Re)},Vi={createNotebookController(ne,de,Re,rt,yt){return Zt.createNotebookController(Ne,ne,de,Re,rt,(0,He.isProposedApiEnabled)(Ne,"notebookMessaging")?yt:void 0)},registerNotebookCellStatusBarItemProvider:(ne,de)=>bt.registerNotebookCellStatusBarItemProvider(Ne,ne,de),createRendererMessaging(ne){return pi.createRendererMessaging(Ne,ne)},createNotebookControllerDetectionTask(ne){return(0,He.checkProposedApiEnabled)(Ne,"notebookKernelSource"),Zt.createNotebookControllerDetectionTask(Ne,ne)},registerKernelSourceActionProvider(ne,de){return(0,He.checkProposedApiEnabled)(Ne,"notebookKernelSource"),Zt.registerKernelSourceActionProvider(Ne,ne,de)},onDidChangeNotebookCellExecutionState(ne,de,Re){return(0,He.checkProposedApiEnabled)(Ne,"notebookCellExecutionState"),Zt.onDidChangeNotebookCellExecutionState(ne,de,Re)}},ji={t(...ne){if(typeof ne[0]=="string"){const de=ne.shift(),Re=!ne||typeof ne[0]!="object"?ne:ne[0];return gt.getMessage(Ne.identifier.value,{message:de,args:Re})}return gt.getMessage(Ne.identifier.value,ne[0])},get bundle(){return gt.getBundle(Ne.identifier.value)},get uri(){return gt.getBundleUri(Ne.identifier.value)}};return{version:at.version,authentication:Bi,commands:zi,comments:fi,debug:Wi,env:ki,extensions:$i,l10n:ji,languages:qt,notebooks:Vi,scm:zt,tasks:Hi,tests:xi,window:hi,workspace:Ti,Breakpoint:j.Breakpoint,TerminalOutputAnchor:j.TerminalOutputAnchor,CallHierarchyIncomingCall:j.CallHierarchyIncomingCall,CallHierarchyItem:j.CallHierarchyItem,CallHierarchyOutgoingCall:j.CallHierarchyOutgoingCall,CancellationError:k.CancellationError,CancellationTokenSource:n.CancellationTokenSource,CandidatePortSource:f.CandidatePortSource,CodeAction:j.CodeAction,CodeActionKind:j.CodeActionKind,CodeActionTriggerKind:j.CodeActionTriggerKind,CodeLens:j.CodeLens,Color:j.Color,ColorInformation:j.ColorInformation,ColorPresentation:j.ColorPresentation,ColorThemeKind:j.ColorThemeKind,CommentMode:j.CommentMode,CommentThreadCollapsibleState:j.CommentThreadCollapsibleState,CommentThreadState:j.CommentThreadState,CompletionItem:j.CompletionItem,CompletionItemKind:j.CompletionItemKind,CompletionItemTag:j.CompletionItemTag,CompletionList:j.CompletionList,CompletionTriggerKind:j.CompletionTriggerKind,ConfigurationTarget:j.ConfigurationTarget,CustomExecution:j.CustomExecution,DebugAdapterExecutable:j.DebugAdapterExecutable,DebugAdapterInlineImplementation:j.DebugAdapterInlineImplementation,DebugAdapterNamedPipeServer:j.DebugAdapterNamedPipeServer,DebugAdapterServer:j.DebugAdapterServer,DebugConfigurationProviderTriggerKind:Je.DebugConfigurationProviderTriggerKind,DebugConsoleMode:j.DebugConsoleMode,DecorationRangeBehavior:j.DecorationRangeBehavior,Diagnostic:j.Diagnostic,DiagnosticRelatedInformation:j.DiagnosticRelatedInformation,DiagnosticSeverity:j.DiagnosticSeverity,DiagnosticTag:j.DiagnosticTag,Disposable:j.Disposable,DocumentHighlight:j.DocumentHighlight,DocumentHighlightKind:j.DocumentHighlightKind,DocumentLink:j.DocumentLink,DocumentSymbol:j.DocumentSymbol,EndOfLine:j.EndOfLine,EnvironmentVariableMutatorType:j.EnvironmentVariableMutatorType,EvaluatableExpression:j.EvaluatableExpression,InlineValueText:j.InlineValueText,InlineValueVariableLookup:j.InlineValueVariableLookup,InlineValueEvaluatableExpression:j.InlineValueEvaluatableExpression,InlineCompletionTriggerKind:j.InlineCompletionTriggerKind,EventEmitter:_.Emitter,ExtensionKind:j.ExtensionKind,ExtensionMode:j.ExtensionMode,ExternalUriOpenerPriority:j.ExternalUriOpenerPriority,FileChangeType:j.FileChangeType,FileDecoration:j.FileDecoration,FileDecoration2:j.FileDecoration,FileSystemError:j.FileSystemError,FileType:y.FileType,FilePermission:y.FilePermission,FoldingRange:j.FoldingRange,FoldingRangeKind:j.FoldingRangeKind,FunctionBreakpoint:j.FunctionBreakpoint,InlineCompletionItem:j.InlineSuggestion,InlineCompletionList:j.InlineSuggestionList,Hover:j.Hover,IndentAction:C.IndentAction,Location:j.Location,MarkdownString:j.MarkdownString,OverviewRulerLane:S.OverviewRulerLane,ParameterInformation:j.ParameterInformation,PortAutoForwardAction:j.PortAutoForwardAction,Position:j.Position,ProcessExecution:j.ProcessExecution,ProgressLocation:j.ProgressLocation,QuickInputButtons:j.QuickInputButtons,Range:j.Range,RelativePattern:j.RelativePattern,Selection:j.Selection,SelectionRange:j.SelectionRange,SemanticTokens:j.SemanticTokens,SemanticTokensBuilder:j.SemanticTokensBuilder,SemanticTokensEdit:j.SemanticTokensEdit,SemanticTokensEdits:j.SemanticTokensEdits,SemanticTokensLegend:j.SemanticTokensLegend,ShellExecution:j.ShellExecution,ShellQuoting:j.ShellQuoting,SignatureHelp:j.SignatureHelp,SignatureHelpTriggerKind:j.SignatureHelpTriggerKind,SignatureInformation:j.SignatureInformation,SnippetString:j.SnippetString,SourceBreakpoint:j.SourceBreakpoint,StandardTokenType:j.StandardTokenType,StatusBarAlignment:j.StatusBarAlignment,SymbolInformation:j.SymbolInformation,SymbolKind:j.SymbolKind,SymbolTag:j.SymbolTag,Task:j.Task,TaskGroup:j.TaskGroup,TaskPanelKind:j.TaskPanelKind,TaskRevealKind:j.TaskRevealKind,TaskScope:j.TaskScope,TerminalLink:j.TerminalLink,TerminalLocation:j.TerminalLocation,TerminalProfile:j.TerminalProfile,TerminalExitReason:j.TerminalExitReason,TerminalQuickFixType:j.TerminalQuickFixType,TextDocumentSaveReason:j.TextDocumentSaveReason,TextEdit:j.TextEdit,SnippetTextEdit:j.SnippetTextEdit,TextEditorCursorStyle:A.TextEditorCursorStyle,TextEditorLineNumbersStyle:j.TextEditorLineNumbersStyle,TextEditorRevealType:j.TextEditorRevealType,TextEditorSelectionChangeKind:j.TextEditorSelectionChangeKind,TextDocumentChangeReason:j.TextDocumentChangeReason,ThemeColor:j.ThemeColor,ThemeIcon:j.ThemeIcon,TreeItem:j.TreeItem,TreeItem2:j.TreeItem,TreeItemCheckboxState:j.TreeItemCheckboxState,TreeItemCollapsibleState:j.TreeItemCollapsibleState,TypeHierarchyItem:j.TypeHierarchyItem,UIKind:v.UIKind,Uri:I.URI,ViewColumn:j.ViewColumn,WorkspaceEdit:j.WorkspaceEdit,DocumentDropEdit:j.DocumentDropEdit,DocumentPasteEdit:j.DocumentPasteEdit,InlayHint:j.InlayHint,InlayHintLabelPart:j.InlayHintLabelPart,InlayHintKind:j.InlayHintKind,RemoteAuthorityResolverError:j.RemoteAuthorityResolverError,ResolvedAuthority:j.ResolvedAuthority,SourceControlInputBoxValidationType:j.SourceControlInputBoxValidationType,ExtensionRuntime:j.ExtensionRuntime,TimelineItem:j.TimelineItem,NotebookRange:j.NotebookRange,NotebookCellKind:j.NotebookCellKind,NotebookCellExecutionState:j.NotebookCellExecutionState,NotebookCellData:j.NotebookCellData,NotebookData:j.NotebookData,NotebookRendererScript:j.NotebookRendererScript,NotebookCellStatusBarAlignment:j.NotebookCellStatusBarAlignment,NotebookEditorRevealType:j.NotebookEditorRevealType,NotebookCellOutput:j.NotebookCellOutput,NotebookCellOutputItem:j.NotebookCellOutputItem,NotebookCellStatusBarItem:j.NotebookCellStatusBarItem,NotebookControllerAffinity:j.NotebookControllerAffinity,NotebookControllerAffinity2:j.NotebookControllerAffinity2,NotebookEdit:j.NotebookEdit,NotebookKernelSourceAction:j.NotebookKernelSourceAction,PortAttributes:j.PortAttributes,LinkedEditingRanges:j.LinkedEditingRanges,TestResultState:j.TestResultState,TestRunRequest:j.TestRunRequest,TestMessage:j.TestMessage,TestTag:j.TestTag,TestRunProfileKind:j.TestRunProfileKind,TextSearchCompleteMessageType:dt.TextSearchCompleteMessageType,DataTransfer:j.DataTransfer,DataTransferItem:j.DataTransferItem,CoveredCount:j.CoveredCount,FileCoverage:j.FileCoverage,StatementCoverage:j.StatementCoverage,BranchCoverage:j.BranchCoverage,FunctionCoverage:j.FunctionCoverage,WorkspaceTrustState:j.WorkspaceTrustState,LanguageStatusSeverity:j.LanguageStatusSeverity,QuickPickItemKind:j.QuickPickItemKind,InputBoxValidationSeverity:j.InputBoxValidationSeverity,TabInputText:j.TextTabInput,TabInputTextDiff:j.TextDiffTabInput,TabInputTextMerge:j.TextMergeTabInput,TabInputCustom:j.CustomEditorTabInput,TabInputNotebook:j.NotebookEditorTabInput,TabInputNotebookDiff:j.NotebookDiffEditorTabInput,TabInputWebview:j.WebviewEditorTabInput,TabInputTerminal:j.TerminalEditorTabInput,TabInputInteractiveWindow:j.InteractiveWindowInput,TrustedTelemetryValue:G.TrustedTelemetryValue,LogLevel:Xe.LogLevel,EditSessionIdentityMatch:vt.EditSessionIdentityMatch}}}e.createApiFactoryAndRegisterActors=kt}),define(De[246],Ie([1,0,245,33,2,239,6,15,230]),function(te,e,n,k,_,M,I,A,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostExtensionService=void 0;class C extends M.RequireInterceptor{_installInterceptor(){}getModule(v,h){for(const i of this._alternatives){const o=i(v);if(o){v=o;break}}if(this._factories.has(v))return this._factories.get(v).load(v,h,()=>{throw new Error("CANNOT LOAD MODULE from here.")})}}class R extends k.AbstractExtHostExtensionService{constructor(){super(...arguments),this.extensionRuntime=I.ExtensionRuntime.Webworker}async _beforeAlmostReadyToRunExtensions(){this._instaService.createInstance(S.ExtHostConsoleForwarder);const v=this._instaService.invokeFunction(n.createApiFactoryAndRegisterActors);this._fakeModules=this._instaService.createInstance(C,v,{mine:this._myRegistry,all:this._globalRegistry}),await this._fakeModules.install(),performance.mark("code/extHost/didInitAPI"),await this._waitForDebuggerAttachment()}_getEntryPoint(v){return v.browser}async _loadCommonJSModule(v,h,i){h=h.with({path:y(h.path,".js")});const o=v?.identifier.value;o&&performance.mark(`code/extHost/willFetchExtensionCode/${o}`);const u=_.URI.revive(await this._mainThreadExtensionsProxy.$asBrowserUri(h)),b=await fetch(u.toString(!0));if(o&&performance.mark(`code/extHost/didFetchExtensionCode/${o}`),b.status!==200)throw new Error(b.statusText);const E=await b.text(),g=`${h.toString(!0)}#vscode-extension`,w=`${E}
//# sourceURL=${g}`;let s;try{s=new Function("module","exports","require",w)}catch(l){throw console.error(o?`Loading code for extension ${o} failed: ${l.message}`:`Loading code failed: ${l.message}`),console.error(`${h.toString(!0)}${typeof l.line=="number"?` line ${l.line}`:""}${typeof l.column=="number"?` column ${l.column}`:""}`),console.error(l),l}v&&await this._extHostLocalizationService.initializeLocalizedMessages(v);const r={},a={exports:r},d=l=>{const c=this._fakeModules.getModule(l,h);if(c===void 0)throw new Error(`Cannot load module '${l}'`);return c};try{return i.codeLoadingStart(),o&&performance.mark(`code/extHost/willLoadExtensionCode/${o}`),s(a,r,d),a.exports!==r?a.exports:r}finally{o&&performance.mark(`code/extHost/didLoadExtensionCode/${o}`),i.codeLoadingStop()}}async $setRemoteEnvironment(v){}async _waitForDebuggerAttachment(v=5e3){if(!this._initData.environment.isExtensionDevelopmentDebug)return;const h=Date.now()+v;for(;Date.now()<h&&!("__jsDebugIsReady"in globalThis);)await(0,A.timeout)(10)}}e.ExtHostExtensionService=R;function y(f,v){return f.endsWith(v)?f:f+v}}),define(De[247],Ie([1,0,62,33,76,246]),function(te,e,n,k,_,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,n.registerSingleton)(k.IExtHostExtensionService,M.ExtHostExtensionService,0),(0,n.registerSingleton)(_.IExtensionStoragePaths,_.ExtensionStoragePaths,0)}),define(De[255],Ie([1,0,24,5,69,240,232,19,77,13,2,242,247]),function(te,e,n,k,_,M,I,A,S,C,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;const y=self.close.bind(self);self.close=()=>console.trace("'close' has been blocked");const f=postMessage.bind(self);self.postMessage=()=>console.trace("'postMessage' has been blocked");function v(s){return/^(file|vscode-remote):/i.test(s)}const h=fetch.bind(self);function i(s){self.fetch=async function(r,a){return r instanceof Request||v(String(r))&&(r=(await s(R.URI.parse(String(r)))).toString(!0)),h(r,a)},self.XMLHttpRequest=class extends XMLHttpRequest{open(r,a,d,l,c){(async()=>(v(a.toString())&&(a=(await s(R.URI.parse(a.toString()))).toString(!0)),super.open(r,a,d??!0,l,c)))()}}}if(self.importScripts=()=>{throw new Error("'importScripts' has been blocked")},self.addEventListener=()=>console.trace("'addEventListener' has been blocked"),self.AMDLoader=void 0,self.NLSLoaderPlugin=void 0,self.define=void 0,self.require=void 0,self.webkitRequestFileSystem=void 0,self.webkitRequestFileSystemSync=void 0,self.webkitResolveLocalFileSystemSyncURL=void 0,self.webkitResolveLocalFileSystemURL=void 0,self.Worker){const s=self.Worker;Worker=function(r,a){if(/^file:/i.test(r.toString()))r=C.FileAccess.uriToBrowserUri(R.URI.parse(r.toString())).toString(!0);else if(/^vscode-remote:/i.test(r.toString()))throw new Error("Creating workers from remote extensions is currently not supported.");const l=`(${function(p){function P(H){return typeof H=="string"||H instanceof URL?String(H).replace(/^file:\/\//i,"vscode-file://vscode-app"):H}const L=fetch.bind(self);self.fetch=function(H,W){return H instanceof Request?L(H,W):L(P(H),W)},self.XMLHttpRequest=class extends XMLHttpRequest{open(H,W,T,F,O){return super.open(H,P(W),T??!0,F,O)}};const V=importScripts.bind(self);self.importScripts=(...H)=>{V(...H.map(P))},V(p)}.toString()}('${r}'))`;a=a||{},a.name=a.name||A.basename(r.toString());const c=new Blob([l],{type:"application/javascript"}),t=URL.createObjectURL(c);return new s(t,a)}}else self.Worker=class extends I.NestedWorker{constructor(s,r){super(f,s,{name:A.basename(s.toString()),...r})}};const o=new class{constructor(){this.pid=void 0}exit(s){y()}async exists(s){return!0}async realpath(s){return s}};class u{constructor(){const r=new MessageChannel,a=new k.Emitter;let d=!1;f(r.port2,[r.port2]),r.port1.onmessage=l=>{const{data:c}=l;if(!(c instanceof ArrayBuffer)){console.warn("UNKNOWN data received",c);return}const t=n.VSBuffer.wrap(new Uint8Array(c,0,c.byteLength));if((0,_.isMessageOfType)(t,2)){d=!0,E("received terminate message from renderer");return}a.fire(t)},this.protocol={onMessage:a.event,send:l=>{if(!d){const c=l.buffer.buffer.slice(l.buffer.byteOffset,l.buffer.byteOffset+l.buffer.byteLength);r.port1.postMessage(c,[c])}}}}}function b(s){return new Promise(r=>{const a=s.onMessage(d=>{a.dispose();const l=JSON.parse(d.toString());s.send((0,_.createMessageOfType)(0)),r({protocol:s,initData:l})});s.send((0,_.createMessageOfType)(1))})}let E=s=>y();function g(s){return!!s&&typeof s=="object"&&s.type==="vscode.init"&&s.data instanceof Map}function w(){S.mark("code/extHost/willConnectToRenderer");const s=new u;return{onmessage(r){!g(r)||b(s.protocol).then(a=>{S.mark("code/extHost/didWaitForInitData");const d=new M.ExtensionHostMain(a.protocol,a.initData,o,null,r.data);i(l=>d.asBrowserUri(l)),E=l=>d.terminate(l)})}}}e.create=w})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/d2c422ca15f1fbc976eed3e02e3392bbb39c5824/core/vs\workbench\api\worker\extensionHostWorker.js.map
